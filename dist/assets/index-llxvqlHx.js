(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function t(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerPolicy&&(a.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?a.credentials="include":r.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(r){if(r.ep)return;r.ep=!0;const a=t(r);fetch(r.href,a)}})();function rb(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Rm={exports:{}},Tu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nx;function $I(){if(Nx)return Tu;Nx=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,r,a){var u=null;if(a!==void 0&&(u=""+a),r.key!==void 0&&(u=""+r.key),"key"in r){a={};for(var d in r)d!=="key"&&(a[d]=r[d])}else a=r;return r=a.ref,{$$typeof:n,type:i,key:u,ref:r!==void 0?r:null,props:a}}return Tu.Fragment=e,Tu.jsx=t,Tu.jsxs=t,Tu}var Rx;function JI(){return Rx||(Rx=1,Rm.exports=$I()),Rm.exports}var m=JI(),Mm={exports:{}},Ve={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mx;function KI(){if(Mx)return Ve;Mx=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),E=Symbol.for("react.activity"),T=Symbol.iterator;function A(O){return O===null||typeof O!="object"?null:(O=T&&O[T]||O["@@iterator"],typeof O=="function"?O:null)}var M={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},V=Object.assign,w={};function z(O,Y,ue){this.props=O,this.context=Y,this.refs=w,this.updater=ue||M}z.prototype.isReactComponent={},z.prototype.setState=function(O,Y){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,Y,"setState")},z.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function G(){}G.prototype=z.prototype;function q(O,Y,ue){this.props=O,this.context=Y,this.refs=w,this.updater=ue||M}var W=q.prototype=new G;W.constructor=q,V(W,z.prototype),W.isPureReactComponent=!0;var B=Array.isArray;function ae(){}var U={H:null,A:null,T:null,S:null},L=Object.prototype.hasOwnProperty;function P(O,Y,ue){var ge=ue.ref;return{$$typeof:n,type:O,key:Y,ref:ge!==void 0?ge:null,props:ue}}function I(O,Y){return P(O.type,Y,O.props)}function N(O){return typeof O=="object"&&O!==null&&O.$$typeof===n}function D(O){var Y={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(ue){return Y[ue]})}var F=/\/+/g;function ve(O,Y){return typeof O=="object"&&O!==null&&O.key!=null?D(""+O.key):Y.toString(36)}function Ee(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(ae,ae):(O.status="pending",O.then(function(Y){O.status==="pending"&&(O.status="fulfilled",O.value=Y)},function(Y){O.status==="pending"&&(O.status="rejected",O.reason=Y)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function ne(O,Y,ue,ge,De){var Oe=typeof O;(Oe==="undefined"||Oe==="boolean")&&(O=null);var Ge=!1;if(O===null)Ge=!0;else switch(Oe){case"bigint":case"string":case"number":Ge=!0;break;case"object":switch(O.$$typeof){case n:case e:Ge=!0;break;case v:return Ge=O._init,ne(Ge(O._payload),Y,ue,ge,De)}}if(Ge)return De=De(O),Ge=ge===""?"."+ve(O,0):ge,B(De)?(ue="",Ge!=null&&(ue=Ge.replace(F,"$&/")+"/"),ne(De,Y,ue,"",function(di){return di})):De!=null&&(N(De)&&(De=I(De,ue+(De.key==null||O&&O.key===De.key?"":(""+De.key).replace(F,"$&/")+"/")+Ge)),Y.push(De)),1;Ge=0;var It=ge===""?".":ge+":";if(B(O))for(var rt=0;rt<O.length;rt++)ge=O[rt],Oe=It+ve(ge,rt),Ge+=ne(ge,Y,ue,Oe,De);else if(rt=A(O),typeof rt=="function")for(O=rt.call(O),rt=0;!(ge=O.next()).done;)ge=ge.value,Oe=It+ve(ge,rt++),Ge+=ne(ge,Y,ue,Oe,De);else if(Oe==="object"){if(typeof O.then=="function")return ne(Ee(O),Y,ue,ge,De);throw Y=String(O),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return Ge}function pe(O,Y,ue){if(O==null)return O;var ge=[],De=0;return ne(O,ge,"","",function(Oe){return Y.call(ue,Oe,De++)}),ge}function fe(O){if(O._status===-1){var Y=O._result;Y=Y(),Y.then(function(ue){(O._status===0||O._status===-1)&&(O._status=1,O._result=ue)},function(ue){(O._status===0||O._status===-1)&&(O._status=2,O._result=ue)}),O._status===-1&&(O._status=0,O._result=Y)}if(O._status===1)return O._result.default;throw O._result}var Ce=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},He={map:pe,forEach:function(O,Y,ue){pe(O,function(){Y.apply(this,arguments)},ue)},count:function(O){var Y=0;return pe(O,function(){Y++}),Y},toArray:function(O){return pe(O,function(Y){return Y})||[]},only:function(O){if(!N(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return Ve.Activity=E,Ve.Children=He,Ve.Component=z,Ve.Fragment=t,Ve.Profiler=r,Ve.PureComponent=q,Ve.StrictMode=i,Ve.Suspense=p,Ve.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=U,Ve.__COMPILER_RUNTIME={__proto__:null,c:function(O){return U.H.useMemoCache(O)}},Ve.cache=function(O){return function(){return O.apply(null,arguments)}},Ve.cacheSignal=function(){return null},Ve.cloneElement=function(O,Y,ue){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var ge=V({},O.props),De=O.key;if(Y!=null)for(Oe in Y.key!==void 0&&(De=""+Y.key),Y)!L.call(Y,Oe)||Oe==="key"||Oe==="__self"||Oe==="__source"||Oe==="ref"&&Y.ref===void 0||(ge[Oe]=Y[Oe]);var Oe=arguments.length-2;if(Oe===1)ge.children=ue;else if(1<Oe){for(var Ge=Array(Oe),It=0;It<Oe;It++)Ge[It]=arguments[It+2];ge.children=Ge}return P(O.type,De,ge)},Ve.createContext=function(O){return O={$$typeof:u,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:a,_context:O},O},Ve.createElement=function(O,Y,ue){var ge,De={},Oe=null;if(Y!=null)for(ge in Y.key!==void 0&&(Oe=""+Y.key),Y)L.call(Y,ge)&&ge!=="key"&&ge!=="__self"&&ge!=="__source"&&(De[ge]=Y[ge]);var Ge=arguments.length-2;if(Ge===1)De.children=ue;else if(1<Ge){for(var It=Array(Ge),rt=0;rt<Ge;rt++)It[rt]=arguments[rt+2];De.children=It}if(O&&O.defaultProps)for(ge in Ge=O.defaultProps,Ge)De[ge]===void 0&&(De[ge]=Ge[ge]);return P(O,Oe,De)},Ve.createRef=function(){return{current:null}},Ve.forwardRef=function(O){return{$$typeof:d,render:O}},Ve.isValidElement=N,Ve.lazy=function(O){return{$$typeof:v,_payload:{_status:-1,_result:O},_init:fe}},Ve.memo=function(O,Y){return{$$typeof:h,type:O,compare:Y===void 0?null:Y}},Ve.startTransition=function(O){var Y=U.T,ue={};U.T=ue;try{var ge=O(),De=U.S;De!==null&&De(ue,ge),typeof ge=="object"&&ge!==null&&typeof ge.then=="function"&&ge.then(ae,Ce)}catch(Oe){Ce(Oe)}finally{Y!==null&&ue.types!==null&&(Y.types=ue.types),U.T=Y}},Ve.unstable_useCacheRefresh=function(){return U.H.useCacheRefresh()},Ve.use=function(O){return U.H.use(O)},Ve.useActionState=function(O,Y,ue){return U.H.useActionState(O,Y,ue)},Ve.useCallback=function(O,Y){return U.H.useCallback(O,Y)},Ve.useContext=function(O){return U.H.useContext(O)},Ve.useDebugValue=function(){},Ve.useDeferredValue=function(O,Y){return U.H.useDeferredValue(O,Y)},Ve.useEffect=function(O,Y){return U.H.useEffect(O,Y)},Ve.useEffectEvent=function(O){return U.H.useEffectEvent(O)},Ve.useId=function(){return U.H.useId()},Ve.useImperativeHandle=function(O,Y,ue){return U.H.useImperativeHandle(O,Y,ue)},Ve.useInsertionEffect=function(O,Y){return U.H.useInsertionEffect(O,Y)},Ve.useLayoutEffect=function(O,Y){return U.H.useLayoutEffect(O,Y)},Ve.useMemo=function(O,Y){return U.H.useMemo(O,Y)},Ve.useOptimistic=function(O,Y){return U.H.useOptimistic(O,Y)},Ve.useReducer=function(O,Y,ue){return U.H.useReducer(O,Y,ue)},Ve.useRef=function(O){return U.H.useRef(O)},Ve.useState=function(O){return U.H.useState(O)},Ve.useSyncExternalStore=function(O,Y,ue){return U.H.useSyncExternalStore(O,Y,ue)},Ve.useTransition=function(){return U.H.useTransition()},Ve.version="19.2.4",Ve}var Dx;function Wg(){return Dx||(Dx=1,Mm.exports=KI()),Mm.exports}var j=Wg();const YI=rb(j);var Dm={exports:{}},Su={},km={exports:{}},Pm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kx;function WI(){return kx||(kx=1,(function(n){function e(ne,pe){var fe=ne.length;ne.push(pe);e:for(;0<fe;){var Ce=fe-1>>>1,He=ne[Ce];if(0<r(He,pe))ne[Ce]=pe,ne[fe]=He,fe=Ce;else break e}}function t(ne){return ne.length===0?null:ne[0]}function i(ne){if(ne.length===0)return null;var pe=ne[0],fe=ne.pop();if(fe!==pe){ne[0]=fe;e:for(var Ce=0,He=ne.length,O=He>>>1;Ce<O;){var Y=2*(Ce+1)-1,ue=ne[Y],ge=Y+1,De=ne[ge];if(0>r(ue,fe))ge<He&&0>r(De,ue)?(ne[Ce]=De,ne[ge]=fe,Ce=ge):(ne[Ce]=ue,ne[Y]=fe,Ce=Y);else if(ge<He&&0>r(De,fe))ne[Ce]=De,ne[ge]=fe,Ce=ge;else break e}}return pe}function r(ne,pe){var fe=ne.sortIndex-pe.sortIndex;return fe!==0?fe:ne.id-pe.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var u=Date,d=u.now();n.unstable_now=function(){return u.now()-d}}var p=[],h=[],v=1,E=null,T=3,A=!1,M=!1,V=!1,w=!1,z=typeof setTimeout=="function"?setTimeout:null,G=typeof clearTimeout=="function"?clearTimeout:null,q=typeof setImmediate<"u"?setImmediate:null;function W(ne){for(var pe=t(h);pe!==null;){if(pe.callback===null)i(h);else if(pe.startTime<=ne)i(h),pe.sortIndex=pe.expirationTime,e(p,pe);else break;pe=t(h)}}function B(ne){if(V=!1,W(ne),!M)if(t(p)!==null)M=!0,ae||(ae=!0,D());else{var pe=t(h);pe!==null&&Ee(B,pe.startTime-ne)}}var ae=!1,U=-1,L=5,P=-1;function I(){return w?!0:!(n.unstable_now()-P<L)}function N(){if(w=!1,ae){var ne=n.unstable_now();P=ne;var pe=!0;try{e:{M=!1,V&&(V=!1,G(U),U=-1),A=!0;var fe=T;try{t:{for(W(ne),E=t(p);E!==null&&!(E.expirationTime>ne&&I());){var Ce=E.callback;if(typeof Ce=="function"){E.callback=null,T=E.priorityLevel;var He=Ce(E.expirationTime<=ne);if(ne=n.unstable_now(),typeof He=="function"){E.callback=He,W(ne),pe=!0;break t}E===t(p)&&i(p),W(ne)}else i(p);E=t(p)}if(E!==null)pe=!0;else{var O=t(h);O!==null&&Ee(B,O.startTime-ne),pe=!1}}break e}finally{E=null,T=fe,A=!1}pe=void 0}}finally{pe?D():ae=!1}}}var D;if(typeof q=="function")D=function(){q(N)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,ve=F.port2;F.port1.onmessage=N,D=function(){ve.postMessage(null)}}else D=function(){z(N,0)};function Ee(ne,pe){U=z(function(){ne(n.unstable_now())},pe)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(ne){ne.callback=null},n.unstable_forceFrameRate=function(ne){0>ne||125<ne?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<ne?Math.floor(1e3/ne):5},n.unstable_getCurrentPriorityLevel=function(){return T},n.unstable_next=function(ne){switch(T){case 1:case 2:case 3:var pe=3;break;default:pe=T}var fe=T;T=pe;try{return ne()}finally{T=fe}},n.unstable_requestPaint=function(){w=!0},n.unstable_runWithPriority=function(ne,pe){switch(ne){case 1:case 2:case 3:case 4:case 5:break;default:ne=3}var fe=T;T=ne;try{return pe()}finally{T=fe}},n.unstable_scheduleCallback=function(ne,pe,fe){var Ce=n.unstable_now();switch(typeof fe=="object"&&fe!==null?(fe=fe.delay,fe=typeof fe=="number"&&0<fe?Ce+fe:Ce):fe=Ce,ne){case 1:var He=-1;break;case 2:He=250;break;case 5:He=1073741823;break;case 4:He=1e4;break;default:He=5e3}return He=fe+He,ne={id:v++,callback:pe,priorityLevel:ne,startTime:fe,expirationTime:He,sortIndex:-1},fe>Ce?(ne.sortIndex=fe,e(h,ne),t(p)===null&&ne===t(h)&&(V?(G(U),U=-1):V=!0,Ee(B,fe-Ce))):(ne.sortIndex=He,e(p,ne),M||A||(M=!0,ae||(ae=!0,D()))),ne},n.unstable_shouldYield=I,n.unstable_wrapCallback=function(ne){var pe=T;return function(){var fe=T;T=pe;try{return ne.apply(this,arguments)}finally{T=fe}}}})(Pm)),Pm}var Px;function QI(){return Px||(Px=1,km.exports=WI()),km.exports}var Lm={exports:{}},pn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lx;function XI(){if(Lx)return pn;Lx=1;var n=Wg();function e(p){var h="https://react.dev/errors/"+p;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)h+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+p+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},r=Symbol.for("react.portal");function a(p,h,v){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:E==null?null:""+E,children:p,containerInfo:h,implementation:v}}var u=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(p,h){if(p==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return pn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,pn.createPortal=function(p,h){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return a(p,h,null,v)},pn.flushSync=function(p){var h=u.T,v=i.p;try{if(u.T=null,i.p=2,p)return p()}finally{u.T=h,i.p=v,i.d.f()}},pn.preconnect=function(p,h){typeof p=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,i.d.C(p,h))},pn.prefetchDNS=function(p){typeof p=="string"&&i.d.D(p)},pn.preinit=function(p,h){if(typeof p=="string"&&h&&typeof h.as=="string"){var v=h.as,E=d(v,h.crossOrigin),T=typeof h.integrity=="string"?h.integrity:void 0,A=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;v==="style"?i.d.S(p,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:E,integrity:T,fetchPriority:A}):v==="script"&&i.d.X(p,{crossOrigin:E,integrity:T,fetchPriority:A,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},pn.preinitModule=function(p,h){if(typeof p=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var v=d(h.as,h.crossOrigin);i.d.M(p,{crossOrigin:v,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&i.d.M(p)},pn.preload=function(p,h){if(typeof p=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var v=h.as,E=d(v,h.crossOrigin);i.d.L(p,v,{crossOrigin:E,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},pn.preloadModule=function(p,h){if(typeof p=="string")if(h){var v=d(h.as,h.crossOrigin);i.d.m(p,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:v,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else i.d.m(p)},pn.requestFormReset=function(p){i.d.r(p)},pn.unstable_batchedUpdates=function(p,h){return p(h)},pn.useFormState=function(p,h,v){return u.H.useFormState(p,h,v)},pn.useFormStatus=function(){return u.H.useHostTransitionStatus()},pn.version="19.2.4",pn}var Vx;function ZI(){if(Vx)return Lm.exports;Vx=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Lm.exports=XI(),Lm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ux;function eN(){if(Ux)return Su;Ux=1;var n=QI(),e=Wg(),t=ZI();function i(s){var o="https://react.dev/errors/"+s;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)o+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+s+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function a(s){var o=s,l=s;if(s.alternate)for(;o.return;)o=o.return;else{s=o;do o=s,(o.flags&4098)!==0&&(l=o.return),s=o.return;while(s)}return o.tag===3?l:null}function u(s){if(s.tag===13){var o=s.memoizedState;if(o===null&&(s=s.alternate,s!==null&&(o=s.memoizedState)),o!==null)return o.dehydrated}return null}function d(s){if(s.tag===31){var o=s.memoizedState;if(o===null&&(s=s.alternate,s!==null&&(o=s.memoizedState)),o!==null)return o.dehydrated}return null}function p(s){if(a(s)!==s)throw Error(i(188))}function h(s){var o=s.alternate;if(!o){if(o=a(s),o===null)throw Error(i(188));return o!==s?null:s}for(var l=s,c=o;;){var _=l.return;if(_===null)break;var x=_.alternate;if(x===null){if(c=_.return,c!==null){l=c;continue}break}if(_.child===x.child){for(x=_.child;x;){if(x===l)return p(_),s;if(x===c)return p(_),o;x=x.sibling}throw Error(i(188))}if(l.return!==c.return)l=_,c=x;else{for(var b=!1,R=_.child;R;){if(R===l){b=!0,l=_,c=x;break}if(R===c){b=!0,c=_,l=x;break}R=R.sibling}if(!b){for(R=x.child;R;){if(R===l){b=!0,l=x,c=_;break}if(R===c){b=!0,c=x,l=_;break}R=R.sibling}if(!b)throw Error(i(189))}}if(l.alternate!==c)throw Error(i(190))}if(l.tag!==3)throw Error(i(188));return l.stateNode.current===l?s:o}function v(s){var o=s.tag;if(o===5||o===26||o===27||o===6)return s;for(s=s.child;s!==null;){if(o=v(s),o!==null)return o;s=s.sibling}return null}var E=Object.assign,T=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),M=Symbol.for("react.portal"),V=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),z=Symbol.for("react.profiler"),G=Symbol.for("react.consumer"),q=Symbol.for("react.context"),W=Symbol.for("react.forward_ref"),B=Symbol.for("react.suspense"),ae=Symbol.for("react.suspense_list"),U=Symbol.for("react.memo"),L=Symbol.for("react.lazy"),P=Symbol.for("react.activity"),I=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function D(s){return s===null||typeof s!="object"?null:(s=N&&s[N]||s["@@iterator"],typeof s=="function"?s:null)}var F=Symbol.for("react.client.reference");function ve(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===F?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case V:return"Fragment";case z:return"Profiler";case w:return"StrictMode";case B:return"Suspense";case ae:return"SuspenseList";case P:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case M:return"Portal";case q:return s.displayName||"Context";case G:return(s._context.displayName||"Context")+".Consumer";case W:var o=s.render;return s=s.displayName,s||(s=o.displayName||o.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case U:return o=s.displayName||null,o!==null?o:ve(s.type)||"Memo";case L:o=s._payload,s=s._init;try{return ve(s(o))}catch{}}return null}var Ee=Array.isArray,ne=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pe=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fe={pending:!1,data:null,method:null,action:null},Ce=[],He=-1;function O(s){return{current:s}}function Y(s){0>He||(s.current=Ce[He],Ce[He]=null,He--)}function ue(s,o){He++,Ce[He]=s.current,s.current=o}var ge=O(null),De=O(null),Oe=O(null),Ge=O(null);function It(s,o){switch(ue(Oe,o),ue(De,s),ue(ge,null),o.nodeType){case 9:case 11:s=(s=o.documentElement)&&(s=s.namespaceURI)?X_(s):0;break;default:if(s=o.tagName,o=o.namespaceURI)o=X_(o),s=Z_(o,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}Y(ge),ue(ge,s)}function rt(){Y(ge),Y(De),Y(Oe)}function di(s){s.memoizedState!==null&&ue(Ge,s);var o=ge.current,l=Z_(o,s.type);o!==l&&(ue(De,s),ue(ge,l))}function Hs(s){De.current===s&&(Y(ge),Y(De)),Ge.current===s&&(Y(Ge),vu._currentValue=fe)}var K,he;function _e(s){if(K===void 0)try{throw Error()}catch(l){var o=l.stack.trim().match(/\n( *(at )?)/);K=o&&o[1]||"",he=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+K+s+he}var at=!1;function Kt(s,o){if(!s||at)return"";at=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(o){var le=function(){throw Error()};if(Object.defineProperty(le.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(le,[])}catch(se){var ee=se}Reflect.construct(s,[],le)}else{try{le.call()}catch(se){ee=se}s.call(le.prototype)}}else{try{throw Error()}catch(se){ee=se}(le=s())&&typeof le.catch=="function"&&le.catch(function(){})}}catch(se){if(se&&ee&&typeof se.stack=="string")return[se.stack,ee.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var _=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");_&&_.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var x=c.DetermineComponentFrameRoot(),b=x[0],R=x[1];if(b&&R){var H=b.split(`
`),Z=R.split(`
`);for(_=c=0;c<H.length&&!H[c].includes("DetermineComponentFrameRoot");)c++;for(;_<Z.length&&!Z[_].includes("DetermineComponentFrameRoot");)_++;if(c===H.length||_===Z.length)for(c=H.length-1,_=Z.length-1;1<=c&&0<=_&&H[c]!==Z[_];)_--;for(;1<=c&&0<=_;c--,_--)if(H[c]!==Z[_]){if(c!==1||_!==1)do if(c--,_--,0>_||H[c]!==Z[_]){var re=`
`+H[c].replace(" at new "," at ");return s.displayName&&re.includes("<anonymous>")&&(re=re.replace("<anonymous>",s.displayName)),re}while(1<=c&&0<=_);break}}}finally{at=!1,Error.prepareStackTrace=l}return(l=s?s.displayName||s.name:"")?_e(l):""}function ze(s,o){switch(s.tag){case 26:case 27:case 5:return _e(s.type);case 16:return _e("Lazy");case 13:return s.child!==o&&o!==null?_e("Suspense Fallback"):_e("Suspense");case 19:return _e("SuspenseList");case 0:case 15:return Kt(s.type,!1);case 11:return Kt(s.type.render,!1);case 1:return Kt(s.type,!0);case 31:return _e("Activity");default:return""}}function xl(s){try{var o="",l=null;do o+=ze(s,l),l=s,s=s.return;while(s);return o}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var Pt=Object.prototype.hasOwnProperty,Yt=n.unstable_scheduleCallback,Gs=n.unstable_cancelCallback,Dh=n.unstable_shouldYield,yc=n.unstable_requestPaint,xn=n.unstable_now,Qr=n.unstable_getCurrentPriorityLevel,El=n.unstable_ImmediatePriority,Tl=n.unstable_UserBlockingPriority,Bs=n.unstable_NormalPriority,kh=n.unstable_LowPriority,vc=n.unstable_IdlePriority,_c=n.log,xc=n.unstable_setDisableYieldValue,fi=null,rn=null;function Bn(s){if(typeof _c=="function"&&xc(s),rn&&typeof rn.setStrictMode=="function")try{rn.setStrictMode(fi,s)}catch{}}var Nt=Math.clz32?Math.clz32:Tc,Ec=Math.log,$o=Math.LN2;function Tc(s){return s>>>=0,s===0?32:31-(Ec(s)/$o|0)|0}var Li=256,Xr=262144,Lt=4194304;function Vi(s){var o=s&42;if(o!==0)return o;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function Ui(s,o,l){var c=s.pendingLanes;if(c===0)return 0;var _=0,x=s.suspendedLanes,b=s.pingedLanes;s=s.warmLanes;var R=c&134217727;return R!==0?(c=R&~x,c!==0?_=Vi(c):(b&=R,b!==0?_=Vi(b):l||(l=R&~s,l!==0&&(_=Vi(l))))):(R=c&~x,R!==0?_=Vi(R):b!==0?_=Vi(b):l||(l=c&~s,l!==0&&(_=Vi(l)))),_===0?0:o!==0&&o!==_&&(o&x)===0&&(x=_&-_,l=o&-o,x>=l||x===32&&(l&4194048)!==0)?o:_}function hi(s,o){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&o)===0}function Ph(s,o){switch(s){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Sc(){var s=Lt;return Lt<<=1,(Lt&62914560)===0&&(Lt=4194304),s}function Oi(s){for(var o=[],l=0;31>l;l++)o.push(s);return o}function Zr(s,o){s.pendingLanes|=o,o!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function Lh(s,o,l,c,_,x){var b=s.pendingLanes;s.pendingLanes=l,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=l,s.entangledLanes&=l,s.errorRecoveryDisabledLanes&=l,s.shellSuspendCounter=0;var R=s.entanglements,H=s.expirationTimes,Z=s.hiddenUpdates;for(l=b&~l;0<l;){var re=31-Nt(l),le=1<<re;R[re]=0,H[re]=-1;var ee=Z[re];if(ee!==null)for(Z[re]=null,re=0;re<ee.length;re++){var se=ee[re];se!==null&&(se.lane&=-536870913)}l&=~le}c!==0&&eo(s,c,0),x!==0&&_===0&&s.tag!==0&&(s.suspendedLanes|=x&~(b&~o))}function eo(s,o,l){s.pendingLanes|=o,s.suspendedLanes&=~o;var c=31-Nt(o);s.entangledLanes|=o,s.entanglements[c]=s.entanglements[c]|1073741824|l&261930}function Sl(s,o){var l=s.entangledLanes|=o;for(s=s.entanglements;l;){var c=31-Nt(l),_=1<<c;_&o|s[c]&o&&(s[c]|=o),l&=~_}}function bl(s,o){var l=o&-o;return l=(l&42)!==0?1:to(l),(l&(s.suspendedLanes|o))!==0?0:l}function to(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function ds(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function bc(){var s=pe.p;return s!==0?s:(s=window.event,s===void 0?32:Tx(s.type))}function pi(s,o){var l=pe.p;try{return pe.p=s,o()}finally{pe.p=l}}var mi=Math.random().toString(36).slice(2),Vt="__reactFiber$"+mi,Zt="__reactProps$"+mi,zi="__reactContainer$"+mi,Jo="__reactEvents$"+mi,Vh="__reactListeners$"+mi,Ac="__reactHandles$"+mi,Cc="__reactResources$"+mi,Fi="__reactMarker$"+mi;function Ko(s){delete s[Vt],delete s[Zt],delete s[Jo],delete s[Vh],delete s[Ac]}function ji(s){var o=s[Vt];if(o)return o;for(var l=s.parentNode;l;){if(o=l[zi]||l[Vt]){if(l=o.alternate,o.child!==null||l!==null&&l.child!==null)for(s=ox(s);s!==null;){if(l=s[Vt])return l;s=ox(s)}return o}s=l,l=s.parentNode}return null}function $n(s){if(s=s[Vt]||s[zi]){var o=s.tag;if(o===5||o===6||o===13||o===31||o===26||o===27||o===3)return s}return null}function Pn(s){var o=s.tag;if(o===5||o===26||o===27||o===6)return s.stateNode;throw Error(i(33))}function qi(s){var o=s[Cc];return o||(o=s[Cc]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function Ut(s){s[Fi]=!0}var Al=new Set,Cl={};function Hi(s,o){Gi(s,o),Gi(s+"Capture",o)}function Gi(s,o){for(Cl[s]=o,s=0;s<o.length;s++)Al.add(o[s])}var wl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Il={},Nl={};function wc(s){return Pt.call(Nl,s)?!0:Pt.call(Il,s)?!1:wl.test(s)?Nl[s]=!0:(Il[s]=!0,!1)}function Yo(s,o,l){if(wc(o))if(l===null)s.removeAttribute(o);else{switch(typeof l){case"undefined":case"function":case"symbol":s.removeAttribute(o);return;case"boolean":var c=o.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){s.removeAttribute(o);return}}s.setAttribute(o,""+l)}}function Ln(s,o,l){if(l===null)s.removeAttribute(o);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(o);return}s.setAttribute(o,""+l)}}function Ot(s,o,l,c){if(c===null)s.removeAttribute(l);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(l);return}s.setAttributeNS(o,l,""+c)}}function en(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function $s(s){var o=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Rl(s,o,l){var c=Object.getOwnPropertyDescriptor(s.constructor.prototype,o);if(!s.hasOwnProperty(o)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var _=c.get,x=c.set;return Object.defineProperty(s,o,{configurable:!0,get:function(){return _.call(this)},set:function(b){l=""+b,x.call(this,b)}}),Object.defineProperty(s,o,{enumerable:c.enumerable}),{getValue:function(){return l},setValue:function(b){l=""+b},stopTracking:function(){s._valueTracker=null,delete s[o]}}}}function lt(s){if(!s._valueTracker){var o=$s(s)?"checked":"value";s._valueTracker=Rl(s,o,""+s[o])}}function no(s){if(!s)return!1;var o=s._valueTracker;if(!o)return!0;var l=o.getValue(),c="";return s&&(c=$s(s)?s.checked?"true":"false":s.value),s=c,s!==l?(o.setValue(s),!0):!1}function Bi(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var io=/[\n"\\]/g;function An(s){return s.replace(io,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function Wo(s,o,l,c,_,x,b,R){s.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?s.type=b:s.removeAttribute("type"),o!=null?b==="number"?(o===0&&s.value===""||s.value!=o)&&(s.value=""+en(o)):s.value!==""+en(o)&&(s.value=""+en(o)):b!=="submit"&&b!=="reset"||s.removeAttribute("value"),o!=null?Ml(s,b,en(o)):l!=null?Ml(s,b,en(l)):c!=null&&s.removeAttribute("value"),_==null&&x!=null&&(s.defaultChecked=!!x),_!=null&&(s.checked=_&&typeof _!="function"&&typeof _!="symbol"),R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?s.name=""+en(R):s.removeAttribute("name")}function Ic(s,o,l,c,_,x,b,R){if(x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(s.type=x),o!=null||l!=null){if(!(x!=="submit"&&x!=="reset"||o!=null)){lt(s);return}l=l!=null?""+en(l):"",o=o!=null?""+en(o):l,R||o===s.value||(s.value=o),s.defaultValue=o}c=c??_,c=typeof c!="function"&&typeof c!="symbol"&&!!c,s.checked=R?s.checked:!!c,s.defaultChecked=!!c,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(s.name=b),lt(s)}function Ml(s,o,l){o==="number"&&Bi(s.ownerDocument)===s||s.defaultValue===""+l||(s.defaultValue=""+l)}function Js(s,o,l,c){if(s=s.options,o){o={};for(var _=0;_<l.length;_++)o["$"+l[_]]=!0;for(l=0;l<s.length;l++)_=o.hasOwnProperty("$"+s[l].value),s[l].selected!==_&&(s[l].selected=_),_&&c&&(s[l].defaultSelected=!0)}else{for(l=""+en(l),o=null,_=0;_<s.length;_++){if(s[_].value===l){s[_].selected=!0,c&&(s[_].defaultSelected=!0);return}o!==null||s[_].disabled||(o=s[_])}o!==null&&(o.selected=!0)}}function Nc(s,o,l){if(o!=null&&(o=""+en(o),o!==s.value&&(s.value=o),l==null)){s.defaultValue!==o&&(s.defaultValue=o);return}s.defaultValue=l!=null?""+en(l):""}function Ks(s,o,l,c){if(o==null){if(c!=null){if(l!=null)throw Error(i(92));if(Ee(c)){if(1<c.length)throw Error(i(93));c=c[0]}l=c}l==null&&(l=""),o=l}l=en(o),s.defaultValue=l,c=s.textContent,c===l&&c!==""&&c!==null&&(s.value=c),lt(s)}function Cn(s,o){if(o){var l=s.firstChild;if(l&&l===s.lastChild&&l.nodeType===3){l.nodeValue=o;return}}s.textContent=o}var Rc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Dl(s,o,l){var c=o.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?c?s.setProperty(o,""):o==="float"?s.cssFloat="":s[o]="":c?s.setProperty(o,l):typeof l!="number"||l===0||Rc.has(o)?o==="float"?s.cssFloat=l:s[o]=(""+l).trim():s[o]=l+"px"}function kl(s,o,l){if(o!=null&&typeof o!="object")throw Error(i(62));if(s=s.style,l!=null){for(var c in l)!l.hasOwnProperty(c)||o!=null&&o.hasOwnProperty(c)||(c.indexOf("--")===0?s.setProperty(c,""):c==="float"?s.cssFloat="":s[c]="");for(var _ in o)c=o[_],o.hasOwnProperty(_)&&l[_]!==c&&Dl(s,_,c)}else for(var x in o)o.hasOwnProperty(x)&&Dl(s,x,o[x])}function Qo(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Mc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ys=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Xo(s){return Ys.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function gi(){}var Pl=null;function Jn(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Ws=null,$i=null;function so(s){var o=$n(s);if(o&&(s=o.stateNode)){var l=s[Zt]||null;e:switch(s=o.stateNode,o.type){case"input":if(Wo(s,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),o=l.name,l.type==="radio"&&o!=null){for(l=s;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+An(""+o)+'"][type="radio"]'),o=0;o<l.length;o++){var c=l[o];if(c!==s&&c.form===s.form){var _=c[Zt]||null;if(!_)throw Error(i(90));Wo(c,_.value,_.defaultValue,_.defaultValue,_.checked,_.defaultChecked,_.type,_.name)}}for(o=0;o<l.length;o++)c=l[o],c.form===s.form&&no(c)}break e;case"textarea":Nc(s,l.value,l.defaultValue);break e;case"select":o=l.value,o!=null&&Js(s,!!l.multiple,o,!1)}}}var Zo=!1;function Qs(s,o,l){if(Zo)return s(o,l);Zo=!0;try{var c=s(o);return c}finally{if(Zo=!1,(Ws!==null||$i!==null)&&(bd(),Ws&&(o=Ws,s=$i,$i=Ws=null,so(o),s)))for(o=0;o<s.length;o++)so(s[o])}}function yi(s,o){var l=s.stateNode;if(l===null)return null;var c=l[Zt]||null;if(c===null)return null;l=c[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(s=s.type,c=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!c;break e;default:s=!1}if(s)return null;if(l&&typeof l!="function")throw Error(i(231,o,typeof l));return l}var Kn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ro=!1;if(Kn)try{var dt={};Object.defineProperty(dt,"passive",{get:function(){ro=!0}}),window.addEventListener("test",dt,dt),window.removeEventListener("test",dt,dt)}catch{ro=!1}var Ji=null,Ll=null,oo=null;function Vl(){if(oo)return oo;var s,o=Ll,l=o.length,c,_="value"in Ji?Ji.value:Ji.textContent,x=_.length;for(s=0;s<l&&o[s]===_[s];s++);var b=l-s;for(c=1;c<=b&&o[l-c]===_[x-c];c++);return oo=_.slice(s,1<c?1-c:void 0)}function ao(s){var o=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&o===13&&(s=13)):s=o,s===10&&(s=13),32<=s||s===13?s:0}function fs(){return!0}function vi(){return!1}function on(s){function o(l,c,_,x,b){this._reactName=l,this._targetInst=_,this.type=c,this.nativeEvent=x,this.target=b,this.currentTarget=null;for(var R in s)s.hasOwnProperty(R)&&(l=s[R],this[R]=l?l(x):x[R]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?fs:vi,this.isPropagationStopped=vi,this}return E(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=fs)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=fs)},persist:function(){},isPersistent:fs}),o}var hs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ki=on(hs),Xs=E({},hs,{view:0,detail:0}),Ul=on(Xs),Zs,ea,Yi,ta=E({},Xs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:er,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Yi&&(Yi&&s.type==="mousemove"?(Zs=s.screenX-Yi.screenX,ea=s.screenY-Yi.screenY):ea=Zs=0,Yi=s),Zs)},movementY:function(s){return"movementY"in s?s.movementY:ea}}),Ol=on(ta),lo=E({},ta,{dataTransfer:0}),Dc=on(lo),kc=E({},Xs,{relatedTarget:0}),uo=on(kc),zl=E({},hs,{animationName:0,elapsedTime:0,pseudoElement:0}),Pc=on(zl),na=E({},hs,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Lc=on(na),Vc=E({},hs,{data:0}),Wi=on(Vc),Uc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Oc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Fc(s){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(s):(s=zc[s])?!!o[s]:!1}function er(){return Fc}var En=E({},Xs,{key:function(s){if(s.key){var o=Uc[s.key]||s.key;if(o!=="Unidentified")return o}return s.type==="keypress"?(s=ao(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Oc[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:er,charCode:function(s){return s.type==="keypress"?ao(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?ao(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),jc=on(En),qc=E({},ta,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ps=on(qc),y=E({},Xs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:er}),S=on(y),C=E({},hs,{propertyName:0,elapsedTime:0,pseudoElement:0}),k=on(C),Q=E({},ta,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),ie=on(Q),me=E({},hs,{newState:0,oldState:0}),Fe=on(me),Rt=[9,13,27,32],it=Kn&&"CompositionEvent"in window,xt=null;Kn&&"documentMode"in document&&(xt=document.documentMode);var Yn=Kn&&"TextEvent"in window&&!xt,Qi=Kn&&(!it||xt&&8<xt&&11>=xt),_i=" ",xi=!1;function co(s,o){switch(s){case"keyup":return Rt.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ia(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var sa=!1;function gw(s,o){switch(s){case"compositionend":return ia(o);case"keypress":return o.which!==32?null:(xi=!0,_i);case"textInput":return s=o.data,s===_i&&xi?null:s;default:return null}}function yw(s,o){if(sa)return s==="compositionend"||!it&&co(s,o)?(s=Vl(),oo=Ll=Ji=null,sa=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Qi&&o.locale!=="ko"?null:o.data;default:return null}}var vw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function u0(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o==="input"?!!vw[s.type]:o==="textarea"}function c0(s,o,l,c){Ws?$i?$i.push(c):$i=[c]:Ws=c,o=Md(o,"onChange"),0<o.length&&(l=new Ki("onChange","change",null,l,c),s.push({event:l,listeners:o}))}var Fl=null,jl=null;function _w(s){$_(s,0)}function Hc(s){var o=Pn(s);if(no(o))return s}function d0(s,o){if(s==="change")return o}var f0=!1;if(Kn){var Uh;if(Kn){var Oh="oninput"in document;if(!Oh){var h0=document.createElement("div");h0.setAttribute("oninput","return;"),Oh=typeof h0.oninput=="function"}Uh=Oh}else Uh=!1;f0=Uh&&(!document.documentMode||9<document.documentMode)}function p0(){Fl&&(Fl.detachEvent("onpropertychange",m0),jl=Fl=null)}function m0(s){if(s.propertyName==="value"&&Hc(jl)){var o=[];c0(o,jl,s,Jn(s)),Qs(_w,o)}}function xw(s,o,l){s==="focusin"?(p0(),Fl=o,jl=l,Fl.attachEvent("onpropertychange",m0)):s==="focusout"&&p0()}function Ew(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Hc(jl)}function Tw(s,o){if(s==="click")return Hc(o)}function Sw(s,o){if(s==="input"||s==="change")return Hc(o)}function bw(s,o){return s===o&&(s!==0||1/s===1/o)||s!==s&&o!==o}var Vn=typeof Object.is=="function"?Object.is:bw;function ql(s,o){if(Vn(s,o))return!0;if(typeof s!="object"||s===null||typeof o!="object"||o===null)return!1;var l=Object.keys(s),c=Object.keys(o);if(l.length!==c.length)return!1;for(c=0;c<l.length;c++){var _=l[c];if(!Pt.call(o,_)||!Vn(s[_],o[_]))return!1}return!0}function g0(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function y0(s,o){var l=g0(s);s=0;for(var c;l;){if(l.nodeType===3){if(c=s+l.textContent.length,s<=o&&c>=o)return{node:l,offset:o-s};s=c}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=g0(l)}}function v0(s,o){return s&&o?s===o?!0:s&&s.nodeType===3?!1:o&&o.nodeType===3?v0(s,o.parentNode):"contains"in s?s.contains(o):s.compareDocumentPosition?!!(s.compareDocumentPosition(o)&16):!1:!1}function _0(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var o=Bi(s.document);o instanceof s.HTMLIFrameElement;){try{var l=typeof o.contentWindow.location.href=="string"}catch{l=!1}if(l)s=o.contentWindow;else break;o=Bi(s.document)}return o}function zh(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o&&(o==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||o==="textarea"||s.contentEditable==="true")}var Aw=Kn&&"documentMode"in document&&11>=document.documentMode,ra=null,Fh=null,Hl=null,jh=!1;function x0(s,o,l){var c=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;jh||ra==null||ra!==Bi(c)||(c=ra,"selectionStart"in c&&zh(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Hl&&ql(Hl,c)||(Hl=c,c=Md(Fh,"onSelect"),0<c.length&&(o=new Ki("onSelect","select",null,o,l),s.push({event:o,listeners:c}),o.target=ra)))}function fo(s,o){var l={};return l[s.toLowerCase()]=o.toLowerCase(),l["Webkit"+s]="webkit"+o,l["Moz"+s]="moz"+o,l}var oa={animationend:fo("Animation","AnimationEnd"),animationiteration:fo("Animation","AnimationIteration"),animationstart:fo("Animation","AnimationStart"),transitionrun:fo("Transition","TransitionRun"),transitionstart:fo("Transition","TransitionStart"),transitioncancel:fo("Transition","TransitionCancel"),transitionend:fo("Transition","TransitionEnd")},qh={},E0={};Kn&&(E0=document.createElement("div").style,"AnimationEvent"in window||(delete oa.animationend.animation,delete oa.animationiteration.animation,delete oa.animationstart.animation),"TransitionEvent"in window||delete oa.transitionend.transition);function ho(s){if(qh[s])return qh[s];if(!oa[s])return s;var o=oa[s],l;for(l in o)if(o.hasOwnProperty(l)&&l in E0)return qh[s]=o[l];return s}var T0=ho("animationend"),S0=ho("animationiteration"),b0=ho("animationstart"),Cw=ho("transitionrun"),ww=ho("transitionstart"),Iw=ho("transitioncancel"),A0=ho("transitionend"),C0=new Map,Hh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Hh.push("scrollEnd");function Ei(s,o){C0.set(s,o),Hi(o,[s])}var Gc=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},Wn=[],aa=0,Gh=0;function Bc(){for(var s=aa,o=Gh=aa=0;o<s;){var l=Wn[o];Wn[o++]=null;var c=Wn[o];Wn[o++]=null;var _=Wn[o];Wn[o++]=null;var x=Wn[o];if(Wn[o++]=null,c!==null&&_!==null){var b=c.pending;b===null?_.next=_:(_.next=b.next,b.next=_),c.pending=_}x!==0&&w0(l,_,x)}}function $c(s,o,l,c){Wn[aa++]=s,Wn[aa++]=o,Wn[aa++]=l,Wn[aa++]=c,Gh|=c,s.lanes|=c,s=s.alternate,s!==null&&(s.lanes|=c)}function Bh(s,o,l,c){return $c(s,o,l,c),Jc(s)}function po(s,o){return $c(s,null,null,o),Jc(s)}function w0(s,o,l){s.lanes|=l;var c=s.alternate;c!==null&&(c.lanes|=l);for(var _=!1,x=s.return;x!==null;)x.childLanes|=l,c=x.alternate,c!==null&&(c.childLanes|=l),x.tag===22&&(s=x.stateNode,s===null||s._visibility&1||(_=!0)),s=x,x=x.return;return s.tag===3?(x=s.stateNode,_&&o!==null&&(_=31-Nt(l),s=x.hiddenUpdates,c=s[_],c===null?s[_]=[o]:c.push(o),o.lane=l|536870912),x):null}function Jc(s){if(50<du)throw du=0,em=null,Error(i(185));for(var o=s.return;o!==null;)s=o,o=s.return;return s.tag===3?s.stateNode:null}var la={};function Nw(s,o,l,c){this.tag=s,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Un(s,o,l,c){return new Nw(s,o,l,c)}function $h(s){return s=s.prototype,!(!s||!s.isReactComponent)}function ms(s,o){var l=s.alternate;return l===null?(l=Un(s.tag,o,s.key,s.mode),l.elementType=s.elementType,l.type=s.type,l.stateNode=s.stateNode,l.alternate=s,s.alternate=l):(l.pendingProps=o,l.type=s.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=s.flags&65011712,l.childLanes=s.childLanes,l.lanes=s.lanes,l.child=s.child,l.memoizedProps=s.memoizedProps,l.memoizedState=s.memoizedState,l.updateQueue=s.updateQueue,o=s.dependencies,l.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},l.sibling=s.sibling,l.index=s.index,l.ref=s.ref,l.refCleanup=s.refCleanup,l}function I0(s,o){s.flags&=65011714;var l=s.alternate;return l===null?(s.childLanes=0,s.lanes=o,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,o=l.dependencies,s.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),s}function Kc(s,o,l,c,_,x){var b=0;if(c=s,typeof s=="function")$h(s)&&(b=1);else if(typeof s=="string")b=PI(s,l,ge.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case P:return s=Un(31,l,o,_),s.elementType=P,s.lanes=x,s;case V:return mo(l.children,_,x,o);case w:b=8,_|=24;break;case z:return s=Un(12,l,o,_|2),s.elementType=z,s.lanes=x,s;case B:return s=Un(13,l,o,_),s.elementType=B,s.lanes=x,s;case ae:return s=Un(19,l,o,_),s.elementType=ae,s.lanes=x,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case q:b=10;break e;case G:b=9;break e;case W:b=11;break e;case U:b=14;break e;case L:b=16,c=null;break e}b=29,l=Error(i(130,s===null?"null":typeof s,"")),c=null}return o=Un(b,l,o,_),o.elementType=s,o.type=c,o.lanes=x,o}function mo(s,o,l,c){return s=Un(7,s,c,o),s.lanes=l,s}function Jh(s,o,l){return s=Un(6,s,null,o),s.lanes=l,s}function N0(s){var o=Un(18,null,null,0);return o.stateNode=s,o}function Kh(s,o,l){return o=Un(4,s.children!==null?s.children:[],s.key,o),o.lanes=l,o.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},o}var R0=new WeakMap;function Qn(s,o){if(typeof s=="object"&&s!==null){var l=R0.get(s);return l!==void 0?l:(o={value:s,source:o,stack:xl(o)},R0.set(s,o),o)}return{value:s,source:o,stack:xl(o)}}var ua=[],ca=0,Yc=null,Gl=0,Xn=[],Zn=0,tr=null,Xi=1,Zi="";function gs(s,o){ua[ca++]=Gl,ua[ca++]=Yc,Yc=s,Gl=o}function M0(s,o,l){Xn[Zn++]=Xi,Xn[Zn++]=Zi,Xn[Zn++]=tr,tr=s;var c=Xi;s=Zi;var _=32-Nt(c)-1;c&=~(1<<_),l+=1;var x=32-Nt(o)+_;if(30<x){var b=_-_%5;x=(c&(1<<b)-1).toString(32),c>>=b,_-=b,Xi=1<<32-Nt(o)+_|l<<_|c,Zi=x+s}else Xi=1<<x|l<<_|c,Zi=s}function Yh(s){s.return!==null&&(gs(s,1),M0(s,1,0))}function Wh(s){for(;s===Yc;)Yc=ua[--ca],ua[ca]=null,Gl=ua[--ca],ua[ca]=null;for(;s===tr;)tr=Xn[--Zn],Xn[Zn]=null,Zi=Xn[--Zn],Xn[Zn]=null,Xi=Xn[--Zn],Xn[Zn]=null}function D0(s,o){Xn[Zn++]=Xi,Xn[Zn++]=Zi,Xn[Zn++]=tr,Xi=o.id,Zi=o.overflow,tr=s}var an=null,yt=null,Xe=!1,nr=null,ei=!1,Qh=Error(i(519));function ir(s){var o=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Bl(Qn(o,s)),Qh}function k0(s){var o=s.stateNode,l=s.type,c=s.memoizedProps;switch(o[Vt]=s,o[Zt]=c,l){case"dialog":$e("cancel",o),$e("close",o);break;case"iframe":case"object":case"embed":$e("load",o);break;case"video":case"audio":for(l=0;l<hu.length;l++)$e(hu[l],o);break;case"source":$e("error",o);break;case"img":case"image":case"link":$e("error",o),$e("load",o);break;case"details":$e("toggle",o);break;case"input":$e("invalid",o),Ic(o,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":$e("invalid",o);break;case"textarea":$e("invalid",o),Ks(o,c.value,c.defaultValue,c.children)}l=c.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||o.textContent===""+l||c.suppressHydrationWarning===!0||W_(o.textContent,l)?(c.popover!=null&&($e("beforetoggle",o),$e("toggle",o)),c.onScroll!=null&&$e("scroll",o),c.onScrollEnd!=null&&$e("scrollend",o),c.onClick!=null&&(o.onclick=gi),o=!0):o=!1,o||ir(s,!0)}function P0(s){for(an=s.return;an;)switch(an.tag){case 5:case 31:case 13:ei=!1;return;case 27:case 3:ei=!0;return;default:an=an.return}}function da(s){if(s!==an)return!1;if(!Xe)return P0(s),Xe=!0,!1;var o=s.tag,l;if((l=o!==3&&o!==27)&&((l=o===5)&&(l=s.type,l=!(l!=="form"&&l!=="button")||mm(s.type,s.memoizedProps)),l=!l),l&&yt&&ir(s),P0(s),o===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));yt=rx(s)}else if(o===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));yt=rx(s)}else o===27?(o=yt,yr(s.type)?(s=xm,xm=null,yt=s):yt=o):yt=an?ni(s.stateNode.nextSibling):null;return!0}function go(){yt=an=null,Xe=!1}function Xh(){var s=nr;return s!==null&&(Rn===null?Rn=s:Rn.push.apply(Rn,s),nr=null),s}function Bl(s){nr===null?nr=[s]:nr.push(s)}var Zh=O(null),yo=null,ys=null;function sr(s,o,l){ue(Zh,o._currentValue),o._currentValue=l}function vs(s){s._currentValue=Zh.current,Y(Zh)}function ep(s,o,l){for(;s!==null;){var c=s.alternate;if((s.childLanes&o)!==o?(s.childLanes|=o,c!==null&&(c.childLanes|=o)):c!==null&&(c.childLanes&o)!==o&&(c.childLanes|=o),s===l)break;s=s.return}}function tp(s,o,l,c){var _=s.child;for(_!==null&&(_.return=s);_!==null;){var x=_.dependencies;if(x!==null){var b=_.child;x=x.firstContext;e:for(;x!==null;){var R=x;x=_;for(var H=0;H<o.length;H++)if(R.context===o[H]){x.lanes|=l,R=x.alternate,R!==null&&(R.lanes|=l),ep(x.return,l,s),c||(b=null);break e}x=R.next}}else if(_.tag===18){if(b=_.return,b===null)throw Error(i(341));b.lanes|=l,x=b.alternate,x!==null&&(x.lanes|=l),ep(b,l,s),b=null}else b=_.child;if(b!==null)b.return=_;else for(b=_;b!==null;){if(b===s){b=null;break}if(_=b.sibling,_!==null){_.return=b.return,b=_;break}b=b.return}_=b}}function fa(s,o,l,c){s=null;for(var _=o,x=!1;_!==null;){if(!x){if((_.flags&524288)!==0)x=!0;else if((_.flags&262144)!==0)break}if(_.tag===10){var b=_.alternate;if(b===null)throw Error(i(387));if(b=b.memoizedProps,b!==null){var R=_.type;Vn(_.pendingProps.value,b.value)||(s!==null?s.push(R):s=[R])}}else if(_===Ge.current){if(b=_.alternate,b===null)throw Error(i(387));b.memoizedState.memoizedState!==_.memoizedState.memoizedState&&(s!==null?s.push(vu):s=[vu])}_=_.return}s!==null&&tp(o,s,l,c),o.flags|=262144}function Wc(s){for(s=s.firstContext;s!==null;){if(!Vn(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function vo(s){yo=s,ys=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function ln(s){return L0(yo,s)}function Qc(s,o){return yo===null&&vo(s),L0(s,o)}function L0(s,o){var l=o._currentValue;if(o={context:o,memoizedValue:l,next:null},ys===null){if(s===null)throw Error(i(308));ys=o,s.dependencies={lanes:0,firstContext:o},s.flags|=524288}else ys=ys.next=o;return l}var Rw=typeof AbortController<"u"?AbortController:function(){var s=[],o=this.signal={aborted:!1,addEventListener:function(l,c){s.push(c)}};this.abort=function(){o.aborted=!0,s.forEach(function(l){return l()})}},Mw=n.unstable_scheduleCallback,Dw=n.unstable_NormalPriority,zt={$$typeof:q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function np(){return{controller:new Rw,data:new Map,refCount:0}}function $l(s){s.refCount--,s.refCount===0&&Mw(Dw,function(){s.controller.abort()})}var Jl=null,ip=0,ha=0,pa=null;function kw(s,o){if(Jl===null){var l=Jl=[];ip=0,ha=om(),pa={status:"pending",value:void 0,then:function(c){l.push(c)}}}return ip++,o.then(V0,V0),o}function V0(){if(--ip===0&&Jl!==null){pa!==null&&(pa.status="fulfilled");var s=Jl;Jl=null,ha=0,pa=null;for(var o=0;o<s.length;o++)(0,s[o])()}}function Pw(s,o){var l=[],c={status:"pending",value:null,reason:null,then:function(_){l.push(_)}};return s.then(function(){c.status="fulfilled",c.value=o;for(var _=0;_<l.length;_++)(0,l[_])(o)},function(_){for(c.status="rejected",c.reason=_,_=0;_<l.length;_++)(0,l[_])(void 0)}),c}var U0=ne.S;ne.S=function(s,o){x_=xn(),typeof o=="object"&&o!==null&&typeof o.then=="function"&&kw(s,o),U0!==null&&U0(s,o)};var _o=O(null);function sp(){var s=_o.current;return s!==null?s:mt.pooledCache}function Xc(s,o){o===null?ue(_o,_o.current):ue(_o,o.pool)}function O0(){var s=sp();return s===null?null:{parent:zt._currentValue,pool:s}}var ma=Error(i(460)),rp=Error(i(474)),Zc=Error(i(542)),ed={then:function(){}};function z0(s){return s=s.status,s==="fulfilled"||s==="rejected"}function F0(s,o,l){switch(l=s[l],l===void 0?s.push(o):l!==o&&(o.then(gi,gi),o=l),o.status){case"fulfilled":return o.value;case"rejected":throw s=o.reason,q0(s),s;default:if(typeof o.status=="string")o.then(gi,gi);else{if(s=mt,s!==null&&100<s.shellSuspendCounter)throw Error(i(482));s=o,s.status="pending",s.then(function(c){if(o.status==="pending"){var _=o;_.status="fulfilled",_.value=c}},function(c){if(o.status==="pending"){var _=o;_.status="rejected",_.reason=c}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw s=o.reason,q0(s),s}throw Eo=o,ma}}function xo(s){try{var o=s._init;return o(s._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(Eo=l,ma):l}}var Eo=null;function j0(){if(Eo===null)throw Error(i(459));var s=Eo;return Eo=null,s}function q0(s){if(s===ma||s===Zc)throw Error(i(483))}var ga=null,Kl=0;function td(s){var o=Kl;return Kl+=1,ga===null&&(ga=[]),F0(ga,s,o)}function Yl(s,o){o=o.props.ref,s.ref=o!==void 0?o:null}function nd(s,o){throw o.$$typeof===T?Error(i(525)):(s=Object.prototype.toString.call(o),Error(i(31,s==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":s)))}function H0(s){function o(J,$){if(s){var X=J.deletions;X===null?(J.deletions=[$],J.flags|=16):X.push($)}}function l(J,$){if(!s)return null;for(;$!==null;)o(J,$),$=$.sibling;return null}function c(J){for(var $=new Map;J!==null;)J.key!==null?$.set(J.key,J):$.set(J.index,J),J=J.sibling;return $}function _(J,$){return J=ms(J,$),J.index=0,J.sibling=null,J}function x(J,$,X){return J.index=X,s?(X=J.alternate,X!==null?(X=X.index,X<$?(J.flags|=67108866,$):X):(J.flags|=67108866,$)):(J.flags|=1048576,$)}function b(J){return s&&J.alternate===null&&(J.flags|=67108866),J}function R(J,$,X,oe){return $===null||$.tag!==6?($=Jh(X,J.mode,oe),$.return=J,$):($=_($,X),$.return=J,$)}function H(J,$,X,oe){var we=X.type;return we===V?re(J,$,X.props.children,oe,X.key):$!==null&&($.elementType===we||typeof we=="object"&&we!==null&&we.$$typeof===L&&xo(we)===$.type)?($=_($,X.props),Yl($,X),$.return=J,$):($=Kc(X.type,X.key,X.props,null,J.mode,oe),Yl($,X),$.return=J,$)}function Z(J,$,X,oe){return $===null||$.tag!==4||$.stateNode.containerInfo!==X.containerInfo||$.stateNode.implementation!==X.implementation?($=Kh(X,J.mode,oe),$.return=J,$):($=_($,X.children||[]),$.return=J,$)}function re(J,$,X,oe,we){return $===null||$.tag!==7?($=mo(X,J.mode,oe,we),$.return=J,$):($=_($,X),$.return=J,$)}function le(J,$,X){if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return $=Jh(""+$,J.mode,X),$.return=J,$;if(typeof $=="object"&&$!==null){switch($.$$typeof){case A:return X=Kc($.type,$.key,$.props,null,J.mode,X),Yl(X,$),X.return=J,X;case M:return $=Kh($,J.mode,X),$.return=J,$;case L:return $=xo($),le(J,$,X)}if(Ee($)||D($))return $=mo($,J.mode,X,null),$.return=J,$;if(typeof $.then=="function")return le(J,td($),X);if($.$$typeof===q)return le(J,Qc(J,$),X);nd(J,$)}return null}function ee(J,$,X,oe){var we=$!==null?$.key:null;if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return we!==null?null:R(J,$,""+X,oe);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case A:return X.key===we?H(J,$,X,oe):null;case M:return X.key===we?Z(J,$,X,oe):null;case L:return X=xo(X),ee(J,$,X,oe)}if(Ee(X)||D(X))return we!==null?null:re(J,$,X,oe,null);if(typeof X.then=="function")return ee(J,$,td(X),oe);if(X.$$typeof===q)return ee(J,$,Qc(J,X),oe);nd(J,X)}return null}function se(J,$,X,oe,we){if(typeof oe=="string"&&oe!==""||typeof oe=="number"||typeof oe=="bigint")return J=J.get(X)||null,R($,J,""+oe,we);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case A:return J=J.get(oe.key===null?X:oe.key)||null,H($,J,oe,we);case M:return J=J.get(oe.key===null?X:oe.key)||null,Z($,J,oe,we);case L:return oe=xo(oe),se(J,$,X,oe,we)}if(Ee(oe)||D(oe))return J=J.get(X)||null,re($,J,oe,we,null);if(typeof oe.then=="function")return se(J,$,X,td(oe),we);if(oe.$$typeof===q)return se(J,$,X,Qc($,oe),we);nd($,oe)}return null}function be(J,$,X,oe){for(var we=null,et=null,Ae=$,qe=$=0,Ke=null;Ae!==null&&qe<X.length;qe++){Ae.index>qe?(Ke=Ae,Ae=null):Ke=Ae.sibling;var tt=ee(J,Ae,X[qe],oe);if(tt===null){Ae===null&&(Ae=Ke);break}s&&Ae&&tt.alternate===null&&o(J,Ae),$=x(tt,$,qe),et===null?we=tt:et.sibling=tt,et=tt,Ae=Ke}if(qe===X.length)return l(J,Ae),Xe&&gs(J,qe),we;if(Ae===null){for(;qe<X.length;qe++)Ae=le(J,X[qe],oe),Ae!==null&&($=x(Ae,$,qe),et===null?we=Ae:et.sibling=Ae,et=Ae);return Xe&&gs(J,qe),we}for(Ae=c(Ae);qe<X.length;qe++)Ke=se(Ae,J,qe,X[qe],oe),Ke!==null&&(s&&Ke.alternate!==null&&Ae.delete(Ke.key===null?qe:Ke.key),$=x(Ke,$,qe),et===null?we=Ke:et.sibling=Ke,et=Ke);return s&&Ae.forEach(function(Tr){return o(J,Tr)}),Xe&&gs(J,qe),we}function Ne(J,$,X,oe){if(X==null)throw Error(i(151));for(var we=null,et=null,Ae=$,qe=$=0,Ke=null,tt=X.next();Ae!==null&&!tt.done;qe++,tt=X.next()){Ae.index>qe?(Ke=Ae,Ae=null):Ke=Ae.sibling;var Tr=ee(J,Ae,tt.value,oe);if(Tr===null){Ae===null&&(Ae=Ke);break}s&&Ae&&Tr.alternate===null&&o(J,Ae),$=x(Tr,$,qe),et===null?we=Tr:et.sibling=Tr,et=Tr,Ae=Ke}if(tt.done)return l(J,Ae),Xe&&gs(J,qe),we;if(Ae===null){for(;!tt.done;qe++,tt=X.next())tt=le(J,tt.value,oe),tt!==null&&($=x(tt,$,qe),et===null?we=tt:et.sibling=tt,et=tt);return Xe&&gs(J,qe),we}for(Ae=c(Ae);!tt.done;qe++,tt=X.next())tt=se(Ae,J,qe,tt.value,oe),tt!==null&&(s&&tt.alternate!==null&&Ae.delete(tt.key===null?qe:tt.key),$=x(tt,$,qe),et===null?we=tt:et.sibling=tt,et=tt);return s&&Ae.forEach(function(BI){return o(J,BI)}),Xe&&gs(J,qe),we}function pt(J,$,X,oe){if(typeof X=="object"&&X!==null&&X.type===V&&X.key===null&&(X=X.props.children),typeof X=="object"&&X!==null){switch(X.$$typeof){case A:e:{for(var we=X.key;$!==null;){if($.key===we){if(we=X.type,we===V){if($.tag===7){l(J,$.sibling),oe=_($,X.props.children),oe.return=J,J=oe;break e}}else if($.elementType===we||typeof we=="object"&&we!==null&&we.$$typeof===L&&xo(we)===$.type){l(J,$.sibling),oe=_($,X.props),Yl(oe,X),oe.return=J,J=oe;break e}l(J,$);break}else o(J,$);$=$.sibling}X.type===V?(oe=mo(X.props.children,J.mode,oe,X.key),oe.return=J,J=oe):(oe=Kc(X.type,X.key,X.props,null,J.mode,oe),Yl(oe,X),oe.return=J,J=oe)}return b(J);case M:e:{for(we=X.key;$!==null;){if($.key===we)if($.tag===4&&$.stateNode.containerInfo===X.containerInfo&&$.stateNode.implementation===X.implementation){l(J,$.sibling),oe=_($,X.children||[]),oe.return=J,J=oe;break e}else{l(J,$);break}else o(J,$);$=$.sibling}oe=Kh(X,J.mode,oe),oe.return=J,J=oe}return b(J);case L:return X=xo(X),pt(J,$,X,oe)}if(Ee(X))return be(J,$,X,oe);if(D(X)){if(we=D(X),typeof we!="function")throw Error(i(150));return X=we.call(X),Ne(J,$,X,oe)}if(typeof X.then=="function")return pt(J,$,td(X),oe);if(X.$$typeof===q)return pt(J,$,Qc(J,X),oe);nd(J,X)}return typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint"?(X=""+X,$!==null&&$.tag===6?(l(J,$.sibling),oe=_($,X),oe.return=J,J=oe):(l(J,$),oe=Jh(X,J.mode,oe),oe.return=J,J=oe),b(J)):l(J,$)}return function(J,$,X,oe){try{Kl=0;var we=pt(J,$,X,oe);return ga=null,we}catch(Ae){if(Ae===ma||Ae===Zc)throw Ae;var et=Un(29,Ae,null,J.mode);return et.lanes=oe,et.return=J,et}finally{}}}var To=H0(!0),G0=H0(!1),rr=!1;function op(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ap(s,o){s=s.updateQueue,o.updateQueue===s&&(o.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function or(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function ar(s,o,l){var c=s.updateQueue;if(c===null)return null;if(c=c.shared,(st&2)!==0){var _=c.pending;return _===null?o.next=o:(o.next=_.next,_.next=o),c.pending=o,o=Jc(s),w0(s,null,l),o}return $c(s,c,o,l),Jc(s)}function Wl(s,o,l){if(o=o.updateQueue,o!==null&&(o=o.shared,(l&4194048)!==0)){var c=o.lanes;c&=s.pendingLanes,l|=c,o.lanes=l,Sl(s,l)}}function lp(s,o){var l=s.updateQueue,c=s.alternate;if(c!==null&&(c=c.updateQueue,l===c)){var _=null,x=null;if(l=l.firstBaseUpdate,l!==null){do{var b={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};x===null?_=x=b:x=x.next=b,l=l.next}while(l!==null);x===null?_=x=o:x=x.next=o}else _=x=o;l={baseState:c.baseState,firstBaseUpdate:_,lastBaseUpdate:x,shared:c.shared,callbacks:c.callbacks},s.updateQueue=l;return}s=l.lastBaseUpdate,s===null?l.firstBaseUpdate=o:s.next=o,l.lastBaseUpdate=o}var up=!1;function Ql(){if(up){var s=pa;if(s!==null)throw s}}function Xl(s,o,l,c){up=!1;var _=s.updateQueue;rr=!1;var x=_.firstBaseUpdate,b=_.lastBaseUpdate,R=_.shared.pending;if(R!==null){_.shared.pending=null;var H=R,Z=H.next;H.next=null,b===null?x=Z:b.next=Z,b=H;var re=s.alternate;re!==null&&(re=re.updateQueue,R=re.lastBaseUpdate,R!==b&&(R===null?re.firstBaseUpdate=Z:R.next=Z,re.lastBaseUpdate=H))}if(x!==null){var le=_.baseState;b=0,re=Z=H=null,R=x;do{var ee=R.lane&-536870913,se=ee!==R.lane;if(se?(Je&ee)===ee:(c&ee)===ee){ee!==0&&ee===ha&&(up=!0),re!==null&&(re=re.next={lane:0,tag:R.tag,payload:R.payload,callback:null,next:null});e:{var be=s,Ne=R;ee=o;var pt=l;switch(Ne.tag){case 1:if(be=Ne.payload,typeof be=="function"){le=be.call(pt,le,ee);break e}le=be;break e;case 3:be.flags=be.flags&-65537|128;case 0:if(be=Ne.payload,ee=typeof be=="function"?be.call(pt,le,ee):be,ee==null)break e;le=E({},le,ee);break e;case 2:rr=!0}}ee=R.callback,ee!==null&&(s.flags|=64,se&&(s.flags|=8192),se=_.callbacks,se===null?_.callbacks=[ee]:se.push(ee))}else se={lane:ee,tag:R.tag,payload:R.payload,callback:R.callback,next:null},re===null?(Z=re=se,H=le):re=re.next=se,b|=ee;if(R=R.next,R===null){if(R=_.shared.pending,R===null)break;se=R,R=se.next,se.next=null,_.lastBaseUpdate=se,_.shared.pending=null}}while(!0);re===null&&(H=le),_.baseState=H,_.firstBaseUpdate=Z,_.lastBaseUpdate=re,x===null&&(_.shared.lanes=0),fr|=b,s.lanes=b,s.memoizedState=le}}function B0(s,o){if(typeof s!="function")throw Error(i(191,s));s.call(o)}function $0(s,o){var l=s.callbacks;if(l!==null)for(s.callbacks=null,s=0;s<l.length;s++)B0(l[s],o)}var ya=O(null),id=O(0);function J0(s,o){s=ws,ue(id,s),ue(ya,o),ws=s|o.baseLanes}function cp(){ue(id,ws),ue(ya,ya.current)}function dp(){ws=id.current,Y(ya),Y(id)}var On=O(null),ti=null;function lr(s){var o=s.alternate;ue(Mt,Mt.current&1),ue(On,s),ti===null&&(o===null||ya.current!==null||o.memoizedState!==null)&&(ti=s)}function fp(s){ue(Mt,Mt.current),ue(On,s),ti===null&&(ti=s)}function K0(s){s.tag===22?(ue(Mt,Mt.current),ue(On,s),ti===null&&(ti=s)):ur()}function ur(){ue(Mt,Mt.current),ue(On,On.current)}function zn(s){Y(On),ti===s&&(ti=null),Y(Mt)}var Mt=O(0);function sd(s){for(var o=s;o!==null;){if(o.tag===13){var l=o.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||vm(l)||_m(l)))return o}else if(o.tag===19&&(o.memoizedProps.revealOrder==="forwards"||o.memoizedProps.revealOrder==="backwards"||o.memoizedProps.revealOrder==="unstable_legacy-backwards"||o.memoizedProps.revealOrder==="together")){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var _s=0,je=null,ft=null,Ft=null,rd=!1,va=!1,So=!1,od=0,Zl=0,_a=null,Lw=0;function At(){throw Error(i(321))}function hp(s,o){if(o===null)return!1;for(var l=0;l<o.length&&l<s.length;l++)if(!Vn(s[l],o[l]))return!1;return!0}function pp(s,o,l,c,_,x){return _s=x,je=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,ne.H=s===null||s.memoizedState===null?Mv:Np,So=!1,x=l(c,_),So=!1,va&&(x=W0(o,l,c,_)),Y0(s),x}function Y0(s){ne.H=nu;var o=ft!==null&&ft.next!==null;if(_s=0,Ft=ft=je=null,rd=!1,Zl=0,_a=null,o)throw Error(i(300));s===null||jt||(s=s.dependencies,s!==null&&Wc(s)&&(jt=!0))}function W0(s,o,l,c){je=s;var _=0;do{if(va&&(_a=null),Zl=0,va=!1,25<=_)throw Error(i(301));if(_+=1,Ft=ft=null,s.updateQueue!=null){var x=s.updateQueue;x.lastEffect=null,x.events=null,x.stores=null,x.memoCache!=null&&(x.memoCache.index=0)}ne.H=Dv,x=o(l,c)}while(va);return x}function Vw(){var s=ne.H,o=s.useState()[0];return o=typeof o.then=="function"?eu(o):o,s=s.useState()[0],(ft!==null?ft.memoizedState:null)!==s&&(je.flags|=1024),o}function mp(){var s=od!==0;return od=0,s}function gp(s,o,l){o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~l}function yp(s){if(rd){for(s=s.memoizedState;s!==null;){var o=s.queue;o!==null&&(o.pending=null),s=s.next}rd=!1}_s=0,Ft=ft=je=null,va=!1,Zl=od=0,_a=null}function Tn(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ft===null?je.memoizedState=Ft=s:Ft=Ft.next=s,Ft}function Dt(){if(ft===null){var s=je.alternate;s=s!==null?s.memoizedState:null}else s=ft.next;var o=Ft===null?je.memoizedState:Ft.next;if(o!==null)Ft=o,ft=s;else{if(s===null)throw je.alternate===null?Error(i(467)):Error(i(310));ft=s,s={memoizedState:ft.memoizedState,baseState:ft.baseState,baseQueue:ft.baseQueue,queue:ft.queue,next:null},Ft===null?je.memoizedState=Ft=s:Ft=Ft.next=s}return Ft}function ad(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function eu(s){var o=Zl;return Zl+=1,_a===null&&(_a=[]),s=F0(_a,s,o),o=je,(Ft===null?o.memoizedState:Ft.next)===null&&(o=o.alternate,ne.H=o===null||o.memoizedState===null?Mv:Np),s}function ld(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return eu(s);if(s.$$typeof===q)return ln(s)}throw Error(i(438,String(s)))}function vp(s){var o=null,l=je.updateQueue;if(l!==null&&(o=l.memoCache),o==null){var c=je.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(o={data:c.data.map(function(_){return _.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),l===null&&(l=ad(),je.updateQueue=l),l.memoCache=o,l=o.data[o.index],l===void 0)for(l=o.data[o.index]=Array(s),c=0;c<s;c++)l[c]=I;return o.index++,l}function xs(s,o){return typeof o=="function"?o(s):o}function ud(s){var o=Dt();return _p(o,ft,s)}function _p(s,o,l){var c=s.queue;if(c===null)throw Error(i(311));c.lastRenderedReducer=l;var _=s.baseQueue,x=c.pending;if(x!==null){if(_!==null){var b=_.next;_.next=x.next,x.next=b}o.baseQueue=_=x,c.pending=null}if(x=s.baseState,_===null)s.memoizedState=x;else{o=_.next;var R=b=null,H=null,Z=o,re=!1;do{var le=Z.lane&-536870913;if(le!==Z.lane?(Je&le)===le:(_s&le)===le){var ee=Z.revertLane;if(ee===0)H!==null&&(H=H.next={lane:0,revertLane:0,gesture:null,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null}),le===ha&&(re=!0);else if((_s&ee)===ee){Z=Z.next,ee===ha&&(re=!0);continue}else le={lane:0,revertLane:Z.revertLane,gesture:null,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},H===null?(R=H=le,b=x):H=H.next=le,je.lanes|=ee,fr|=ee;le=Z.action,So&&l(x,le),x=Z.hasEagerState?Z.eagerState:l(x,le)}else ee={lane:le,revertLane:Z.revertLane,gesture:Z.gesture,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},H===null?(R=H=ee,b=x):H=H.next=ee,je.lanes|=le,fr|=le;Z=Z.next}while(Z!==null&&Z!==o);if(H===null?b=x:H.next=R,!Vn(x,s.memoizedState)&&(jt=!0,re&&(l=pa,l!==null)))throw l;s.memoizedState=x,s.baseState=b,s.baseQueue=H,c.lastRenderedState=x}return _===null&&(c.lanes=0),[s.memoizedState,c.dispatch]}function xp(s){var o=Dt(),l=o.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=s;var c=l.dispatch,_=l.pending,x=o.memoizedState;if(_!==null){l.pending=null;var b=_=_.next;do x=s(x,b.action),b=b.next;while(b!==_);Vn(x,o.memoizedState)||(jt=!0),o.memoizedState=x,o.baseQueue===null&&(o.baseState=x),l.lastRenderedState=x}return[x,c]}function Q0(s,o,l){var c=je,_=Dt(),x=Xe;if(x){if(l===void 0)throw Error(i(407));l=l()}else l=o();var b=!Vn((ft||_).memoizedState,l);if(b&&(_.memoizedState=l,jt=!0),_=_.queue,Sp(ev.bind(null,c,_,s),[s]),_.getSnapshot!==o||b||Ft!==null&&Ft.memoizedState.tag&1){if(c.flags|=2048,xa(9,{destroy:void 0},Z0.bind(null,c,_,l,o),null),mt===null)throw Error(i(349));x||(_s&127)!==0||X0(c,o,l)}return l}function X0(s,o,l){s.flags|=16384,s={getSnapshot:o,value:l},o=je.updateQueue,o===null?(o=ad(),je.updateQueue=o,o.stores=[s]):(l=o.stores,l===null?o.stores=[s]:l.push(s))}function Z0(s,o,l,c){o.value=l,o.getSnapshot=c,tv(o)&&nv(s)}function ev(s,o,l){return l(function(){tv(o)&&nv(s)})}function tv(s){var o=s.getSnapshot;s=s.value;try{var l=o();return!Vn(s,l)}catch{return!0}}function nv(s){var o=po(s,2);o!==null&&Mn(o,s,2)}function Ep(s){var o=Tn();if(typeof s=="function"){var l=s;if(s=l(),So){Bn(!0);try{l()}finally{Bn(!1)}}}return o.memoizedState=o.baseState=s,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:xs,lastRenderedState:s},o}function iv(s,o,l,c){return s.baseState=l,_p(s,ft,typeof c=="function"?c:xs)}function Uw(s,o,l,c,_){if(fd(s))throw Error(i(485));if(s=o.action,s!==null){var x={payload:_,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){x.listeners.push(b)}};ne.T!==null?l(!0):x.isTransition=!1,c(x),l=o.pending,l===null?(x.next=o.pending=x,sv(o,x)):(x.next=l.next,o.pending=l.next=x)}}function sv(s,o){var l=o.action,c=o.payload,_=s.state;if(o.isTransition){var x=ne.T,b={};ne.T=b;try{var R=l(_,c),H=ne.S;H!==null&&H(b,R),rv(s,o,R)}catch(Z){Tp(s,o,Z)}finally{x!==null&&b.types!==null&&(x.types=b.types),ne.T=x}}else try{x=l(_,c),rv(s,o,x)}catch(Z){Tp(s,o,Z)}}function rv(s,o,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(c){ov(s,o,c)},function(c){return Tp(s,o,c)}):ov(s,o,l)}function ov(s,o,l){o.status="fulfilled",o.value=l,av(o),s.state=l,o=s.pending,o!==null&&(l=o.next,l===o?s.pending=null:(l=l.next,o.next=l,sv(s,l)))}function Tp(s,o,l){var c=s.pending;if(s.pending=null,c!==null){c=c.next;do o.status="rejected",o.reason=l,av(o),o=o.next;while(o!==c)}s.action=null}function av(s){s=s.listeners;for(var o=0;o<s.length;o++)(0,s[o])()}function lv(s,o){return o}function uv(s,o){if(Xe){var l=mt.formState;if(l!==null){e:{var c=je;if(Xe){if(yt){t:{for(var _=yt,x=ei;_.nodeType!==8;){if(!x){_=null;break t}if(_=ni(_.nextSibling),_===null){_=null;break t}}x=_.data,_=x==="F!"||x==="F"?_:null}if(_){yt=ni(_.nextSibling),c=_.data==="F!";break e}}ir(c)}c=!1}c&&(o=l[0])}}return l=Tn(),l.memoizedState=l.baseState=o,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:lv,lastRenderedState:o},l.queue=c,l=Iv.bind(null,je,c),c.dispatch=l,c=Ep(!1),x=Ip.bind(null,je,!1,c.queue),c=Tn(),_={state:o,dispatch:null,action:s,pending:null},c.queue=_,l=Uw.bind(null,je,_,x,l),_.dispatch=l,c.memoizedState=s,[o,l,!1]}function cv(s){var o=Dt();return dv(o,ft,s)}function dv(s,o,l){if(o=_p(s,o,lv)[0],s=ud(xs)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var c=eu(o)}catch(b){throw b===ma?Zc:b}else c=o;o=Dt();var _=o.queue,x=_.dispatch;return l!==o.memoizedState&&(je.flags|=2048,xa(9,{destroy:void 0},Ow.bind(null,_,l),null)),[c,x,s]}function Ow(s,o){s.action=o}function fv(s){var o=Dt(),l=ft;if(l!==null)return dv(o,l,s);Dt(),o=o.memoizedState,l=Dt();var c=l.queue.dispatch;return l.memoizedState=s,[o,c,!1]}function xa(s,o,l,c){return s={tag:s,create:l,deps:c,inst:o,next:null},o=je.updateQueue,o===null&&(o=ad(),je.updateQueue=o),l=o.lastEffect,l===null?o.lastEffect=s.next=s:(c=l.next,l.next=s,s.next=c,o.lastEffect=s),s}function hv(){return Dt().memoizedState}function cd(s,o,l,c){var _=Tn();je.flags|=s,_.memoizedState=xa(1|o,{destroy:void 0},l,c===void 0?null:c)}function dd(s,o,l,c){var _=Dt();c=c===void 0?null:c;var x=_.memoizedState.inst;ft!==null&&c!==null&&hp(c,ft.memoizedState.deps)?_.memoizedState=xa(o,x,l,c):(je.flags|=s,_.memoizedState=xa(1|o,x,l,c))}function pv(s,o){cd(8390656,8,s,o)}function Sp(s,o){dd(2048,8,s,o)}function zw(s){je.flags|=4;var o=je.updateQueue;if(o===null)o=ad(),je.updateQueue=o,o.events=[s];else{var l=o.events;l===null?o.events=[s]:l.push(s)}}function mv(s){var o=Dt().memoizedState;return zw({ref:o,nextImpl:s}),function(){if((st&2)!==0)throw Error(i(440));return o.impl.apply(void 0,arguments)}}function gv(s,o){return dd(4,2,s,o)}function yv(s,o){return dd(4,4,s,o)}function vv(s,o){if(typeof o=="function"){s=s();var l=o(s);return function(){typeof l=="function"?l():o(null)}}if(o!=null)return s=s(),o.current=s,function(){o.current=null}}function _v(s,o,l){l=l!=null?l.concat([s]):null,dd(4,4,vv.bind(null,o,s),l)}function bp(){}function xv(s,o){var l=Dt();o=o===void 0?null:o;var c=l.memoizedState;return o!==null&&hp(o,c[1])?c[0]:(l.memoizedState=[s,o],s)}function Ev(s,o){var l=Dt();o=o===void 0?null:o;var c=l.memoizedState;if(o!==null&&hp(o,c[1]))return c[0];if(c=s(),So){Bn(!0);try{s()}finally{Bn(!1)}}return l.memoizedState=[c,o],c}function Ap(s,o,l){return l===void 0||(_s&1073741824)!==0&&(Je&261930)===0?s.memoizedState=o:(s.memoizedState=l,s=T_(),je.lanes|=s,fr|=s,l)}function Tv(s,o,l,c){return Vn(l,o)?l:ya.current!==null?(s=Ap(s,l,c),Vn(s,o)||(jt=!0),s):(_s&42)===0||(_s&1073741824)!==0&&(Je&261930)===0?(jt=!0,s.memoizedState=l):(s=T_(),je.lanes|=s,fr|=s,o)}function Sv(s,o,l,c,_){var x=pe.p;pe.p=x!==0&&8>x?x:8;var b=ne.T,R={};ne.T=R,Ip(s,!1,o,l);try{var H=_(),Z=ne.S;if(Z!==null&&Z(R,H),H!==null&&typeof H=="object"&&typeof H.then=="function"){var re=Pw(H,c);tu(s,o,re,qn(s))}else tu(s,o,c,qn(s))}catch(le){tu(s,o,{then:function(){},status:"rejected",reason:le},qn())}finally{pe.p=x,b!==null&&R.types!==null&&(b.types=R.types),ne.T=b}}function Fw(){}function Cp(s,o,l,c){if(s.tag!==5)throw Error(i(476));var _=bv(s).queue;Sv(s,_,o,fe,l===null?Fw:function(){return Av(s),l(c)})}function bv(s){var o=s.memoizedState;if(o!==null)return o;o={memoizedState:fe,baseState:fe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xs,lastRenderedState:fe},next:null};var l={};return o.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xs,lastRenderedState:l},next:null},s.memoizedState=o,s=s.alternate,s!==null&&(s.memoizedState=o),o}function Av(s){var o=bv(s);o.next===null&&(o=s.alternate.memoizedState),tu(s,o.next.queue,{},qn())}function wp(){return ln(vu)}function Cv(){return Dt().memoizedState}function wv(){return Dt().memoizedState}function jw(s){for(var o=s.return;o!==null;){switch(o.tag){case 24:case 3:var l=qn();s=or(l);var c=ar(o,s,l);c!==null&&(Mn(c,o,l),Wl(c,o,l)),o={cache:np()},s.payload=o;return}o=o.return}}function qw(s,o,l){var c=qn();l={lane:c,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},fd(s)?Nv(o,l):(l=Bh(s,o,l,c),l!==null&&(Mn(l,s,c),Rv(l,o,c)))}function Iv(s,o,l){var c=qn();tu(s,o,l,c)}function tu(s,o,l,c){var _={lane:c,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(fd(s))Nv(o,_);else{var x=s.alternate;if(s.lanes===0&&(x===null||x.lanes===0)&&(x=o.lastRenderedReducer,x!==null))try{var b=o.lastRenderedState,R=x(b,l);if(_.hasEagerState=!0,_.eagerState=R,Vn(R,b))return $c(s,o,_,0),mt===null&&Bc(),!1}catch{}finally{}if(l=Bh(s,o,_,c),l!==null)return Mn(l,s,c),Rv(l,o,c),!0}return!1}function Ip(s,o,l,c){if(c={lane:2,revertLane:om(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},fd(s)){if(o)throw Error(i(479))}else o=Bh(s,l,c,2),o!==null&&Mn(o,s,2)}function fd(s){var o=s.alternate;return s===je||o!==null&&o===je}function Nv(s,o){va=rd=!0;var l=s.pending;l===null?o.next=o:(o.next=l.next,l.next=o),s.pending=o}function Rv(s,o,l){if((l&4194048)!==0){var c=o.lanes;c&=s.pendingLanes,l|=c,o.lanes=l,Sl(s,l)}}var nu={readContext:ln,use:ld,useCallback:At,useContext:At,useEffect:At,useImperativeHandle:At,useLayoutEffect:At,useInsertionEffect:At,useMemo:At,useReducer:At,useRef:At,useState:At,useDebugValue:At,useDeferredValue:At,useTransition:At,useSyncExternalStore:At,useId:At,useHostTransitionStatus:At,useFormState:At,useActionState:At,useOptimistic:At,useMemoCache:At,useCacheRefresh:At};nu.useEffectEvent=At;var Mv={readContext:ln,use:ld,useCallback:function(s,o){return Tn().memoizedState=[s,o===void 0?null:o],s},useContext:ln,useEffect:pv,useImperativeHandle:function(s,o,l){l=l!=null?l.concat([s]):null,cd(4194308,4,vv.bind(null,o,s),l)},useLayoutEffect:function(s,o){return cd(4194308,4,s,o)},useInsertionEffect:function(s,o){cd(4,2,s,o)},useMemo:function(s,o){var l=Tn();o=o===void 0?null:o;var c=s();if(So){Bn(!0);try{s()}finally{Bn(!1)}}return l.memoizedState=[c,o],c},useReducer:function(s,o,l){var c=Tn();if(l!==void 0){var _=l(o);if(So){Bn(!0);try{l(o)}finally{Bn(!1)}}}else _=o;return c.memoizedState=c.baseState=_,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:_},c.queue=s,s=s.dispatch=qw.bind(null,je,s),[c.memoizedState,s]},useRef:function(s){var o=Tn();return s={current:s},o.memoizedState=s},useState:function(s){s=Ep(s);var o=s.queue,l=Iv.bind(null,je,o);return o.dispatch=l,[s.memoizedState,l]},useDebugValue:bp,useDeferredValue:function(s,o){var l=Tn();return Ap(l,s,o)},useTransition:function(){var s=Ep(!1);return s=Sv.bind(null,je,s.queue,!0,!1),Tn().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,o,l){var c=je,_=Tn();if(Xe){if(l===void 0)throw Error(i(407));l=l()}else{if(l=o(),mt===null)throw Error(i(349));(Je&127)!==0||X0(c,o,l)}_.memoizedState=l;var x={value:l,getSnapshot:o};return _.queue=x,pv(ev.bind(null,c,x,s),[s]),c.flags|=2048,xa(9,{destroy:void 0},Z0.bind(null,c,x,l,o),null),l},useId:function(){var s=Tn(),o=mt.identifierPrefix;if(Xe){var l=Zi,c=Xi;l=(c&~(1<<32-Nt(c)-1)).toString(32)+l,o="_"+o+"R_"+l,l=od++,0<l&&(o+="H"+l.toString(32)),o+="_"}else l=Lw++,o="_"+o+"r_"+l.toString(32)+"_";return s.memoizedState=o},useHostTransitionStatus:wp,useFormState:uv,useActionState:uv,useOptimistic:function(s){var o=Tn();o.memoizedState=o.baseState=s;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=l,o=Ip.bind(null,je,!0,l),l.dispatch=o,[s,o]},useMemoCache:vp,useCacheRefresh:function(){return Tn().memoizedState=jw.bind(null,je)},useEffectEvent:function(s){var o=Tn(),l={impl:s};return o.memoizedState=l,function(){if((st&2)!==0)throw Error(i(440));return l.impl.apply(void 0,arguments)}}},Np={readContext:ln,use:ld,useCallback:xv,useContext:ln,useEffect:Sp,useImperativeHandle:_v,useInsertionEffect:gv,useLayoutEffect:yv,useMemo:Ev,useReducer:ud,useRef:hv,useState:function(){return ud(xs)},useDebugValue:bp,useDeferredValue:function(s,o){var l=Dt();return Tv(l,ft.memoizedState,s,o)},useTransition:function(){var s=ud(xs)[0],o=Dt().memoizedState;return[typeof s=="boolean"?s:eu(s),o]},useSyncExternalStore:Q0,useId:Cv,useHostTransitionStatus:wp,useFormState:cv,useActionState:cv,useOptimistic:function(s,o){var l=Dt();return iv(l,ft,s,o)},useMemoCache:vp,useCacheRefresh:wv};Np.useEffectEvent=mv;var Dv={readContext:ln,use:ld,useCallback:xv,useContext:ln,useEffect:Sp,useImperativeHandle:_v,useInsertionEffect:gv,useLayoutEffect:yv,useMemo:Ev,useReducer:xp,useRef:hv,useState:function(){return xp(xs)},useDebugValue:bp,useDeferredValue:function(s,o){var l=Dt();return ft===null?Ap(l,s,o):Tv(l,ft.memoizedState,s,o)},useTransition:function(){var s=xp(xs)[0],o=Dt().memoizedState;return[typeof s=="boolean"?s:eu(s),o]},useSyncExternalStore:Q0,useId:Cv,useHostTransitionStatus:wp,useFormState:fv,useActionState:fv,useOptimistic:function(s,o){var l=Dt();return ft!==null?iv(l,ft,s,o):(l.baseState=s,[s,l.queue.dispatch])},useMemoCache:vp,useCacheRefresh:wv};Dv.useEffectEvent=mv;function Rp(s,o,l,c){o=s.memoizedState,l=l(c,o),l=l==null?o:E({},o,l),s.memoizedState=l,s.lanes===0&&(s.updateQueue.baseState=l)}var Mp={enqueueSetState:function(s,o,l){s=s._reactInternals;var c=qn(),_=or(c);_.payload=o,l!=null&&(_.callback=l),o=ar(s,_,c),o!==null&&(Mn(o,s,c),Wl(o,s,c))},enqueueReplaceState:function(s,o,l){s=s._reactInternals;var c=qn(),_=or(c);_.tag=1,_.payload=o,l!=null&&(_.callback=l),o=ar(s,_,c),o!==null&&(Mn(o,s,c),Wl(o,s,c))},enqueueForceUpdate:function(s,o){s=s._reactInternals;var l=qn(),c=or(l);c.tag=2,o!=null&&(c.callback=o),o=ar(s,c,l),o!==null&&(Mn(o,s,l),Wl(o,s,l))}};function kv(s,o,l,c,_,x,b){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(c,x,b):o.prototype&&o.prototype.isPureReactComponent?!ql(l,c)||!ql(_,x):!0}function Pv(s,o,l,c){s=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(l,c),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(l,c),o.state!==s&&Mp.enqueueReplaceState(o,o.state,null)}function bo(s,o){var l=o;if("ref"in o){l={};for(var c in o)c!=="ref"&&(l[c]=o[c])}if(s=s.defaultProps){l===o&&(l=E({},l));for(var _ in s)l[_]===void 0&&(l[_]=s[_])}return l}function Lv(s){Gc(s)}function Vv(s){console.error(s)}function Uv(s){Gc(s)}function hd(s,o){try{var l=s.onUncaughtError;l(o.value,{componentStack:o.stack})}catch(c){setTimeout(function(){throw c})}}function Ov(s,o,l){try{var c=s.onCaughtError;c(l.value,{componentStack:l.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(_){setTimeout(function(){throw _})}}function Dp(s,o,l){return l=or(l),l.tag=3,l.payload={element:null},l.callback=function(){hd(s,o)},l}function zv(s){return s=or(s),s.tag=3,s}function Fv(s,o,l,c){var _=l.type.getDerivedStateFromError;if(typeof _=="function"){var x=c.value;s.payload=function(){return _(x)},s.callback=function(){Ov(o,l,c)}}var b=l.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(s.callback=function(){Ov(o,l,c),typeof _!="function"&&(hr===null?hr=new Set([this]):hr.add(this));var R=c.stack;this.componentDidCatch(c.value,{componentStack:R!==null?R:""})})}function Hw(s,o,l,c,_){if(l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(o=l.alternate,o!==null&&fa(o,l,_,!0),l=On.current,l!==null){switch(l.tag){case 31:case 13:return ti===null?Ad():l.alternate===null&&Ct===0&&(Ct=3),l.flags&=-257,l.flags|=65536,l.lanes=_,c===ed?l.flags|=16384:(o=l.updateQueue,o===null?l.updateQueue=new Set([c]):o.add(c),im(s,c,_)),!1;case 22:return l.flags|=65536,c===ed?l.flags|=16384:(o=l.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([c])},l.updateQueue=o):(l=o.retryQueue,l===null?o.retryQueue=new Set([c]):l.add(c)),im(s,c,_)),!1}throw Error(i(435,l.tag))}return im(s,c,_),Ad(),!1}if(Xe)return o=On.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=_,c!==Qh&&(s=Error(i(422),{cause:c}),Bl(Qn(s,l)))):(c!==Qh&&(o=Error(i(423),{cause:c}),Bl(Qn(o,l))),s=s.current.alternate,s.flags|=65536,_&=-_,s.lanes|=_,c=Qn(c,l),_=Dp(s.stateNode,c,_),lp(s,_),Ct!==4&&(Ct=2)),!1;var x=Error(i(520),{cause:c});if(x=Qn(x,l),cu===null?cu=[x]:cu.push(x),Ct!==4&&(Ct=2),o===null)return!0;c=Qn(c,l),l=o;do{switch(l.tag){case 3:return l.flags|=65536,s=_&-_,l.lanes|=s,s=Dp(l.stateNode,c,s),lp(l,s),!1;case 1:if(o=l.type,x=l.stateNode,(l.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(hr===null||!hr.has(x))))return l.flags|=65536,_&=-_,l.lanes|=_,_=zv(_),Fv(_,s,l,c),lp(l,_),!1}l=l.return}while(l!==null);return!1}var kp=Error(i(461)),jt=!1;function un(s,o,l,c){o.child=s===null?G0(o,null,l,c):To(o,s.child,l,c)}function jv(s,o,l,c,_){l=l.render;var x=o.ref;if("ref"in c){var b={};for(var R in c)R!=="ref"&&(b[R]=c[R])}else b=c;return vo(o),c=pp(s,o,l,b,x,_),R=mp(),s!==null&&!jt?(gp(s,o,_),Es(s,o,_)):(Xe&&R&&Yh(o),o.flags|=1,un(s,o,c,_),o.child)}function qv(s,o,l,c,_){if(s===null){var x=l.type;return typeof x=="function"&&!$h(x)&&x.defaultProps===void 0&&l.compare===null?(o.tag=15,o.type=x,Hv(s,o,x,c,_)):(s=Kc(l.type,null,c,o,o.mode,_),s.ref=o.ref,s.return=o,o.child=s)}if(x=s.child,!jp(s,_)){var b=x.memoizedProps;if(l=l.compare,l=l!==null?l:ql,l(b,c)&&s.ref===o.ref)return Es(s,o,_)}return o.flags|=1,s=ms(x,c),s.ref=o.ref,s.return=o,o.child=s}function Hv(s,o,l,c,_){if(s!==null){var x=s.memoizedProps;if(ql(x,c)&&s.ref===o.ref)if(jt=!1,o.pendingProps=c=x,jp(s,_))(s.flags&131072)!==0&&(jt=!0);else return o.lanes=s.lanes,Es(s,o,_)}return Pp(s,o,l,c,_)}function Gv(s,o,l,c){var _=c.children,x=s!==null?s.memoizedState:null;if(s===null&&o.stateNode===null&&(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((o.flags&128)!==0){if(x=x!==null?x.baseLanes|l:l,s!==null){for(c=o.child=s.child,_=0;c!==null;)_=_|c.lanes|c.childLanes,c=c.sibling;c=_&~x}else c=0,o.child=null;return Bv(s,o,x,l,c)}if((l&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},s!==null&&Xc(o,x!==null?x.cachePool:null),x!==null?J0(o,x):cp(),K0(o);else return c=o.lanes=536870912,Bv(s,o,x!==null?x.baseLanes|l:l,l,c)}else x!==null?(Xc(o,x.cachePool),J0(o,x),ur(),o.memoizedState=null):(s!==null&&Xc(o,null),cp(),ur());return un(s,o,_,l),o.child}function iu(s,o){return s!==null&&s.tag===22||o.stateNode!==null||(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.sibling}function Bv(s,o,l,c,_){var x=sp();return x=x===null?null:{parent:zt._currentValue,pool:x},o.memoizedState={baseLanes:l,cachePool:x},s!==null&&Xc(o,null),cp(),K0(o),s!==null&&fa(s,o,c,!0),o.childLanes=_,null}function pd(s,o){return o=gd({mode:o.mode,children:o.children},s.mode),o.ref=s.ref,s.child=o,o.return=s,o}function $v(s,o,l){return To(o,s.child,null,l),s=pd(o,o.pendingProps),s.flags|=2,zn(o),o.memoizedState=null,s}function Gw(s,o,l){var c=o.pendingProps,_=(o.flags&128)!==0;if(o.flags&=-129,s===null){if(Xe){if(c.mode==="hidden")return s=pd(o,c),o.lanes=536870912,iu(null,s);if(fp(o),(s=yt)?(s=sx(s,ei),s=s!==null&&s.data==="&"?s:null,s!==null&&(o.memoizedState={dehydrated:s,treeContext:tr!==null?{id:Xi,overflow:Zi}:null,retryLane:536870912,hydrationErrors:null},l=N0(s),l.return=o,o.child=l,an=o,yt=null)):s=null,s===null)throw ir(o);return o.lanes=536870912,null}return pd(o,c)}var x=s.memoizedState;if(x!==null){var b=x.dehydrated;if(fp(o),_)if(o.flags&256)o.flags&=-257,o=$v(s,o,l);else if(o.memoizedState!==null)o.child=s.child,o.flags|=128,o=null;else throw Error(i(558));else if(jt||fa(s,o,l,!1),_=(l&s.childLanes)!==0,jt||_){if(c=mt,c!==null&&(b=bl(c,l),b!==0&&b!==x.retryLane))throw x.retryLane=b,po(s,b),Mn(c,s,b),kp;Ad(),o=$v(s,o,l)}else s=x.treeContext,yt=ni(b.nextSibling),an=o,Xe=!0,nr=null,ei=!1,s!==null&&D0(o,s),o=pd(o,c),o.flags|=4096;return o}return s=ms(s.child,{mode:c.mode,children:c.children}),s.ref=o.ref,o.child=s,s.return=o,s}function md(s,o){var l=o.ref;if(l===null)s!==null&&s.ref!==null&&(o.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(i(284));(s===null||s.ref!==l)&&(o.flags|=4194816)}}function Pp(s,o,l,c,_){return vo(o),l=pp(s,o,l,c,void 0,_),c=mp(),s!==null&&!jt?(gp(s,o,_),Es(s,o,_)):(Xe&&c&&Yh(o),o.flags|=1,un(s,o,l,_),o.child)}function Jv(s,o,l,c,_,x){return vo(o),o.updateQueue=null,l=W0(o,c,l,_),Y0(s),c=mp(),s!==null&&!jt?(gp(s,o,x),Es(s,o,x)):(Xe&&c&&Yh(o),o.flags|=1,un(s,o,l,x),o.child)}function Kv(s,o,l,c,_){if(vo(o),o.stateNode===null){var x=la,b=l.contextType;typeof b=="object"&&b!==null&&(x=ln(b)),x=new l(c,x),o.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,x.updater=Mp,o.stateNode=x,x._reactInternals=o,x=o.stateNode,x.props=c,x.state=o.memoizedState,x.refs={},op(o),b=l.contextType,x.context=typeof b=="object"&&b!==null?ln(b):la,x.state=o.memoizedState,b=l.getDerivedStateFromProps,typeof b=="function"&&(Rp(o,l,b,c),x.state=o.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(b=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),b!==x.state&&Mp.enqueueReplaceState(x,x.state,null),Xl(o,c,x,_),Ql(),x.state=o.memoizedState),typeof x.componentDidMount=="function"&&(o.flags|=4194308),c=!0}else if(s===null){x=o.stateNode;var R=o.memoizedProps,H=bo(l,R);x.props=H;var Z=x.context,re=l.contextType;b=la,typeof re=="object"&&re!==null&&(b=ln(re));var le=l.getDerivedStateFromProps;re=typeof le=="function"||typeof x.getSnapshotBeforeUpdate=="function",R=o.pendingProps!==R,re||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(R||Z!==b)&&Pv(o,x,c,b),rr=!1;var ee=o.memoizedState;x.state=ee,Xl(o,c,x,_),Ql(),Z=o.memoizedState,R||ee!==Z||rr?(typeof le=="function"&&(Rp(o,l,le,c),Z=o.memoizedState),(H=rr||kv(o,l,H,c,ee,Z,b))?(re||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(o.flags|=4194308)):(typeof x.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=c,o.memoizedState=Z),x.props=c,x.state=Z,x.context=b,c=H):(typeof x.componentDidMount=="function"&&(o.flags|=4194308),c=!1)}else{x=o.stateNode,ap(s,o),b=o.memoizedProps,re=bo(l,b),x.props=re,le=o.pendingProps,ee=x.context,Z=l.contextType,H=la,typeof Z=="object"&&Z!==null&&(H=ln(Z)),R=l.getDerivedStateFromProps,(Z=typeof R=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(b!==le||ee!==H)&&Pv(o,x,c,H),rr=!1,ee=o.memoizedState,x.state=ee,Xl(o,c,x,_),Ql();var se=o.memoizedState;b!==le||ee!==se||rr||s!==null&&s.dependencies!==null&&Wc(s.dependencies)?(typeof R=="function"&&(Rp(o,l,R,c),se=o.memoizedState),(re=rr||kv(o,l,re,c,ee,se,H)||s!==null&&s.dependencies!==null&&Wc(s.dependencies))?(Z||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(c,se,H),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(c,se,H)),typeof x.componentDidUpdate=="function"&&(o.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof x.componentDidUpdate!="function"||b===s.memoizedProps&&ee===s.memoizedState||(o.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||b===s.memoizedProps&&ee===s.memoizedState||(o.flags|=1024),o.memoizedProps=c,o.memoizedState=se),x.props=c,x.state=se,x.context=H,c=re):(typeof x.componentDidUpdate!="function"||b===s.memoizedProps&&ee===s.memoizedState||(o.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||b===s.memoizedProps&&ee===s.memoizedState||(o.flags|=1024),c=!1)}return x=c,md(s,o),c=(o.flags&128)!==0,x||c?(x=o.stateNode,l=c&&typeof l.getDerivedStateFromError!="function"?null:x.render(),o.flags|=1,s!==null&&c?(o.child=To(o,s.child,null,_),o.child=To(o,null,l,_)):un(s,o,l,_),o.memoizedState=x.state,s=o.child):s=Es(s,o,_),s}function Yv(s,o,l,c){return go(),o.flags|=256,un(s,o,l,c),o.child}var Lp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Vp(s){return{baseLanes:s,cachePool:O0()}}function Up(s,o,l){return s=s!==null?s.childLanes&~l:0,o&&(s|=jn),s}function Wv(s,o,l){var c=o.pendingProps,_=!1,x=(o.flags&128)!==0,b;if((b=x)||(b=s!==null&&s.memoizedState===null?!1:(Mt.current&2)!==0),b&&(_=!0,o.flags&=-129),b=(o.flags&32)!==0,o.flags&=-33,s===null){if(Xe){if(_?lr(o):ur(),(s=yt)?(s=sx(s,ei),s=s!==null&&s.data!=="&"?s:null,s!==null&&(o.memoizedState={dehydrated:s,treeContext:tr!==null?{id:Xi,overflow:Zi}:null,retryLane:536870912,hydrationErrors:null},l=N0(s),l.return=o,o.child=l,an=o,yt=null)):s=null,s===null)throw ir(o);return _m(s)?o.lanes=32:o.lanes=536870912,null}var R=c.children;return c=c.fallback,_?(ur(),_=o.mode,R=gd({mode:"hidden",children:R},_),c=mo(c,_,l,null),R.return=o,c.return=o,R.sibling=c,o.child=R,c=o.child,c.memoizedState=Vp(l),c.childLanes=Up(s,b,l),o.memoizedState=Lp,iu(null,c)):(lr(o),Op(o,R))}var H=s.memoizedState;if(H!==null&&(R=H.dehydrated,R!==null)){if(x)o.flags&256?(lr(o),o.flags&=-257,o=zp(s,o,l)):o.memoizedState!==null?(ur(),o.child=s.child,o.flags|=128,o=null):(ur(),R=c.fallback,_=o.mode,c=gd({mode:"visible",children:c.children},_),R=mo(R,_,l,null),R.flags|=2,c.return=o,R.return=o,c.sibling=R,o.child=c,To(o,s.child,null,l),c=o.child,c.memoizedState=Vp(l),c.childLanes=Up(s,b,l),o.memoizedState=Lp,o=iu(null,c));else if(lr(o),_m(R)){if(b=R.nextSibling&&R.nextSibling.dataset,b)var Z=b.dgst;b=Z,c=Error(i(419)),c.stack="",c.digest=b,Bl({value:c,source:null,stack:null}),o=zp(s,o,l)}else if(jt||fa(s,o,l,!1),b=(l&s.childLanes)!==0,jt||b){if(b=mt,b!==null&&(c=bl(b,l),c!==0&&c!==H.retryLane))throw H.retryLane=c,po(s,c),Mn(b,s,c),kp;vm(R)||Ad(),o=zp(s,o,l)}else vm(R)?(o.flags|=192,o.child=s.child,o=null):(s=H.treeContext,yt=ni(R.nextSibling),an=o,Xe=!0,nr=null,ei=!1,s!==null&&D0(o,s),o=Op(o,c.children),o.flags|=4096);return o}return _?(ur(),R=c.fallback,_=o.mode,H=s.child,Z=H.sibling,c=ms(H,{mode:"hidden",children:c.children}),c.subtreeFlags=H.subtreeFlags&65011712,Z!==null?R=ms(Z,R):(R=mo(R,_,l,null),R.flags|=2),R.return=o,c.return=o,c.sibling=R,o.child=c,iu(null,c),c=o.child,R=s.child.memoizedState,R===null?R=Vp(l):(_=R.cachePool,_!==null?(H=zt._currentValue,_=_.parent!==H?{parent:H,pool:H}:_):_=O0(),R={baseLanes:R.baseLanes|l,cachePool:_}),c.memoizedState=R,c.childLanes=Up(s,b,l),o.memoizedState=Lp,iu(s.child,c)):(lr(o),l=s.child,s=l.sibling,l=ms(l,{mode:"visible",children:c.children}),l.return=o,l.sibling=null,s!==null&&(b=o.deletions,b===null?(o.deletions=[s],o.flags|=16):b.push(s)),o.child=l,o.memoizedState=null,l)}function Op(s,o){return o=gd({mode:"visible",children:o},s.mode),o.return=s,s.child=o}function gd(s,o){return s=Un(22,s,null,o),s.lanes=0,s}function zp(s,o,l){return To(o,s.child,null,l),s=Op(o,o.pendingProps.children),s.flags|=2,o.memoizedState=null,s}function Qv(s,o,l){s.lanes|=o;var c=s.alternate;c!==null&&(c.lanes|=o),ep(s.return,o,l)}function Fp(s,o,l,c,_,x){var b=s.memoizedState;b===null?s.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:c,tail:l,tailMode:_,treeForkCount:x}:(b.isBackwards=o,b.rendering=null,b.renderingStartTime=0,b.last=c,b.tail=l,b.tailMode=_,b.treeForkCount=x)}function Xv(s,o,l){var c=o.pendingProps,_=c.revealOrder,x=c.tail;c=c.children;var b=Mt.current,R=(b&2)!==0;if(R?(b=b&1|2,o.flags|=128):b&=1,ue(Mt,b),un(s,o,c,l),c=Xe?Gl:0,!R&&s!==null&&(s.flags&128)!==0)e:for(s=o.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Qv(s,l,o);else if(s.tag===19)Qv(s,l,o);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break e;for(;s.sibling===null;){if(s.return===null||s.return===o)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(_){case"forwards":for(l=o.child,_=null;l!==null;)s=l.alternate,s!==null&&sd(s)===null&&(_=l),l=l.sibling;l=_,l===null?(_=o.child,o.child=null):(_=l.sibling,l.sibling=null),Fp(o,!1,_,l,x,c);break;case"backwards":case"unstable_legacy-backwards":for(l=null,_=o.child,o.child=null;_!==null;){if(s=_.alternate,s!==null&&sd(s)===null){o.child=_;break}s=_.sibling,_.sibling=l,l=_,_=s}Fp(o,!0,l,null,x,c);break;case"together":Fp(o,!1,null,null,void 0,c);break;default:o.memoizedState=null}return o.child}function Es(s,o,l){if(s!==null&&(o.dependencies=s.dependencies),fr|=o.lanes,(l&o.childLanes)===0)if(s!==null){if(fa(s,o,l,!1),(l&o.childLanes)===0)return null}else return null;if(s!==null&&o.child!==s.child)throw Error(i(153));if(o.child!==null){for(s=o.child,l=ms(s,s.pendingProps),o.child=l,l.return=o;s.sibling!==null;)s=s.sibling,l=l.sibling=ms(s,s.pendingProps),l.return=o;l.sibling=null}return o.child}function jp(s,o){return(s.lanes&o)!==0?!0:(s=s.dependencies,!!(s!==null&&Wc(s)))}function Bw(s,o,l){switch(o.tag){case 3:It(o,o.stateNode.containerInfo),sr(o,zt,s.memoizedState.cache),go();break;case 27:case 5:di(o);break;case 4:It(o,o.stateNode.containerInfo);break;case 10:sr(o,o.type,o.memoizedProps.value);break;case 31:if(o.memoizedState!==null)return o.flags|=128,fp(o),null;break;case 13:var c=o.memoizedState;if(c!==null)return c.dehydrated!==null?(lr(o),o.flags|=128,null):(l&o.child.childLanes)!==0?Wv(s,o,l):(lr(o),s=Es(s,o,l),s!==null?s.sibling:null);lr(o);break;case 19:var _=(s.flags&128)!==0;if(c=(l&o.childLanes)!==0,c||(fa(s,o,l,!1),c=(l&o.childLanes)!==0),_){if(c)return Xv(s,o,l);o.flags|=128}if(_=o.memoizedState,_!==null&&(_.rendering=null,_.tail=null,_.lastEffect=null),ue(Mt,Mt.current),c)break;return null;case 22:return o.lanes=0,Gv(s,o,l,o.pendingProps);case 24:sr(o,zt,s.memoizedState.cache)}return Es(s,o,l)}function Zv(s,o,l){if(s!==null)if(s.memoizedProps!==o.pendingProps)jt=!0;else{if(!jp(s,l)&&(o.flags&128)===0)return jt=!1,Bw(s,o,l);jt=(s.flags&131072)!==0}else jt=!1,Xe&&(o.flags&1048576)!==0&&M0(o,Gl,o.index);switch(o.lanes=0,o.tag){case 16:e:{var c=o.pendingProps;if(s=xo(o.elementType),o.type=s,typeof s=="function")$h(s)?(c=bo(s,c),o.tag=1,o=Kv(null,o,s,c,l)):(o.tag=0,o=Pp(null,o,s,c,l));else{if(s!=null){var _=s.$$typeof;if(_===W){o.tag=11,o=jv(null,o,s,c,l);break e}else if(_===U){o.tag=14,o=qv(null,o,s,c,l);break e}}throw o=ve(s)||s,Error(i(306,o,""))}}return o;case 0:return Pp(s,o,o.type,o.pendingProps,l);case 1:return c=o.type,_=bo(c,o.pendingProps),Kv(s,o,c,_,l);case 3:e:{if(It(o,o.stateNode.containerInfo),s===null)throw Error(i(387));c=o.pendingProps;var x=o.memoizedState;_=x.element,ap(s,o),Xl(o,c,null,l);var b=o.memoizedState;if(c=b.cache,sr(o,zt,c),c!==x.cache&&tp(o,[zt],l,!0),Ql(),c=b.element,x.isDehydrated)if(x={element:c,isDehydrated:!1,cache:b.cache},o.updateQueue.baseState=x,o.memoizedState=x,o.flags&256){o=Yv(s,o,c,l);break e}else if(c!==_){_=Qn(Error(i(424)),o),Bl(_),o=Yv(s,o,c,l);break e}else{switch(s=o.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(yt=ni(s.firstChild),an=o,Xe=!0,nr=null,ei=!0,l=G0(o,null,c,l),o.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(go(),c===_){o=Es(s,o,l);break e}un(s,o,c,l)}o=o.child}return o;case 26:return md(s,o),s===null?(l=cx(o.type,null,o.pendingProps,null))?o.memoizedState=l:Xe||(l=o.type,s=o.pendingProps,c=Dd(Oe.current).createElement(l),c[Vt]=o,c[Zt]=s,cn(c,l,s),Ut(c),o.stateNode=c):o.memoizedState=cx(o.type,s.memoizedProps,o.pendingProps,s.memoizedState),null;case 27:return di(o),s===null&&Xe&&(c=o.stateNode=ax(o.type,o.pendingProps,Oe.current),an=o,ei=!0,_=yt,yr(o.type)?(xm=_,yt=ni(c.firstChild)):yt=_),un(s,o,o.pendingProps.children,l),md(s,o),s===null&&(o.flags|=4194304),o.child;case 5:return s===null&&Xe&&((_=c=yt)&&(c=EI(c,o.type,o.pendingProps,ei),c!==null?(o.stateNode=c,an=o,yt=ni(c.firstChild),ei=!1,_=!0):_=!1),_||ir(o)),di(o),_=o.type,x=o.pendingProps,b=s!==null?s.memoizedProps:null,c=x.children,mm(_,x)?c=null:b!==null&&mm(_,b)&&(o.flags|=32),o.memoizedState!==null&&(_=pp(s,o,Vw,null,null,l),vu._currentValue=_),md(s,o),un(s,o,c,l),o.child;case 6:return s===null&&Xe&&((s=l=yt)&&(l=TI(l,o.pendingProps,ei),l!==null?(o.stateNode=l,an=o,yt=null,s=!0):s=!1),s||ir(o)),null;case 13:return Wv(s,o,l);case 4:return It(o,o.stateNode.containerInfo),c=o.pendingProps,s===null?o.child=To(o,null,c,l):un(s,o,c,l),o.child;case 11:return jv(s,o,o.type,o.pendingProps,l);case 7:return un(s,o,o.pendingProps,l),o.child;case 8:return un(s,o,o.pendingProps.children,l),o.child;case 12:return un(s,o,o.pendingProps.children,l),o.child;case 10:return c=o.pendingProps,sr(o,o.type,c.value),un(s,o,c.children,l),o.child;case 9:return _=o.type._context,c=o.pendingProps.children,vo(o),_=ln(_),c=c(_),o.flags|=1,un(s,o,c,l),o.child;case 14:return qv(s,o,o.type,o.pendingProps,l);case 15:return Hv(s,o,o.type,o.pendingProps,l);case 19:return Xv(s,o,l);case 31:return Gw(s,o,l);case 22:return Gv(s,o,l,o.pendingProps);case 24:return vo(o),c=ln(zt),s===null?(_=sp(),_===null&&(_=mt,x=np(),_.pooledCache=x,x.refCount++,x!==null&&(_.pooledCacheLanes|=l),_=x),o.memoizedState={parent:c,cache:_},op(o),sr(o,zt,_)):((s.lanes&l)!==0&&(ap(s,o),Xl(o,null,null,l),Ql()),_=s.memoizedState,x=o.memoizedState,_.parent!==c?(_={parent:c,cache:c},o.memoizedState=_,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=_),sr(o,zt,c)):(c=x.cache,sr(o,zt,c),c!==_.cache&&tp(o,[zt],l,!0))),un(s,o,o.pendingProps.children,l),o.child;case 29:throw o.pendingProps}throw Error(i(156,o.tag))}function Ts(s){s.flags|=4}function qp(s,o,l,c,_){if((o=(s.mode&32)!==0)&&(o=!1),o){if(s.flags|=16777216,(_&335544128)===_)if(s.stateNode.complete)s.flags|=8192;else if(C_())s.flags|=8192;else throw Eo=ed,rp}else s.flags&=-16777217}function e_(s,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!mx(o))if(C_())s.flags|=8192;else throw Eo=ed,rp}function yd(s,o){o!==null&&(s.flags|=4),s.flags&16384&&(o=s.tag!==22?Sc():536870912,s.lanes|=o,ba|=o)}function su(s,o){if(!Xe)switch(s.tailMode){case"hidden":o=s.tail;for(var l=null;o!==null;)o.alternate!==null&&(l=o),o=o.sibling;l===null?s.tail=null:l.sibling=null;break;case"collapsed":l=s.tail;for(var c=null;l!==null;)l.alternate!==null&&(c=l),l=l.sibling;c===null?o||s.tail===null?s.tail=null:s.tail.sibling=null:c.sibling=null}}function vt(s){var o=s.alternate!==null&&s.alternate.child===s.child,l=0,c=0;if(o)for(var _=s.child;_!==null;)l|=_.lanes|_.childLanes,c|=_.subtreeFlags&65011712,c|=_.flags&65011712,_.return=s,_=_.sibling;else for(_=s.child;_!==null;)l|=_.lanes|_.childLanes,c|=_.subtreeFlags,c|=_.flags,_.return=s,_=_.sibling;return s.subtreeFlags|=c,s.childLanes=l,o}function $w(s,o,l){var c=o.pendingProps;switch(Wh(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return vt(o),null;case 1:return vt(o),null;case 3:return l=o.stateNode,c=null,s!==null&&(c=s.memoizedState.cache),o.memoizedState.cache!==c&&(o.flags|=2048),vs(zt),rt(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(s===null||s.child===null)&&(da(o)?Ts(o):s===null||s.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Xh())),vt(o),null;case 26:var _=o.type,x=o.memoizedState;return s===null?(Ts(o),x!==null?(vt(o),e_(o,x)):(vt(o),qp(o,_,null,c,l))):x?x!==s.memoizedState?(Ts(o),vt(o),e_(o,x)):(vt(o),o.flags&=-16777217):(s=s.memoizedProps,s!==c&&Ts(o),vt(o),qp(o,_,s,c,l)),null;case 27:if(Hs(o),l=Oe.current,_=o.type,s!==null&&o.stateNode!=null)s.memoizedProps!==c&&Ts(o);else{if(!c){if(o.stateNode===null)throw Error(i(166));return vt(o),null}s=ge.current,da(o)?k0(o):(s=ax(_,c,l),o.stateNode=s,Ts(o))}return vt(o),null;case 5:if(Hs(o),_=o.type,s!==null&&o.stateNode!=null)s.memoizedProps!==c&&Ts(o);else{if(!c){if(o.stateNode===null)throw Error(i(166));return vt(o),null}if(x=ge.current,da(o))k0(o);else{var b=Dd(Oe.current);switch(x){case 1:x=b.createElementNS("http://www.w3.org/2000/svg",_);break;case 2:x=b.createElementNS("http://www.w3.org/1998/Math/MathML",_);break;default:switch(_){case"svg":x=b.createElementNS("http://www.w3.org/2000/svg",_);break;case"math":x=b.createElementNS("http://www.w3.org/1998/Math/MathML",_);break;case"script":x=b.createElement("div"),x.innerHTML="<script><\/script>",x=x.removeChild(x.firstChild);break;case"select":x=typeof c.is=="string"?b.createElement("select",{is:c.is}):b.createElement("select"),c.multiple?x.multiple=!0:c.size&&(x.size=c.size);break;default:x=typeof c.is=="string"?b.createElement(_,{is:c.is}):b.createElement(_)}}x[Vt]=o,x[Zt]=c;e:for(b=o.child;b!==null;){if(b.tag===5||b.tag===6)x.appendChild(b.stateNode);else if(b.tag!==4&&b.tag!==27&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===o)break e;for(;b.sibling===null;){if(b.return===null||b.return===o)break e;b=b.return}b.sibling.return=b.return,b=b.sibling}o.stateNode=x;e:switch(cn(x,_,c),_){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&Ts(o)}}return vt(o),qp(o,o.type,s===null?null:s.memoizedProps,o.pendingProps,l),null;case 6:if(s&&o.stateNode!=null)s.memoizedProps!==c&&Ts(o);else{if(typeof c!="string"&&o.stateNode===null)throw Error(i(166));if(s=Oe.current,da(o)){if(s=o.stateNode,l=o.memoizedProps,c=null,_=an,_!==null)switch(_.tag){case 27:case 5:c=_.memoizedProps}s[Vt]=o,s=!!(s.nodeValue===l||c!==null&&c.suppressHydrationWarning===!0||W_(s.nodeValue,l)),s||ir(o,!0)}else s=Dd(s).createTextNode(c),s[Vt]=o,o.stateNode=s}return vt(o),null;case 31:if(l=o.memoizedState,s===null||s.memoizedState!==null){if(c=da(o),l!==null){if(s===null){if(!c)throw Error(i(318));if(s=o.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(557));s[Vt]=o}else go(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;vt(o),s=!1}else l=Xh(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=l),s=!0;if(!s)return o.flags&256?(zn(o),o):(zn(o),null);if((o.flags&128)!==0)throw Error(i(558))}return vt(o),null;case 13:if(c=o.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(_=da(o),c!==null&&c.dehydrated!==null){if(s===null){if(!_)throw Error(i(318));if(_=o.memoizedState,_=_!==null?_.dehydrated:null,!_)throw Error(i(317));_[Vt]=o}else go(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;vt(o),_=!1}else _=Xh(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=_),_=!0;if(!_)return o.flags&256?(zn(o),o):(zn(o),null)}return zn(o),(o.flags&128)!==0?(o.lanes=l,o):(l=c!==null,s=s!==null&&s.memoizedState!==null,l&&(c=o.child,_=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(_=c.alternate.memoizedState.cachePool.pool),x=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(x=c.memoizedState.cachePool.pool),x!==_&&(c.flags|=2048)),l!==s&&l&&(o.child.flags|=8192),yd(o,o.updateQueue),vt(o),null);case 4:return rt(),s===null&&cm(o.stateNode.containerInfo),vt(o),null;case 10:return vs(o.type),vt(o),null;case 19:if(Y(Mt),c=o.memoizedState,c===null)return vt(o),null;if(_=(o.flags&128)!==0,x=c.rendering,x===null)if(_)su(c,!1);else{if(Ct!==0||s!==null&&(s.flags&128)!==0)for(s=o.child;s!==null;){if(x=sd(s),x!==null){for(o.flags|=128,su(c,!1),s=x.updateQueue,o.updateQueue=s,yd(o,s),o.subtreeFlags=0,s=l,l=o.child;l!==null;)I0(l,s),l=l.sibling;return ue(Mt,Mt.current&1|2),Xe&&gs(o,c.treeForkCount),o.child}s=s.sibling}c.tail!==null&&xn()>Td&&(o.flags|=128,_=!0,su(c,!1),o.lanes=4194304)}else{if(!_)if(s=sd(x),s!==null){if(o.flags|=128,_=!0,s=s.updateQueue,o.updateQueue=s,yd(o,s),su(c,!0),c.tail===null&&c.tailMode==="hidden"&&!x.alternate&&!Xe)return vt(o),null}else 2*xn()-c.renderingStartTime>Td&&l!==536870912&&(o.flags|=128,_=!0,su(c,!1),o.lanes=4194304);c.isBackwards?(x.sibling=o.child,o.child=x):(s=c.last,s!==null?s.sibling=x:o.child=x,c.last=x)}return c.tail!==null?(s=c.tail,c.rendering=s,c.tail=s.sibling,c.renderingStartTime=xn(),s.sibling=null,l=Mt.current,ue(Mt,_?l&1|2:l&1),Xe&&gs(o,c.treeForkCount),s):(vt(o),null);case 22:case 23:return zn(o),dp(),c=o.memoizedState!==null,s!==null?s.memoizedState!==null!==c&&(o.flags|=8192):c&&(o.flags|=8192),c?(l&536870912)!==0&&(o.flags&128)===0&&(vt(o),o.subtreeFlags&6&&(o.flags|=8192)):vt(o),l=o.updateQueue,l!==null&&yd(o,l.retryQueue),l=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),c=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(c=o.memoizedState.cachePool.pool),c!==l&&(o.flags|=2048),s!==null&&Y(_o),null;case 24:return l=null,s!==null&&(l=s.memoizedState.cache),o.memoizedState.cache!==l&&(o.flags|=2048),vs(zt),vt(o),null;case 25:return null;case 30:return null}throw Error(i(156,o.tag))}function Jw(s,o){switch(Wh(o),o.tag){case 1:return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 3:return vs(zt),rt(),s=o.flags,(s&65536)!==0&&(s&128)===0?(o.flags=s&-65537|128,o):null;case 26:case 27:case 5:return Hs(o),null;case 31:if(o.memoizedState!==null){if(zn(o),o.alternate===null)throw Error(i(340));go()}return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 13:if(zn(o),s=o.memoizedState,s!==null&&s.dehydrated!==null){if(o.alternate===null)throw Error(i(340));go()}return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 19:return Y(Mt),null;case 4:return rt(),null;case 10:return vs(o.type),null;case 22:case 23:return zn(o),dp(),s!==null&&Y(_o),s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 24:return vs(zt),null;case 25:return null;default:return null}}function t_(s,o){switch(Wh(o),o.tag){case 3:vs(zt),rt();break;case 26:case 27:case 5:Hs(o);break;case 4:rt();break;case 31:o.memoizedState!==null&&zn(o);break;case 13:zn(o);break;case 19:Y(Mt);break;case 10:vs(o.type);break;case 22:case 23:zn(o),dp(),s!==null&&Y(_o);break;case 24:vs(zt)}}function ru(s,o){try{var l=o.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var _=c.next;l=_;do{if((l.tag&s)===s){c=void 0;var x=l.create,b=l.inst;c=x(),b.destroy=c}l=l.next}while(l!==_)}}catch(R){ct(o,o.return,R)}}function cr(s,o,l){try{var c=o.updateQueue,_=c!==null?c.lastEffect:null;if(_!==null){var x=_.next;c=x;do{if((c.tag&s)===s){var b=c.inst,R=b.destroy;if(R!==void 0){b.destroy=void 0,_=o;var H=l,Z=R;try{Z()}catch(re){ct(_,H,re)}}}c=c.next}while(c!==x)}}catch(re){ct(o,o.return,re)}}function n_(s){var o=s.updateQueue;if(o!==null){var l=s.stateNode;try{$0(o,l)}catch(c){ct(s,s.return,c)}}}function i_(s,o,l){l.props=bo(s.type,s.memoizedProps),l.state=s.memoizedState;try{l.componentWillUnmount()}catch(c){ct(s,o,c)}}function ou(s,o){try{var l=s.ref;if(l!==null){switch(s.tag){case 26:case 27:case 5:var c=s.stateNode;break;case 30:c=s.stateNode;break;default:c=s.stateNode}typeof l=="function"?s.refCleanup=l(c):l.current=c}}catch(_){ct(s,o,_)}}function es(s,o){var l=s.ref,c=s.refCleanup;if(l!==null)if(typeof c=="function")try{c()}catch(_){ct(s,o,_)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(_){ct(s,o,_)}else l.current=null}function s_(s){var o=s.type,l=s.memoizedProps,c=s.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":l.autoFocus&&c.focus();break e;case"img":l.src?c.src=l.src:l.srcSet&&(c.srcset=l.srcSet)}}catch(_){ct(s,s.return,_)}}function Hp(s,o,l){try{var c=s.stateNode;mI(c,s.type,l,o),c[Zt]=o}catch(_){ct(s,s.return,_)}}function r_(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&yr(s.type)||s.tag===4}function Gp(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||r_(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&yr(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Bp(s,o,l){var c=s.tag;if(c===5||c===6)s=s.stateNode,o?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(s,o):(o=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,o.appendChild(s),l=l._reactRootContainer,l!=null||o.onclick!==null||(o.onclick=gi));else if(c!==4&&(c===27&&yr(s.type)&&(l=s.stateNode,o=null),s=s.child,s!==null))for(Bp(s,o,l),s=s.sibling;s!==null;)Bp(s,o,l),s=s.sibling}function vd(s,o,l){var c=s.tag;if(c===5||c===6)s=s.stateNode,o?l.insertBefore(s,o):l.appendChild(s);else if(c!==4&&(c===27&&yr(s.type)&&(l=s.stateNode),s=s.child,s!==null))for(vd(s,o,l),s=s.sibling;s!==null;)vd(s,o,l),s=s.sibling}function o_(s){var o=s.stateNode,l=s.memoizedProps;try{for(var c=s.type,_=o.attributes;_.length;)o.removeAttributeNode(_[0]);cn(o,c,l),o[Vt]=s,o[Zt]=l}catch(x){ct(s,s.return,x)}}var Ss=!1,qt=!1,$p=!1,a_=typeof WeakSet=="function"?WeakSet:Set,tn=null;function Kw(s,o){if(s=s.containerInfo,hm=zd,s=_0(s),zh(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else e:{l=(l=s.ownerDocument)&&l.defaultView||window;var c=l.getSelection&&l.getSelection();if(c&&c.rangeCount!==0){l=c.anchorNode;var _=c.anchorOffset,x=c.focusNode;c=c.focusOffset;try{l.nodeType,x.nodeType}catch{l=null;break e}var b=0,R=-1,H=-1,Z=0,re=0,le=s,ee=null;t:for(;;){for(var se;le!==l||_!==0&&le.nodeType!==3||(R=b+_),le!==x||c!==0&&le.nodeType!==3||(H=b+c),le.nodeType===3&&(b+=le.nodeValue.length),(se=le.firstChild)!==null;)ee=le,le=se;for(;;){if(le===s)break t;if(ee===l&&++Z===_&&(R=b),ee===x&&++re===c&&(H=b),(se=le.nextSibling)!==null)break;le=ee,ee=le.parentNode}le=se}l=R===-1||H===-1?null:{start:R,end:H}}else l=null}l=l||{start:0,end:0}}else l=null;for(pm={focusedElem:s,selectionRange:l},zd=!1,tn=o;tn!==null;)if(o=tn,s=o.child,(o.subtreeFlags&1028)!==0&&s!==null)s.return=o,tn=s;else for(;tn!==null;){switch(o=tn,x=o.alternate,s=o.flags,o.tag){case 0:if((s&4)!==0&&(s=o.updateQueue,s=s!==null?s.events:null,s!==null))for(l=0;l<s.length;l++)_=s[l],_.ref.impl=_.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&x!==null){s=void 0,l=o,_=x.memoizedProps,x=x.memoizedState,c=l.stateNode;try{var be=bo(l.type,_);s=c.getSnapshotBeforeUpdate(be,x),c.__reactInternalSnapshotBeforeUpdate=s}catch(Ne){ct(l,l.return,Ne)}}break;case 3:if((s&1024)!==0){if(s=o.stateNode.containerInfo,l=s.nodeType,l===9)ym(s);else if(l===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":ym(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(i(163))}if(s=o.sibling,s!==null){s.return=o.return,tn=s;break}tn=o.return}}function l_(s,o,l){var c=l.flags;switch(l.tag){case 0:case 11:case 15:As(s,l),c&4&&ru(5,l);break;case 1:if(As(s,l),c&4)if(s=l.stateNode,o===null)try{s.componentDidMount()}catch(b){ct(l,l.return,b)}else{var _=bo(l.type,o.memoizedProps);o=o.memoizedState;try{s.componentDidUpdate(_,o,s.__reactInternalSnapshotBeforeUpdate)}catch(b){ct(l,l.return,b)}}c&64&&n_(l),c&512&&ou(l,l.return);break;case 3:if(As(s,l),c&64&&(s=l.updateQueue,s!==null)){if(o=null,l.child!==null)switch(l.child.tag){case 27:case 5:o=l.child.stateNode;break;case 1:o=l.child.stateNode}try{$0(s,o)}catch(b){ct(l,l.return,b)}}break;case 27:o===null&&c&4&&o_(l);case 26:case 5:As(s,l),o===null&&c&4&&s_(l),c&512&&ou(l,l.return);break;case 12:As(s,l);break;case 31:As(s,l),c&4&&d_(s,l);break;case 13:As(s,l),c&4&&f_(s,l),c&64&&(s=l.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(l=iI.bind(null,l),SI(s,l))));break;case 22:if(c=l.memoizedState!==null||Ss,!c){o=o!==null&&o.memoizedState!==null||qt,_=Ss;var x=qt;Ss=c,(qt=o)&&!x?Cs(s,l,(l.subtreeFlags&8772)!==0):As(s,l),Ss=_,qt=x}break;case 30:break;default:As(s,l)}}function u_(s){var o=s.alternate;o!==null&&(s.alternate=null,u_(o)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(o=s.stateNode,o!==null&&Ko(o)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var Et=null,wn=!1;function bs(s,o,l){for(l=l.child;l!==null;)c_(s,o,l),l=l.sibling}function c_(s,o,l){if(rn&&typeof rn.onCommitFiberUnmount=="function")try{rn.onCommitFiberUnmount(fi,l)}catch{}switch(l.tag){case 26:qt||es(l,o),bs(s,o,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:qt||es(l,o);var c=Et,_=wn;yr(l.type)&&(Et=l.stateNode,wn=!1),bs(s,o,l),mu(l.stateNode),Et=c,wn=_;break;case 5:qt||es(l,o);case 6:if(c=Et,_=wn,Et=null,bs(s,o,l),Et=c,wn=_,Et!==null)if(wn)try{(Et.nodeType===9?Et.body:Et.nodeName==="HTML"?Et.ownerDocument.body:Et).removeChild(l.stateNode)}catch(x){ct(l,o,x)}else try{Et.removeChild(l.stateNode)}catch(x){ct(l,o,x)}break;case 18:Et!==null&&(wn?(s=Et,nx(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,l.stateNode),Da(s)):nx(Et,l.stateNode));break;case 4:c=Et,_=wn,Et=l.stateNode.containerInfo,wn=!0,bs(s,o,l),Et=c,wn=_;break;case 0:case 11:case 14:case 15:cr(2,l,o),qt||cr(4,l,o),bs(s,o,l);break;case 1:qt||(es(l,o),c=l.stateNode,typeof c.componentWillUnmount=="function"&&i_(l,o,c)),bs(s,o,l);break;case 21:bs(s,o,l);break;case 22:qt=(c=qt)||l.memoizedState!==null,bs(s,o,l),qt=c;break;default:bs(s,o,l)}}function d_(s,o){if(o.memoizedState===null&&(s=o.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{Da(s)}catch(l){ct(o,o.return,l)}}}function f_(s,o){if(o.memoizedState===null&&(s=o.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{Da(s)}catch(l){ct(o,o.return,l)}}function Yw(s){switch(s.tag){case 31:case 13:case 19:var o=s.stateNode;return o===null&&(o=s.stateNode=new a_),o;case 22:return s=s.stateNode,o=s._retryCache,o===null&&(o=s._retryCache=new a_),o;default:throw Error(i(435,s.tag))}}function _d(s,o){var l=Yw(s);o.forEach(function(c){if(!l.has(c)){l.add(c);var _=sI.bind(null,s,c);c.then(_,_)}})}function In(s,o){var l=o.deletions;if(l!==null)for(var c=0;c<l.length;c++){var _=l[c],x=s,b=o,R=b;e:for(;R!==null;){switch(R.tag){case 27:if(yr(R.type)){Et=R.stateNode,wn=!1;break e}break;case 5:Et=R.stateNode,wn=!1;break e;case 3:case 4:Et=R.stateNode.containerInfo,wn=!0;break e}R=R.return}if(Et===null)throw Error(i(160));c_(x,b,_),Et=null,wn=!1,x=_.alternate,x!==null&&(x.return=null),_.return=null}if(o.subtreeFlags&13886)for(o=o.child;o!==null;)h_(o,s),o=o.sibling}var Ti=null;function h_(s,o){var l=s.alternate,c=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:In(o,s),Nn(s),c&4&&(cr(3,s,s.return),ru(3,s),cr(5,s,s.return));break;case 1:In(o,s),Nn(s),c&512&&(qt||l===null||es(l,l.return)),c&64&&Ss&&(s=s.updateQueue,s!==null&&(c=s.callbacks,c!==null&&(l=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=l===null?c:l.concat(c))));break;case 26:var _=Ti;if(In(o,s),Nn(s),c&512&&(qt||l===null||es(l,l.return)),c&4){var x=l!==null?l.memoizedState:null;if(c=s.memoizedState,l===null)if(c===null)if(s.stateNode===null){e:{c=s.type,l=s.memoizedProps,_=_.ownerDocument||_;t:switch(c){case"title":x=_.getElementsByTagName("title")[0],(!x||x[Fi]||x[Vt]||x.namespaceURI==="http://www.w3.org/2000/svg"||x.hasAttribute("itemprop"))&&(x=_.createElement(c),_.head.insertBefore(x,_.querySelector("head > title"))),cn(x,c,l),x[Vt]=s,Ut(x),c=x;break e;case"link":var b=hx("link","href",_).get(c+(l.href||""));if(b){for(var R=0;R<b.length;R++)if(x=b[R],x.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&x.getAttribute("rel")===(l.rel==null?null:l.rel)&&x.getAttribute("title")===(l.title==null?null:l.title)&&x.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){b.splice(R,1);break t}}x=_.createElement(c),cn(x,c,l),_.head.appendChild(x);break;case"meta":if(b=hx("meta","content",_).get(c+(l.content||""))){for(R=0;R<b.length;R++)if(x=b[R],x.getAttribute("content")===(l.content==null?null:""+l.content)&&x.getAttribute("name")===(l.name==null?null:l.name)&&x.getAttribute("property")===(l.property==null?null:l.property)&&x.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&x.getAttribute("charset")===(l.charSet==null?null:l.charSet)){b.splice(R,1);break t}}x=_.createElement(c),cn(x,c,l),_.head.appendChild(x);break;default:throw Error(i(468,c))}x[Vt]=s,Ut(x),c=x}s.stateNode=c}else px(_,s.type,s.stateNode);else s.stateNode=fx(_,c,s.memoizedProps);else x!==c?(x===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):x.count--,c===null?px(_,s.type,s.stateNode):fx(_,c,s.memoizedProps)):c===null&&s.stateNode!==null&&Hp(s,s.memoizedProps,l.memoizedProps)}break;case 27:In(o,s),Nn(s),c&512&&(qt||l===null||es(l,l.return)),l!==null&&c&4&&Hp(s,s.memoizedProps,l.memoizedProps);break;case 5:if(In(o,s),Nn(s),c&512&&(qt||l===null||es(l,l.return)),s.flags&32){_=s.stateNode;try{Cn(_,"")}catch(be){ct(s,s.return,be)}}c&4&&s.stateNode!=null&&(_=s.memoizedProps,Hp(s,_,l!==null?l.memoizedProps:_)),c&1024&&($p=!0);break;case 6:if(In(o,s),Nn(s),c&4){if(s.stateNode===null)throw Error(i(162));c=s.memoizedProps,l=s.stateNode;try{l.nodeValue=c}catch(be){ct(s,s.return,be)}}break;case 3:if(Ld=null,_=Ti,Ti=kd(o.containerInfo),In(o,s),Ti=_,Nn(s),c&4&&l!==null&&l.memoizedState.isDehydrated)try{Da(o.containerInfo)}catch(be){ct(s,s.return,be)}$p&&($p=!1,p_(s));break;case 4:c=Ti,Ti=kd(s.stateNode.containerInfo),In(o,s),Nn(s),Ti=c;break;case 12:In(o,s),Nn(s);break;case 31:In(o,s),Nn(s),c&4&&(c=s.updateQueue,c!==null&&(s.updateQueue=null,_d(s,c)));break;case 13:In(o,s),Nn(s),s.child.flags&8192&&s.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Ed=xn()),c&4&&(c=s.updateQueue,c!==null&&(s.updateQueue=null,_d(s,c)));break;case 22:_=s.memoizedState!==null;var H=l!==null&&l.memoizedState!==null,Z=Ss,re=qt;if(Ss=Z||_,qt=re||H,In(o,s),qt=re,Ss=Z,Nn(s),c&8192)e:for(o=s.stateNode,o._visibility=_?o._visibility&-2:o._visibility|1,_&&(l===null||H||Ss||qt||Ao(s)),l=null,o=s;;){if(o.tag===5||o.tag===26){if(l===null){H=l=o;try{if(x=H.stateNode,_)b=x.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{R=H.stateNode;var le=H.memoizedProps.style,ee=le!=null&&le.hasOwnProperty("display")?le.display:null;R.style.display=ee==null||typeof ee=="boolean"?"":(""+ee).trim()}}catch(be){ct(H,H.return,be)}}}else if(o.tag===6){if(l===null){H=o;try{H.stateNode.nodeValue=_?"":H.memoizedProps}catch(be){ct(H,H.return,be)}}}else if(o.tag===18){if(l===null){H=o;try{var se=H.stateNode;_?ix(se,!0):ix(H.stateNode,!1)}catch(be){ct(H,H.return,be)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===s)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break e;for(;o.sibling===null;){if(o.return===null||o.return===s)break e;l===o&&(l=null),o=o.return}l===o&&(l=null),o.sibling.return=o.return,o=o.sibling}c&4&&(c=s.updateQueue,c!==null&&(l=c.retryQueue,l!==null&&(c.retryQueue=null,_d(s,l))));break;case 19:In(o,s),Nn(s),c&4&&(c=s.updateQueue,c!==null&&(s.updateQueue=null,_d(s,c)));break;case 30:break;case 21:break;default:In(o,s),Nn(s)}}function Nn(s){var o=s.flags;if(o&2){try{for(var l,c=s.return;c!==null;){if(r_(c)){l=c;break}c=c.return}if(l==null)throw Error(i(160));switch(l.tag){case 27:var _=l.stateNode,x=Gp(s);vd(s,x,_);break;case 5:var b=l.stateNode;l.flags&32&&(Cn(b,""),l.flags&=-33);var R=Gp(s);vd(s,R,b);break;case 3:case 4:var H=l.stateNode.containerInfo,Z=Gp(s);Bp(s,Z,H);break;default:throw Error(i(161))}}catch(re){ct(s,s.return,re)}s.flags&=-3}o&4096&&(s.flags&=-4097)}function p_(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var o=s;p_(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),s=s.sibling}}function As(s,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)l_(s,o.alternate,o),o=o.sibling}function Ao(s){for(s=s.child;s!==null;){var o=s;switch(o.tag){case 0:case 11:case 14:case 15:cr(4,o,o.return),Ao(o);break;case 1:es(o,o.return);var l=o.stateNode;typeof l.componentWillUnmount=="function"&&i_(o,o.return,l),Ao(o);break;case 27:mu(o.stateNode);case 26:case 5:es(o,o.return),Ao(o);break;case 22:o.memoizedState===null&&Ao(o);break;case 30:Ao(o);break;default:Ao(o)}s=s.sibling}}function Cs(s,o,l){for(l=l&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var c=o.alternate,_=s,x=o,b=x.flags;switch(x.tag){case 0:case 11:case 15:Cs(_,x,l),ru(4,x);break;case 1:if(Cs(_,x,l),c=x,_=c.stateNode,typeof _.componentDidMount=="function")try{_.componentDidMount()}catch(Z){ct(c,c.return,Z)}if(c=x,_=c.updateQueue,_!==null){var R=c.stateNode;try{var H=_.shared.hiddenCallbacks;if(H!==null)for(_.shared.hiddenCallbacks=null,_=0;_<H.length;_++)B0(H[_],R)}catch(Z){ct(c,c.return,Z)}}l&&b&64&&n_(x),ou(x,x.return);break;case 27:o_(x);case 26:case 5:Cs(_,x,l),l&&c===null&&b&4&&s_(x),ou(x,x.return);break;case 12:Cs(_,x,l);break;case 31:Cs(_,x,l),l&&b&4&&d_(_,x);break;case 13:Cs(_,x,l),l&&b&4&&f_(_,x);break;case 22:x.memoizedState===null&&Cs(_,x,l),ou(x,x.return);break;case 30:break;default:Cs(_,x,l)}o=o.sibling}}function Jp(s,o){var l=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),s=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(s=o.memoizedState.cachePool.pool),s!==l&&(s!=null&&s.refCount++,l!=null&&$l(l))}function Kp(s,o){s=null,o.alternate!==null&&(s=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==s&&(o.refCount++,s!=null&&$l(s))}function Si(s,o,l,c){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)m_(s,o,l,c),o=o.sibling}function m_(s,o,l,c){var _=o.flags;switch(o.tag){case 0:case 11:case 15:Si(s,o,l,c),_&2048&&ru(9,o);break;case 1:Si(s,o,l,c);break;case 3:Si(s,o,l,c),_&2048&&(s=null,o.alternate!==null&&(s=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==s&&(o.refCount++,s!=null&&$l(s)));break;case 12:if(_&2048){Si(s,o,l,c),s=o.stateNode;try{var x=o.memoizedProps,b=x.id,R=x.onPostCommit;typeof R=="function"&&R(b,o.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(H){ct(o,o.return,H)}}else Si(s,o,l,c);break;case 31:Si(s,o,l,c);break;case 13:Si(s,o,l,c);break;case 23:break;case 22:x=o.stateNode,b=o.alternate,o.memoizedState!==null?x._visibility&2?Si(s,o,l,c):au(s,o):x._visibility&2?Si(s,o,l,c):(x._visibility|=2,Ea(s,o,l,c,(o.subtreeFlags&10256)!==0||!1)),_&2048&&Jp(b,o);break;case 24:Si(s,o,l,c),_&2048&&Kp(o.alternate,o);break;default:Si(s,o,l,c)}}function Ea(s,o,l,c,_){for(_=_&&((o.subtreeFlags&10256)!==0||!1),o=o.child;o!==null;){var x=s,b=o,R=l,H=c,Z=b.flags;switch(b.tag){case 0:case 11:case 15:Ea(x,b,R,H,_),ru(8,b);break;case 23:break;case 22:var re=b.stateNode;b.memoizedState!==null?re._visibility&2?Ea(x,b,R,H,_):au(x,b):(re._visibility|=2,Ea(x,b,R,H,_)),_&&Z&2048&&Jp(b.alternate,b);break;case 24:Ea(x,b,R,H,_),_&&Z&2048&&Kp(b.alternate,b);break;default:Ea(x,b,R,H,_)}o=o.sibling}}function au(s,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var l=s,c=o,_=c.flags;switch(c.tag){case 22:au(l,c),_&2048&&Jp(c.alternate,c);break;case 24:au(l,c),_&2048&&Kp(c.alternate,c);break;default:au(l,c)}o=o.sibling}}var lu=8192;function Ta(s,o,l){if(s.subtreeFlags&lu)for(s=s.child;s!==null;)g_(s,o,l),s=s.sibling}function g_(s,o,l){switch(s.tag){case 26:Ta(s,o,l),s.flags&lu&&s.memoizedState!==null&&LI(l,Ti,s.memoizedState,s.memoizedProps);break;case 5:Ta(s,o,l);break;case 3:case 4:var c=Ti;Ti=kd(s.stateNode.containerInfo),Ta(s,o,l),Ti=c;break;case 22:s.memoizedState===null&&(c=s.alternate,c!==null&&c.memoizedState!==null?(c=lu,lu=16777216,Ta(s,o,l),lu=c):Ta(s,o,l));break;default:Ta(s,o,l)}}function y_(s){var o=s.alternate;if(o!==null&&(s=o.child,s!==null)){o.child=null;do o=s.sibling,s.sibling=null,s=o;while(s!==null)}}function uu(s){var o=s.deletions;if((s.flags&16)!==0){if(o!==null)for(var l=0;l<o.length;l++){var c=o[l];tn=c,__(c,s)}y_(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)v_(s),s=s.sibling}function v_(s){switch(s.tag){case 0:case 11:case 15:uu(s),s.flags&2048&&cr(9,s,s.return);break;case 3:uu(s);break;case 12:uu(s);break;case 22:var o=s.stateNode;s.memoizedState!==null&&o._visibility&2&&(s.return===null||s.return.tag!==13)?(o._visibility&=-3,xd(s)):uu(s);break;default:uu(s)}}function xd(s){var o=s.deletions;if((s.flags&16)!==0){if(o!==null)for(var l=0;l<o.length;l++){var c=o[l];tn=c,__(c,s)}y_(s)}for(s=s.child;s!==null;){switch(o=s,o.tag){case 0:case 11:case 15:cr(8,o,o.return),xd(o);break;case 22:l=o.stateNode,l._visibility&2&&(l._visibility&=-3,xd(o));break;default:xd(o)}s=s.sibling}}function __(s,o){for(;tn!==null;){var l=tn;switch(l.tag){case 0:case 11:case 15:cr(8,l,o);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var c=l.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:$l(l.memoizedState.cache)}if(c=l.child,c!==null)c.return=l,tn=c;else e:for(l=s;tn!==null;){c=tn;var _=c.sibling,x=c.return;if(u_(c),c===l){tn=null;break e}if(_!==null){_.return=x,tn=_;break e}tn=x}}}var Ww={getCacheForType:function(s){var o=ln(zt),l=o.data.get(s);return l===void 0&&(l=s(),o.data.set(s,l)),l},cacheSignal:function(){return ln(zt).controller.signal}},Qw=typeof WeakMap=="function"?WeakMap:Map,st=0,mt=null,Be=null,Je=0,ut=0,Fn=null,dr=!1,Sa=!1,Yp=!1,ws=0,Ct=0,fr=0,Co=0,Wp=0,jn=0,ba=0,cu=null,Rn=null,Qp=!1,Ed=0,x_=0,Td=1/0,Sd=null,hr=null,Wt=0,pr=null,Aa=null,Is=0,Xp=0,Zp=null,E_=null,du=0,em=null;function qn(){return(st&2)!==0&&Je!==0?Je&-Je:ne.T!==null?om():bc()}function T_(){if(jn===0)if((Je&536870912)===0||Xe){var s=Xr;Xr<<=1,(Xr&3932160)===0&&(Xr=262144),jn=s}else jn=536870912;return s=On.current,s!==null&&(s.flags|=32),jn}function Mn(s,o,l){(s===mt&&(ut===2||ut===9)||s.cancelPendingCommit!==null)&&(Ca(s,0),mr(s,Je,jn,!1)),Zr(s,l),((st&2)===0||s!==mt)&&(s===mt&&((st&2)===0&&(Co|=l),Ct===4&&mr(s,Je,jn,!1)),ts(s))}function S_(s,o,l){if((st&6)!==0)throw Error(i(327));var c=!l&&(o&127)===0&&(o&s.expiredLanes)===0||hi(s,o),_=c?eI(s,o):nm(s,o,!0),x=c;do{if(_===0){Sa&&!c&&mr(s,o,0,!1);break}else{if(l=s.current.alternate,x&&!Xw(l)){_=nm(s,o,!1),x=!1;continue}if(_===2){if(x=o,s.errorRecoveryDisabledLanes&x)var b=0;else b=s.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){o=b;e:{var R=s;_=cu;var H=R.current.memoizedState.isDehydrated;if(H&&(Ca(R,b).flags|=256),b=nm(R,b,!1),b!==2){if(Yp&&!H){R.errorRecoveryDisabledLanes|=x,Co|=x,_=4;break e}x=Rn,Rn=_,x!==null&&(Rn===null?Rn=x:Rn.push.apply(Rn,x))}_=b}if(x=!1,_!==2)continue}}if(_===1){Ca(s,0),mr(s,o,0,!0);break}e:{switch(c=s,x=_,x){case 0:case 1:throw Error(i(345));case 4:if((o&4194048)!==o)break;case 6:mr(c,o,jn,!dr);break e;case 2:Rn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((o&62914560)===o&&(_=Ed+300-xn(),10<_)){if(mr(c,o,jn,!dr),Ui(c,0,!0)!==0)break e;Is=o,c.timeoutHandle=ex(b_.bind(null,c,l,Rn,Sd,Qp,o,jn,Co,ba,dr,x,"Throttled",-0,0),_);break e}b_(c,l,Rn,Sd,Qp,o,jn,Co,ba,dr,x,null,-0,0)}}break}while(!0);ts(s)}function b_(s,o,l,c,_,x,b,R,H,Z,re,le,ee,se){if(s.timeoutHandle=-1,le=o.subtreeFlags,le&8192||(le&16785408)===16785408){le={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:gi},g_(o,x,le);var be=(x&62914560)===x?Ed-xn():(x&4194048)===x?x_-xn():0;if(be=VI(le,be),be!==null){Is=x,s.cancelPendingCommit=be(D_.bind(null,s,o,x,l,c,_,b,R,H,re,le,null,ee,se)),mr(s,x,b,!Z);return}}D_(s,o,x,l,c,_,b,R,H)}function Xw(s){for(var o=s;;){var l=o.tag;if((l===0||l===11||l===15)&&o.flags&16384&&(l=o.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var c=0;c<l.length;c++){var _=l[c],x=_.getSnapshot;_=_.value;try{if(!Vn(x(),_))return!1}catch{return!1}}if(l=o.child,o.subtreeFlags&16384&&l!==null)l.return=o,o=l;else{if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function mr(s,o,l,c){o&=~Wp,o&=~Co,s.suspendedLanes|=o,s.pingedLanes&=~o,c&&(s.warmLanes|=o),c=s.expirationTimes;for(var _=o;0<_;){var x=31-Nt(_),b=1<<x;c[x]=-1,_&=~b}l!==0&&eo(s,l,o)}function bd(){return(st&6)===0?(fu(0),!1):!0}function tm(){if(Be!==null){if(ut===0)var s=Be.return;else s=Be,ys=yo=null,yp(s),ga=null,Kl=0,s=Be;for(;s!==null;)t_(s.alternate,s),s=s.return;Be=null}}function Ca(s,o){var l=s.timeoutHandle;l!==-1&&(s.timeoutHandle=-1,vI(l)),l=s.cancelPendingCommit,l!==null&&(s.cancelPendingCommit=null,l()),Is=0,tm(),mt=s,Be=l=ms(s.current,null),Je=o,ut=0,Fn=null,dr=!1,Sa=hi(s,o),Yp=!1,ba=jn=Wp=Co=fr=Ct=0,Rn=cu=null,Qp=!1,(o&8)!==0&&(o|=o&32);var c=s.entangledLanes;if(c!==0)for(s=s.entanglements,c&=o;0<c;){var _=31-Nt(c),x=1<<_;o|=s[_],c&=~x}return ws=o,Bc(),l}function A_(s,o){je=null,ne.H=nu,o===ma||o===Zc?(o=j0(),ut=3):o===rp?(o=j0(),ut=4):ut=o===kp?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,Fn=o,Be===null&&(Ct=1,hd(s,Qn(o,s.current)))}function C_(){var s=On.current;return s===null?!0:(Je&4194048)===Je?ti===null:(Je&62914560)===Je||(Je&536870912)!==0?s===ti:!1}function w_(){var s=ne.H;return ne.H=nu,s===null?nu:s}function I_(){var s=ne.A;return ne.A=Ww,s}function Ad(){Ct=4,dr||(Je&4194048)!==Je&&On.current!==null||(Sa=!0),(fr&134217727)===0&&(Co&134217727)===0||mt===null||mr(mt,Je,jn,!1)}function nm(s,o,l){var c=st;st|=2;var _=w_(),x=I_();(mt!==s||Je!==o)&&(Sd=null,Ca(s,o)),o=!1;var b=Ct;e:do try{if(ut!==0&&Be!==null){var R=Be,H=Fn;switch(ut){case 8:tm(),b=6;break e;case 3:case 2:case 9:case 6:On.current===null&&(o=!0);var Z=ut;if(ut=0,Fn=null,wa(s,R,H,Z),l&&Sa){b=0;break e}break;default:Z=ut,ut=0,Fn=null,wa(s,R,H,Z)}}Zw(),b=Ct;break}catch(re){A_(s,re)}while(!0);return o&&s.shellSuspendCounter++,ys=yo=null,st=c,ne.H=_,ne.A=x,Be===null&&(mt=null,Je=0,Bc()),b}function Zw(){for(;Be!==null;)N_(Be)}function eI(s,o){var l=st;st|=2;var c=w_(),_=I_();mt!==s||Je!==o?(Sd=null,Td=xn()+500,Ca(s,o)):Sa=hi(s,o);e:do try{if(ut!==0&&Be!==null){o=Be;var x=Fn;t:switch(ut){case 1:ut=0,Fn=null,wa(s,o,x,1);break;case 2:case 9:if(z0(x)){ut=0,Fn=null,R_(o);break}o=function(){ut!==2&&ut!==9||mt!==s||(ut=7),ts(s)},x.then(o,o);break e;case 3:ut=7;break e;case 4:ut=5;break e;case 7:z0(x)?(ut=0,Fn=null,R_(o)):(ut=0,Fn=null,wa(s,o,x,7));break;case 5:var b=null;switch(Be.tag){case 26:b=Be.memoizedState;case 5:case 27:var R=Be;if(b?mx(b):R.stateNode.complete){ut=0,Fn=null;var H=R.sibling;if(H!==null)Be=H;else{var Z=R.return;Z!==null?(Be=Z,Cd(Z)):Be=null}break t}}ut=0,Fn=null,wa(s,o,x,5);break;case 6:ut=0,Fn=null,wa(s,o,x,6);break;case 8:tm(),Ct=6;break e;default:throw Error(i(462))}}tI();break}catch(re){A_(s,re)}while(!0);return ys=yo=null,ne.H=c,ne.A=_,st=l,Be!==null?0:(mt=null,Je=0,Bc(),Ct)}function tI(){for(;Be!==null&&!Dh();)N_(Be)}function N_(s){var o=Zv(s.alternate,s,ws);s.memoizedProps=s.pendingProps,o===null?Cd(s):Be=o}function R_(s){var o=s,l=o.alternate;switch(o.tag){case 15:case 0:o=Jv(l,o,o.pendingProps,o.type,void 0,Je);break;case 11:o=Jv(l,o,o.pendingProps,o.type.render,o.ref,Je);break;case 5:yp(o);default:t_(l,o),o=Be=I0(o,ws),o=Zv(l,o,ws)}s.memoizedProps=s.pendingProps,o===null?Cd(s):Be=o}function wa(s,o,l,c){ys=yo=null,yp(o),ga=null,Kl=0;var _=o.return;try{if(Hw(s,_,o,l,Je)){Ct=1,hd(s,Qn(l,s.current)),Be=null;return}}catch(x){if(_!==null)throw Be=_,x;Ct=1,hd(s,Qn(l,s.current)),Be=null;return}o.flags&32768?(Xe||c===1?s=!0:Sa||(Je&536870912)!==0?s=!1:(dr=s=!0,(c===2||c===9||c===3||c===6)&&(c=On.current,c!==null&&c.tag===13&&(c.flags|=16384))),M_(o,s)):Cd(o)}function Cd(s){var o=s;do{if((o.flags&32768)!==0){M_(o,dr);return}s=o.return;var l=$w(o.alternate,o,ws);if(l!==null){Be=l;return}if(o=o.sibling,o!==null){Be=o;return}Be=o=s}while(o!==null);Ct===0&&(Ct=5)}function M_(s,o){do{var l=Jw(s.alternate,s);if(l!==null){l.flags&=32767,Be=l;return}if(l=s.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!o&&(s=s.sibling,s!==null)){Be=s;return}Be=s=l}while(s!==null);Ct=6,Be=null}function D_(s,o,l,c,_,x,b,R,H){s.cancelPendingCommit=null;do wd();while(Wt!==0);if((st&6)!==0)throw Error(i(327));if(o!==null){if(o===s.current)throw Error(i(177));if(x=o.lanes|o.childLanes,x|=Gh,Lh(s,l,x,b,R,H),s===mt&&(Be=mt=null,Je=0),Aa=o,pr=s,Is=l,Xp=x,Zp=_,E_=c,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,rI(Bs,function(){return U_(),null})):(s.callbackNode=null,s.callbackPriority=0),c=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||c){c=ne.T,ne.T=null,_=pe.p,pe.p=2,b=st,st|=4;try{Kw(s,o,l)}finally{st=b,pe.p=_,ne.T=c}}Wt=1,k_(),P_(),L_()}}function k_(){if(Wt===1){Wt=0;var s=pr,o=Aa,l=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||l){l=ne.T,ne.T=null;var c=pe.p;pe.p=2;var _=st;st|=4;try{h_(o,s);var x=pm,b=_0(s.containerInfo),R=x.focusedElem,H=x.selectionRange;if(b!==R&&R&&R.ownerDocument&&v0(R.ownerDocument.documentElement,R)){if(H!==null&&zh(R)){var Z=H.start,re=H.end;if(re===void 0&&(re=Z),"selectionStart"in R)R.selectionStart=Z,R.selectionEnd=Math.min(re,R.value.length);else{var le=R.ownerDocument||document,ee=le&&le.defaultView||window;if(ee.getSelection){var se=ee.getSelection(),be=R.textContent.length,Ne=Math.min(H.start,be),pt=H.end===void 0?Ne:Math.min(H.end,be);!se.extend&&Ne>pt&&(b=pt,pt=Ne,Ne=b);var J=y0(R,Ne),$=y0(R,pt);if(J&&$&&(se.rangeCount!==1||se.anchorNode!==J.node||se.anchorOffset!==J.offset||se.focusNode!==$.node||se.focusOffset!==$.offset)){var X=le.createRange();X.setStart(J.node,J.offset),se.removeAllRanges(),Ne>pt?(se.addRange(X),se.extend($.node,$.offset)):(X.setEnd($.node,$.offset),se.addRange(X))}}}}for(le=[],se=R;se=se.parentNode;)se.nodeType===1&&le.push({element:se,left:se.scrollLeft,top:se.scrollTop});for(typeof R.focus=="function"&&R.focus(),R=0;R<le.length;R++){var oe=le[R];oe.element.scrollLeft=oe.left,oe.element.scrollTop=oe.top}}zd=!!hm,pm=hm=null}finally{st=_,pe.p=c,ne.T=l}}s.current=o,Wt=2}}function P_(){if(Wt===2){Wt=0;var s=pr,o=Aa,l=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||l){l=ne.T,ne.T=null;var c=pe.p;pe.p=2;var _=st;st|=4;try{l_(s,o.alternate,o)}finally{st=_,pe.p=c,ne.T=l}}Wt=3}}function L_(){if(Wt===4||Wt===3){Wt=0,yc();var s=pr,o=Aa,l=Is,c=E_;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?Wt=5:(Wt=0,Aa=pr=null,V_(s,s.pendingLanes));var _=s.pendingLanes;if(_===0&&(hr=null),ds(l),o=o.stateNode,rn&&typeof rn.onCommitFiberRoot=="function")try{rn.onCommitFiberRoot(fi,o,void 0,(o.current.flags&128)===128)}catch{}if(c!==null){o=ne.T,_=pe.p,pe.p=2,ne.T=null;try{for(var x=s.onRecoverableError,b=0;b<c.length;b++){var R=c[b];x(R.value,{componentStack:R.stack})}}finally{ne.T=o,pe.p=_}}(Is&3)!==0&&wd(),ts(s),_=s.pendingLanes,(l&261930)!==0&&(_&42)!==0?s===em?du++:(du=0,em=s):du=0,fu(0)}}function V_(s,o){(s.pooledCacheLanes&=o)===0&&(o=s.pooledCache,o!=null&&(s.pooledCache=null,$l(o)))}function wd(){return k_(),P_(),L_(),U_()}function U_(){if(Wt!==5)return!1;var s=pr,o=Xp;Xp=0;var l=ds(Is),c=ne.T,_=pe.p;try{pe.p=32>l?32:l,ne.T=null,l=Zp,Zp=null;var x=pr,b=Is;if(Wt=0,Aa=pr=null,Is=0,(st&6)!==0)throw Error(i(331));var R=st;if(st|=4,v_(x.current),m_(x,x.current,b,l),st=R,fu(0,!1),rn&&typeof rn.onPostCommitFiberRoot=="function")try{rn.onPostCommitFiberRoot(fi,x)}catch{}return!0}finally{pe.p=_,ne.T=c,V_(s,o)}}function O_(s,o,l){o=Qn(l,o),o=Dp(s.stateNode,o,2),s=ar(s,o,2),s!==null&&(Zr(s,2),ts(s))}function ct(s,o,l){if(s.tag===3)O_(s,s,l);else for(;o!==null;){if(o.tag===3){O_(o,s,l);break}else if(o.tag===1){var c=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(hr===null||!hr.has(c))){s=Qn(l,s),l=zv(2),c=ar(o,l,2),c!==null&&(Fv(l,c,o,s),Zr(c,2),ts(c));break}}o=o.return}}function im(s,o,l){var c=s.pingCache;if(c===null){c=s.pingCache=new Qw;var _=new Set;c.set(o,_)}else _=c.get(o),_===void 0&&(_=new Set,c.set(o,_));_.has(l)||(Yp=!0,_.add(l),s=nI.bind(null,s,o,l),o.then(s,s))}function nI(s,o,l){var c=s.pingCache;c!==null&&c.delete(o),s.pingedLanes|=s.suspendedLanes&l,s.warmLanes&=~l,mt===s&&(Je&l)===l&&(Ct===4||Ct===3&&(Je&62914560)===Je&&300>xn()-Ed?(st&2)===0&&Ca(s,0):Wp|=l,ba===Je&&(ba=0)),ts(s)}function z_(s,o){o===0&&(o=Sc()),s=po(s,o),s!==null&&(Zr(s,o),ts(s))}function iI(s){var o=s.memoizedState,l=0;o!==null&&(l=o.retryLane),z_(s,l)}function sI(s,o){var l=0;switch(s.tag){case 31:case 13:var c=s.stateNode,_=s.memoizedState;_!==null&&(l=_.retryLane);break;case 19:c=s.stateNode;break;case 22:c=s.stateNode._retryCache;break;default:throw Error(i(314))}c!==null&&c.delete(o),z_(s,l)}function rI(s,o){return Yt(s,o)}var Id=null,Ia=null,sm=!1,Nd=!1,rm=!1,gr=0;function ts(s){s!==Ia&&s.next===null&&(Ia===null?Id=Ia=s:Ia=Ia.next=s),Nd=!0,sm||(sm=!0,aI())}function fu(s,o){if(!rm&&Nd){rm=!0;do for(var l=!1,c=Id;c!==null;){if(s!==0){var _=c.pendingLanes;if(_===0)var x=0;else{var b=c.suspendedLanes,R=c.pingedLanes;x=(1<<31-Nt(42|s)+1)-1,x&=_&~(b&~R),x=x&201326741?x&201326741|1:x?x|2:0}x!==0&&(l=!0,H_(c,x))}else x=Je,x=Ui(c,c===mt?x:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(x&3)===0||hi(c,x)||(l=!0,H_(c,x));c=c.next}while(l);rm=!1}}function oI(){F_()}function F_(){Nd=sm=!1;var s=0;gr!==0&&yI()&&(s=gr);for(var o=xn(),l=null,c=Id;c!==null;){var _=c.next,x=j_(c,o);x===0?(c.next=null,l===null?Id=_:l.next=_,_===null&&(Ia=l)):(l=c,(s!==0||(x&3)!==0)&&(Nd=!0)),c=_}Wt!==0&&Wt!==5||fu(s),gr!==0&&(gr=0)}function j_(s,o){for(var l=s.suspendedLanes,c=s.pingedLanes,_=s.expirationTimes,x=s.pendingLanes&-62914561;0<x;){var b=31-Nt(x),R=1<<b,H=_[b];H===-1?((R&l)===0||(R&c)!==0)&&(_[b]=Ph(R,o)):H<=o&&(s.expiredLanes|=R),x&=~R}if(o=mt,l=Je,l=Ui(s,s===o?l:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),c=s.callbackNode,l===0||s===o&&(ut===2||ut===9)||s.cancelPendingCommit!==null)return c!==null&&c!==null&&Gs(c),s.callbackNode=null,s.callbackPriority=0;if((l&3)===0||hi(s,l)){if(o=l&-l,o===s.callbackPriority)return o;switch(c!==null&&Gs(c),ds(l)){case 2:case 8:l=Tl;break;case 32:l=Bs;break;case 268435456:l=vc;break;default:l=Bs}return c=q_.bind(null,s),l=Yt(l,c),s.callbackPriority=o,s.callbackNode=l,o}return c!==null&&c!==null&&Gs(c),s.callbackPriority=2,s.callbackNode=null,2}function q_(s,o){if(Wt!==0&&Wt!==5)return s.callbackNode=null,s.callbackPriority=0,null;var l=s.callbackNode;if(wd()&&s.callbackNode!==l)return null;var c=Je;return c=Ui(s,s===mt?c:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),c===0?null:(S_(s,c,o),j_(s,xn()),s.callbackNode!=null&&s.callbackNode===l?q_.bind(null,s):null)}function H_(s,o){if(wd())return null;S_(s,o,!0)}function aI(){_I(function(){(st&6)!==0?Yt(El,oI):F_()})}function om(){if(gr===0){var s=ha;s===0&&(s=Li,Li<<=1,(Li&261888)===0&&(Li=256)),gr=s}return gr}function G_(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:Xo(""+s)}function B_(s,o){var l=o.ownerDocument.createElement("input");return l.name=o.name,l.value=o.value,s.id&&l.setAttribute("form",s.id),o.parentNode.insertBefore(l,o),s=new FormData(s),l.parentNode.removeChild(l),s}function lI(s,o,l,c,_){if(o==="submit"&&l&&l.stateNode===_){var x=G_((_[Zt]||null).action),b=c.submitter;b&&(o=(o=b[Zt]||null)?G_(o.formAction):b.getAttribute("formAction"),o!==null&&(x=o,b=null));var R=new Ki("action","action",null,c,_);s.push({event:R,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(gr!==0){var H=b?B_(_,b):new FormData(_);Cp(l,{pending:!0,data:H,method:_.method,action:x},null,H)}}else typeof x=="function"&&(R.preventDefault(),H=b?B_(_,b):new FormData(_),Cp(l,{pending:!0,data:H,method:_.method,action:x},x,H))},currentTarget:_}]})}}for(var am=0;am<Hh.length;am++){var lm=Hh[am],uI=lm.toLowerCase(),cI=lm[0].toUpperCase()+lm.slice(1);Ei(uI,"on"+cI)}Ei(T0,"onAnimationEnd"),Ei(S0,"onAnimationIteration"),Ei(b0,"onAnimationStart"),Ei("dblclick","onDoubleClick"),Ei("focusin","onFocus"),Ei("focusout","onBlur"),Ei(Cw,"onTransitionRun"),Ei(ww,"onTransitionStart"),Ei(Iw,"onTransitionCancel"),Ei(A0,"onTransitionEnd"),Gi("onMouseEnter",["mouseout","mouseover"]),Gi("onMouseLeave",["mouseout","mouseover"]),Gi("onPointerEnter",["pointerout","pointerover"]),Gi("onPointerLeave",["pointerout","pointerover"]),Hi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Hi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Hi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Hi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Hi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Hi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),dI=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(hu));function $_(s,o){o=(o&4)!==0;for(var l=0;l<s.length;l++){var c=s[l],_=c.event;c=c.listeners;e:{var x=void 0;if(o)for(var b=c.length-1;0<=b;b--){var R=c[b],H=R.instance,Z=R.currentTarget;if(R=R.listener,H!==x&&_.isPropagationStopped())break e;x=R,_.currentTarget=Z;try{x(_)}catch(re){Gc(re)}_.currentTarget=null,x=H}else for(b=0;b<c.length;b++){if(R=c[b],H=R.instance,Z=R.currentTarget,R=R.listener,H!==x&&_.isPropagationStopped())break e;x=R,_.currentTarget=Z;try{x(_)}catch(re){Gc(re)}_.currentTarget=null,x=H}}}}function $e(s,o){var l=o[Jo];l===void 0&&(l=o[Jo]=new Set);var c=s+"__bubble";l.has(c)||(J_(o,s,2,!1),l.add(c))}function um(s,o,l){var c=0;o&&(c|=4),J_(l,s,c,o)}var Rd="_reactListening"+Math.random().toString(36).slice(2);function cm(s){if(!s[Rd]){s[Rd]=!0,Al.forEach(function(l){l!=="selectionchange"&&(dI.has(l)||um(l,!1,s),um(l,!0,s))});var o=s.nodeType===9?s:s.ownerDocument;o===null||o[Rd]||(o[Rd]=!0,um("selectionchange",!1,o))}}function J_(s,o,l,c){switch(Tx(o)){case 2:var _=zI;break;case 8:_=FI;break;default:_=Am}l=_.bind(null,o,l,s),_=void 0,!ro||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(_=!0),c?_!==void 0?s.addEventListener(o,l,{capture:!0,passive:_}):s.addEventListener(o,l,!0):_!==void 0?s.addEventListener(o,l,{passive:_}):s.addEventListener(o,l,!1)}function dm(s,o,l,c,_){var x=c;if((o&1)===0&&(o&2)===0&&c!==null)e:for(;;){if(c===null)return;var b=c.tag;if(b===3||b===4){var R=c.stateNode.containerInfo;if(R===_)break;if(b===4)for(b=c.return;b!==null;){var H=b.tag;if((H===3||H===4)&&b.stateNode.containerInfo===_)return;b=b.return}for(;R!==null;){if(b=ji(R),b===null)return;if(H=b.tag,H===5||H===6||H===26||H===27){c=x=b;continue e}R=R.parentNode}}c=c.return}Qs(function(){var Z=x,re=Jn(l),le=[];e:{var ee=C0.get(s);if(ee!==void 0){var se=Ki,be=s;switch(s){case"keypress":if(ao(l)===0)break e;case"keydown":case"keyup":se=jc;break;case"focusin":be="focus",se=uo;break;case"focusout":be="blur",se=uo;break;case"beforeblur":case"afterblur":se=uo;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":se=Ol;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":se=Dc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":se=S;break;case T0:case S0:case b0:se=Pc;break;case A0:se=k;break;case"scroll":case"scrollend":se=Ul;break;case"wheel":se=ie;break;case"copy":case"cut":case"paste":se=Lc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":se=ps;break;case"toggle":case"beforetoggle":se=Fe}var Ne=(o&4)!==0,pt=!Ne&&(s==="scroll"||s==="scrollend"),J=Ne?ee!==null?ee+"Capture":null:ee;Ne=[];for(var $=Z,X;$!==null;){var oe=$;if(X=oe.stateNode,oe=oe.tag,oe!==5&&oe!==26&&oe!==27||X===null||J===null||(oe=yi($,J),oe!=null&&Ne.push(pu($,oe,X))),pt)break;$=$.return}0<Ne.length&&(ee=new se(ee,be,null,l,re),le.push({event:ee,listeners:Ne}))}}if((o&7)===0){e:{if(ee=s==="mouseover"||s==="pointerover",se=s==="mouseout"||s==="pointerout",ee&&l!==Pl&&(be=l.relatedTarget||l.fromElement)&&(ji(be)||be[zi]))break e;if((se||ee)&&(ee=re.window===re?re:(ee=re.ownerDocument)?ee.defaultView||ee.parentWindow:window,se?(be=l.relatedTarget||l.toElement,se=Z,be=be?ji(be):null,be!==null&&(pt=a(be),Ne=be.tag,be!==pt||Ne!==5&&Ne!==27&&Ne!==6)&&(be=null)):(se=null,be=Z),se!==be)){if(Ne=Ol,oe="onMouseLeave",J="onMouseEnter",$="mouse",(s==="pointerout"||s==="pointerover")&&(Ne=ps,oe="onPointerLeave",J="onPointerEnter",$="pointer"),pt=se==null?ee:Pn(se),X=be==null?ee:Pn(be),ee=new Ne(oe,$+"leave",se,l,re),ee.target=pt,ee.relatedTarget=X,oe=null,ji(re)===Z&&(Ne=new Ne(J,$+"enter",be,l,re),Ne.target=X,Ne.relatedTarget=pt,oe=Ne),pt=oe,se&&be)t:{for(Ne=fI,J=se,$=be,X=0,oe=J;oe;oe=Ne(oe))X++;oe=0;for(var we=$;we;we=Ne(we))oe++;for(;0<X-oe;)J=Ne(J),X--;for(;0<oe-X;)$=Ne($),oe--;for(;X--;){if(J===$||$!==null&&J===$.alternate){Ne=J;break t}J=Ne(J),$=Ne($)}Ne=null}else Ne=null;se!==null&&K_(le,ee,se,Ne,!1),be!==null&&pt!==null&&K_(le,pt,be,Ne,!0)}}e:{if(ee=Z?Pn(Z):window,se=ee.nodeName&&ee.nodeName.toLowerCase(),se==="select"||se==="input"&&ee.type==="file")var et=d0;else if(u0(ee))if(f0)et=Sw;else{et=Ew;var Ae=xw}else se=ee.nodeName,!se||se.toLowerCase()!=="input"||ee.type!=="checkbox"&&ee.type!=="radio"?Z&&Qo(Z.elementType)&&(et=d0):et=Tw;if(et&&(et=et(s,Z))){c0(le,et,l,re);break e}Ae&&Ae(s,ee,Z),s==="focusout"&&Z&&ee.type==="number"&&Z.memoizedProps.value!=null&&Ml(ee,"number",ee.value)}switch(Ae=Z?Pn(Z):window,s){case"focusin":(u0(Ae)||Ae.contentEditable==="true")&&(ra=Ae,Fh=Z,Hl=null);break;case"focusout":Hl=Fh=ra=null;break;case"mousedown":jh=!0;break;case"contextmenu":case"mouseup":case"dragend":jh=!1,x0(le,l,re);break;case"selectionchange":if(Aw)break;case"keydown":case"keyup":x0(le,l,re)}var qe;if(it)e:{switch(s){case"compositionstart":var Ke="onCompositionStart";break e;case"compositionend":Ke="onCompositionEnd";break e;case"compositionupdate":Ke="onCompositionUpdate";break e}Ke=void 0}else sa?co(s,l)&&(Ke="onCompositionEnd"):s==="keydown"&&l.keyCode===229&&(Ke="onCompositionStart");Ke&&(Qi&&l.locale!=="ko"&&(sa||Ke!=="onCompositionStart"?Ke==="onCompositionEnd"&&sa&&(qe=Vl()):(Ji=re,Ll="value"in Ji?Ji.value:Ji.textContent,sa=!0)),Ae=Md(Z,Ke),0<Ae.length&&(Ke=new Wi(Ke,s,null,l,re),le.push({event:Ke,listeners:Ae}),qe?Ke.data=qe:(qe=ia(l),qe!==null&&(Ke.data=qe)))),(qe=Yn?gw(s,l):yw(s,l))&&(Ke=Md(Z,"onBeforeInput"),0<Ke.length&&(Ae=new Wi("onBeforeInput","beforeinput",null,l,re),le.push({event:Ae,listeners:Ke}),Ae.data=qe)),lI(le,s,Z,l,re)}$_(le,o)})}function pu(s,o,l){return{instance:s,listener:o,currentTarget:l}}function Md(s,o){for(var l=o+"Capture",c=[];s!==null;){var _=s,x=_.stateNode;if(_=_.tag,_!==5&&_!==26&&_!==27||x===null||(_=yi(s,l),_!=null&&c.unshift(pu(s,_,x)),_=yi(s,o),_!=null&&c.push(pu(s,_,x))),s.tag===3)return c;s=s.return}return[]}function fI(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function K_(s,o,l,c,_){for(var x=o._reactName,b=[];l!==null&&l!==c;){var R=l,H=R.alternate,Z=R.stateNode;if(R=R.tag,H!==null&&H===c)break;R!==5&&R!==26&&R!==27||Z===null||(H=Z,_?(Z=yi(l,x),Z!=null&&b.unshift(pu(l,Z,H))):_||(Z=yi(l,x),Z!=null&&b.push(pu(l,Z,H)))),l=l.return}b.length!==0&&s.push({event:o,listeners:b})}var hI=/\r\n?/g,pI=/\u0000|\uFFFD/g;function Y_(s){return(typeof s=="string"?s:""+s).replace(hI,`
`).replace(pI,"")}function W_(s,o){return o=Y_(o),Y_(s)===o}function ht(s,o,l,c,_,x){switch(l){case"children":typeof c=="string"?o==="body"||o==="textarea"&&c===""||Cn(s,c):(typeof c=="number"||typeof c=="bigint")&&o!=="body"&&Cn(s,""+c);break;case"className":Ln(s,"class",c);break;case"tabIndex":Ln(s,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Ln(s,l,c);break;case"style":kl(s,c,x);break;case"data":if(o!=="object"){Ln(s,"data",c);break}case"src":case"href":if(c===""&&(o!=="a"||l!=="href")){s.removeAttribute(l);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){s.removeAttribute(l);break}c=Xo(""+c),s.setAttribute(l,c);break;case"action":case"formAction":if(typeof c=="function"){s.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof x=="function"&&(l==="formAction"?(o!=="input"&&ht(s,o,"name",_.name,_,null),ht(s,o,"formEncType",_.formEncType,_,null),ht(s,o,"formMethod",_.formMethod,_,null),ht(s,o,"formTarget",_.formTarget,_,null)):(ht(s,o,"encType",_.encType,_,null),ht(s,o,"method",_.method,_,null),ht(s,o,"target",_.target,_,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){s.removeAttribute(l);break}c=Xo(""+c),s.setAttribute(l,c);break;case"onClick":c!=null&&(s.onclick=gi);break;case"onScroll":c!=null&&$e("scroll",s);break;case"onScrollEnd":c!=null&&$e("scrollend",s);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(l=c.__html,l!=null){if(_.children!=null)throw Error(i(60));s.innerHTML=l}}break;case"multiple":s.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":s.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){s.removeAttribute("xlink:href");break}l=Xo(""+c),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?s.setAttribute(l,""+c):s.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?s.setAttribute(l,""):s.removeAttribute(l);break;case"capture":case"download":c===!0?s.setAttribute(l,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?s.setAttribute(l,c):s.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?s.setAttribute(l,c):s.removeAttribute(l);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?s.removeAttribute(l):s.setAttribute(l,c);break;case"popover":$e("beforetoggle",s),$e("toggle",s),Yo(s,"popover",c);break;case"xlinkActuate":Ot(s,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Ot(s,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Ot(s,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Ot(s,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Ot(s,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Ot(s,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Ot(s,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Ot(s,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Ot(s,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Yo(s,"is",c);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Mc.get(l)||l,Yo(s,l,c))}}function fm(s,o,l,c,_,x){switch(l){case"style":kl(s,c,x);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(l=c.__html,l!=null){if(_.children!=null)throw Error(i(60));s.innerHTML=l}}break;case"children":typeof c=="string"?Cn(s,c):(typeof c=="number"||typeof c=="bigint")&&Cn(s,""+c);break;case"onScroll":c!=null&&$e("scroll",s);break;case"onScrollEnd":c!=null&&$e("scrollend",s);break;case"onClick":c!=null&&(s.onclick=gi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Cl.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(_=l.endsWith("Capture"),o=l.slice(2,_?l.length-7:void 0),x=s[Zt]||null,x=x!=null?x[l]:null,typeof x=="function"&&s.removeEventListener(o,x,_),typeof c=="function")){typeof x!="function"&&x!==null&&(l in s?s[l]=null:s.hasAttribute(l)&&s.removeAttribute(l)),s.addEventListener(o,c,_);break e}l in s?s[l]=c:c===!0?s.setAttribute(l,""):Yo(s,l,c)}}}function cn(s,o,l){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":$e("error",s),$e("load",s);var c=!1,_=!1,x;for(x in l)if(l.hasOwnProperty(x)){var b=l[x];if(b!=null)switch(x){case"src":c=!0;break;case"srcSet":_=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,o));default:ht(s,o,x,b,l,null)}}_&&ht(s,o,"srcSet",l.srcSet,l,null),c&&ht(s,o,"src",l.src,l,null);return;case"input":$e("invalid",s);var R=x=b=_=null,H=null,Z=null;for(c in l)if(l.hasOwnProperty(c)){var re=l[c];if(re!=null)switch(c){case"name":_=re;break;case"type":b=re;break;case"checked":H=re;break;case"defaultChecked":Z=re;break;case"value":x=re;break;case"defaultValue":R=re;break;case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(i(137,o));break;default:ht(s,o,c,re,l,null)}}Ic(s,x,R,H,Z,b,_,!1);return;case"select":$e("invalid",s),c=b=x=null;for(_ in l)if(l.hasOwnProperty(_)&&(R=l[_],R!=null))switch(_){case"value":x=R;break;case"defaultValue":b=R;break;case"multiple":c=R;default:ht(s,o,_,R,l,null)}o=x,l=b,s.multiple=!!c,o!=null?Js(s,!!c,o,!1):l!=null&&Js(s,!!c,l,!0);return;case"textarea":$e("invalid",s),x=_=c=null;for(b in l)if(l.hasOwnProperty(b)&&(R=l[b],R!=null))switch(b){case"value":c=R;break;case"defaultValue":_=R;break;case"children":x=R;break;case"dangerouslySetInnerHTML":if(R!=null)throw Error(i(91));break;default:ht(s,o,b,R,l,null)}Ks(s,c,_,x);return;case"option":for(H in l)if(l.hasOwnProperty(H)&&(c=l[H],c!=null))switch(H){case"selected":s.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:ht(s,o,H,c,l,null)}return;case"dialog":$e("beforetoggle",s),$e("toggle",s),$e("cancel",s),$e("close",s);break;case"iframe":case"object":$e("load",s);break;case"video":case"audio":for(c=0;c<hu.length;c++)$e(hu[c],s);break;case"image":$e("error",s),$e("load",s);break;case"details":$e("toggle",s);break;case"embed":case"source":case"link":$e("error",s),$e("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Z in l)if(l.hasOwnProperty(Z)&&(c=l[Z],c!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,o));default:ht(s,o,Z,c,l,null)}return;default:if(Qo(o)){for(re in l)l.hasOwnProperty(re)&&(c=l[re],c!==void 0&&fm(s,o,re,c,l,void 0));return}}for(R in l)l.hasOwnProperty(R)&&(c=l[R],c!=null&&ht(s,o,R,c,l,null))}function mI(s,o,l,c){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var _=null,x=null,b=null,R=null,H=null,Z=null,re=null;for(se in l){var le=l[se];if(l.hasOwnProperty(se)&&le!=null)switch(se){case"checked":break;case"value":break;case"defaultValue":H=le;default:c.hasOwnProperty(se)||ht(s,o,se,null,c,le)}}for(var ee in c){var se=c[ee];if(le=l[ee],c.hasOwnProperty(ee)&&(se!=null||le!=null))switch(ee){case"type":x=se;break;case"name":_=se;break;case"checked":Z=se;break;case"defaultChecked":re=se;break;case"value":b=se;break;case"defaultValue":R=se;break;case"children":case"dangerouslySetInnerHTML":if(se!=null)throw Error(i(137,o));break;default:se!==le&&ht(s,o,ee,se,c,le)}}Wo(s,b,R,H,Z,re,x,_);return;case"select":se=b=R=ee=null;for(x in l)if(H=l[x],l.hasOwnProperty(x)&&H!=null)switch(x){case"value":break;case"multiple":se=H;default:c.hasOwnProperty(x)||ht(s,o,x,null,c,H)}for(_ in c)if(x=c[_],H=l[_],c.hasOwnProperty(_)&&(x!=null||H!=null))switch(_){case"value":ee=x;break;case"defaultValue":R=x;break;case"multiple":b=x;default:x!==H&&ht(s,o,_,x,c,H)}o=R,l=b,c=se,ee!=null?Js(s,!!l,ee,!1):!!c!=!!l&&(o!=null?Js(s,!!l,o,!0):Js(s,!!l,l?[]:"",!1));return;case"textarea":se=ee=null;for(R in l)if(_=l[R],l.hasOwnProperty(R)&&_!=null&&!c.hasOwnProperty(R))switch(R){case"value":break;case"children":break;default:ht(s,o,R,null,c,_)}for(b in c)if(_=c[b],x=l[b],c.hasOwnProperty(b)&&(_!=null||x!=null))switch(b){case"value":ee=_;break;case"defaultValue":se=_;break;case"children":break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(i(91));break;default:_!==x&&ht(s,o,b,_,c,x)}Nc(s,ee,se);return;case"option":for(var be in l)if(ee=l[be],l.hasOwnProperty(be)&&ee!=null&&!c.hasOwnProperty(be))switch(be){case"selected":s.selected=!1;break;default:ht(s,o,be,null,c,ee)}for(H in c)if(ee=c[H],se=l[H],c.hasOwnProperty(H)&&ee!==se&&(ee!=null||se!=null))switch(H){case"selected":s.selected=ee&&typeof ee!="function"&&typeof ee!="symbol";break;default:ht(s,o,H,ee,c,se)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ne in l)ee=l[Ne],l.hasOwnProperty(Ne)&&ee!=null&&!c.hasOwnProperty(Ne)&&ht(s,o,Ne,null,c,ee);for(Z in c)if(ee=c[Z],se=l[Z],c.hasOwnProperty(Z)&&ee!==se&&(ee!=null||se!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(i(137,o));break;default:ht(s,o,Z,ee,c,se)}return;default:if(Qo(o)){for(var pt in l)ee=l[pt],l.hasOwnProperty(pt)&&ee!==void 0&&!c.hasOwnProperty(pt)&&fm(s,o,pt,void 0,c,ee);for(re in c)ee=c[re],se=l[re],!c.hasOwnProperty(re)||ee===se||ee===void 0&&se===void 0||fm(s,o,re,ee,c,se);return}}for(var J in l)ee=l[J],l.hasOwnProperty(J)&&ee!=null&&!c.hasOwnProperty(J)&&ht(s,o,J,null,c,ee);for(le in c)ee=c[le],se=l[le],!c.hasOwnProperty(le)||ee===se||ee==null&&se==null||ht(s,o,le,ee,c,se)}function Q_(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function gI(){if(typeof performance.getEntriesByType=="function"){for(var s=0,o=0,l=performance.getEntriesByType("resource"),c=0;c<l.length;c++){var _=l[c],x=_.transferSize,b=_.initiatorType,R=_.duration;if(x&&R&&Q_(b)){for(b=0,R=_.responseEnd,c+=1;c<l.length;c++){var H=l[c],Z=H.startTime;if(Z>R)break;var re=H.transferSize,le=H.initiatorType;re&&Q_(le)&&(H=H.responseEnd,b+=re*(H<R?1:(R-Z)/(H-Z)))}if(--c,o+=8*(x+b)/(_.duration/1e3),s++,10<s)break}}if(0<s)return o/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var hm=null,pm=null;function Dd(s){return s.nodeType===9?s:s.ownerDocument}function X_(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Z_(s,o){if(s===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&o==="foreignObject"?0:s}function mm(s,o){return s==="textarea"||s==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var gm=null;function yI(){var s=window.event;return s&&s.type==="popstate"?s===gm?!1:(gm=s,!0):(gm=null,!1)}var ex=typeof setTimeout=="function"?setTimeout:void 0,vI=typeof clearTimeout=="function"?clearTimeout:void 0,tx=typeof Promise=="function"?Promise:void 0,_I=typeof queueMicrotask=="function"?queueMicrotask:typeof tx<"u"?function(s){return tx.resolve(null).then(s).catch(xI)}:ex;function xI(s){setTimeout(function(){throw s})}function yr(s){return s==="head"}function nx(s,o){var l=o,c=0;do{var _=l.nextSibling;if(s.removeChild(l),_&&_.nodeType===8)if(l=_.data,l==="/$"||l==="/&"){if(c===0){s.removeChild(_),Da(o);return}c--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")c++;else if(l==="html")mu(s.ownerDocument.documentElement);else if(l==="head"){l=s.ownerDocument.head,mu(l);for(var x=l.firstChild;x;){var b=x.nextSibling,R=x.nodeName;x[Fi]||R==="SCRIPT"||R==="STYLE"||R==="LINK"&&x.rel.toLowerCase()==="stylesheet"||l.removeChild(x),x=b}}else l==="body"&&mu(s.ownerDocument.body);l=_}while(l);Da(o)}function ix(s,o){var l=s;s=0;do{var c=l.nextSibling;if(l.nodeType===1?o?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(o?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),c&&c.nodeType===8)if(l=c.data,l==="/$"){if(s===0)break;s--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||s++;l=c}while(l)}function ym(s){var o=s.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var l=o;switch(o=o.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":ym(l),Ko(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}s.removeChild(l)}}function EI(s,o,l,c){for(;s.nodeType===1;){var _=l;if(s.nodeName.toLowerCase()!==o.toLowerCase()){if(!c&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(c){if(!s[Fi])switch(o){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(x=s.getAttribute("rel"),x==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(x!==_.rel||s.getAttribute("href")!==(_.href==null||_.href===""?null:_.href)||s.getAttribute("crossorigin")!==(_.crossOrigin==null?null:_.crossOrigin)||s.getAttribute("title")!==(_.title==null?null:_.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(x=s.getAttribute("src"),(x!==(_.src==null?null:_.src)||s.getAttribute("type")!==(_.type==null?null:_.type)||s.getAttribute("crossorigin")!==(_.crossOrigin==null?null:_.crossOrigin))&&x&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(o==="input"&&s.type==="hidden"){var x=_.name==null?null:""+_.name;if(_.type==="hidden"&&s.getAttribute("name")===x)return s}else return s;if(s=ni(s.nextSibling),s===null)break}return null}function TI(s,o,l){if(o==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!l||(s=ni(s.nextSibling),s===null))return null;return s}function sx(s,o){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!o||(s=ni(s.nextSibling),s===null))return null;return s}function vm(s){return s.data==="$?"||s.data==="$~"}function _m(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function SI(s,o){var l=s.ownerDocument;if(s.data==="$~")s._reactRetry=o;else if(s.data!=="$?"||l.readyState!=="loading")o();else{var c=function(){o(),l.removeEventListener("DOMContentLoaded",c)};l.addEventListener("DOMContentLoaded",c),s._reactRetry=c}}function ni(s){for(;s!=null;s=s.nextSibling){var o=s.nodeType;if(o===1||o===3)break;if(o===8){if(o=s.data,o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"||o==="F!"||o==="F")break;if(o==="/$"||o==="/&")return null}}return s}var xm=null;function rx(s){s=s.nextSibling;for(var o=0;s;){if(s.nodeType===8){var l=s.data;if(l==="/$"||l==="/&"){if(o===0)return ni(s.nextSibling);o--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||o++}s=s.nextSibling}return null}function ox(s){s=s.previousSibling;for(var o=0;s;){if(s.nodeType===8){var l=s.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(o===0)return s;o--}else l!=="/$"&&l!=="/&"||o++}s=s.previousSibling}return null}function ax(s,o,l){switch(o=Dd(l),s){case"html":if(s=o.documentElement,!s)throw Error(i(452));return s;case"head":if(s=o.head,!s)throw Error(i(453));return s;case"body":if(s=o.body,!s)throw Error(i(454));return s;default:throw Error(i(451))}}function mu(s){for(var o=s.attributes;o.length;)s.removeAttributeNode(o[0]);Ko(s)}var ii=new Map,lx=new Set;function kd(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var Ns=pe.d;pe.d={f:bI,r:AI,D:CI,C:wI,L:II,m:NI,X:MI,S:RI,M:DI};function bI(){var s=Ns.f(),o=bd();return s||o}function AI(s){var o=$n(s);o!==null&&o.tag===5&&o.type==="form"?Av(o):Ns.r(s)}var Na=typeof document>"u"?null:document;function ux(s,o,l){var c=Na;if(c&&typeof o=="string"&&o){var _=An(o);_='link[rel="'+s+'"][href="'+_+'"]',typeof l=="string"&&(_+='[crossorigin="'+l+'"]'),lx.has(_)||(lx.add(_),s={rel:s,crossOrigin:l,href:o},c.querySelector(_)===null&&(o=c.createElement("link"),cn(o,"link",s),Ut(o),c.head.appendChild(o)))}}function CI(s){Ns.D(s),ux("dns-prefetch",s,null)}function wI(s,o){Ns.C(s,o),ux("preconnect",s,o)}function II(s,o,l){Ns.L(s,o,l);var c=Na;if(c&&s&&o){var _='link[rel="preload"][as="'+An(o)+'"]';o==="image"&&l&&l.imageSrcSet?(_+='[imagesrcset="'+An(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(_+='[imagesizes="'+An(l.imageSizes)+'"]')):_+='[href="'+An(s)+'"]';var x=_;switch(o){case"style":x=Ra(s);break;case"script":x=Ma(s)}ii.has(x)||(s=E({rel:"preload",href:o==="image"&&l&&l.imageSrcSet?void 0:s,as:o},l),ii.set(x,s),c.querySelector(_)!==null||o==="style"&&c.querySelector(gu(x))||o==="script"&&c.querySelector(yu(x))||(o=c.createElement("link"),cn(o,"link",s),Ut(o),c.head.appendChild(o)))}}function NI(s,o){Ns.m(s,o);var l=Na;if(l&&s){var c=o&&typeof o.as=="string"?o.as:"script",_='link[rel="modulepreload"][as="'+An(c)+'"][href="'+An(s)+'"]',x=_;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":x=Ma(s)}if(!ii.has(x)&&(s=E({rel:"modulepreload",href:s},o),ii.set(x,s),l.querySelector(_)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(yu(x)))return}c=l.createElement("link"),cn(c,"link",s),Ut(c),l.head.appendChild(c)}}}function RI(s,o,l){Ns.S(s,o,l);var c=Na;if(c&&s){var _=qi(c).hoistableStyles,x=Ra(s);o=o||"default";var b=_.get(x);if(!b){var R={loading:0,preload:null};if(b=c.querySelector(gu(x)))R.loading=5;else{s=E({rel:"stylesheet",href:s,"data-precedence":o},l),(l=ii.get(x))&&Em(s,l);var H=b=c.createElement("link");Ut(H),cn(H,"link",s),H._p=new Promise(function(Z,re){H.onload=Z,H.onerror=re}),H.addEventListener("load",function(){R.loading|=1}),H.addEventListener("error",function(){R.loading|=2}),R.loading|=4,Pd(b,o,c)}b={type:"stylesheet",instance:b,count:1,state:R},_.set(x,b)}}}function MI(s,o){Ns.X(s,o);var l=Na;if(l&&s){var c=qi(l).hoistableScripts,_=Ma(s),x=c.get(_);x||(x=l.querySelector(yu(_)),x||(s=E({src:s,async:!0},o),(o=ii.get(_))&&Tm(s,o),x=l.createElement("script"),Ut(x),cn(x,"link",s),l.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},c.set(_,x))}}function DI(s,o){Ns.M(s,o);var l=Na;if(l&&s){var c=qi(l).hoistableScripts,_=Ma(s),x=c.get(_);x||(x=l.querySelector(yu(_)),x||(s=E({src:s,async:!0,type:"module"},o),(o=ii.get(_))&&Tm(s,o),x=l.createElement("script"),Ut(x),cn(x,"link",s),l.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},c.set(_,x))}}function cx(s,o,l,c){var _=(_=Oe.current)?kd(_):null;if(!_)throw Error(i(446));switch(s){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(o=Ra(l.href),l=qi(_).hoistableStyles,c=l.get(o),c||(c={type:"style",instance:null,count:0,state:null},l.set(o,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){s=Ra(l.href);var x=qi(_).hoistableStyles,b=x.get(s);if(b||(_=_.ownerDocument||_,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},x.set(s,b),(x=_.querySelector(gu(s)))&&!x._p&&(b.instance=x,b.state.loading=5),ii.has(s)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},ii.set(s,l),x||kI(_,s,l,b.state))),o&&c===null)throw Error(i(528,""));return b}if(o&&c!==null)throw Error(i(529,""));return null;case"script":return o=l.async,l=l.src,typeof l=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=Ma(l),l=qi(_).hoistableScripts,c=l.get(o),c||(c={type:"script",instance:null,count:0,state:null},l.set(o,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,s))}}function Ra(s){return'href="'+An(s)+'"'}function gu(s){return'link[rel="stylesheet"]['+s+"]"}function dx(s){return E({},s,{"data-precedence":s.precedence,precedence:null})}function kI(s,o,l,c){s.querySelector('link[rel="preload"][as="style"]['+o+"]")?c.loading=1:(o=s.createElement("link"),c.preload=o,o.addEventListener("load",function(){return c.loading|=1}),o.addEventListener("error",function(){return c.loading|=2}),cn(o,"link",l),Ut(o),s.head.appendChild(o))}function Ma(s){return'[src="'+An(s)+'"]'}function yu(s){return"script[async]"+s}function fx(s,o,l){if(o.count++,o.instance===null)switch(o.type){case"style":var c=s.querySelector('style[data-href~="'+An(l.href)+'"]');if(c)return o.instance=c,Ut(c),c;var _=E({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return c=(s.ownerDocument||s).createElement("style"),Ut(c),cn(c,"style",_),Pd(c,l.precedence,s),o.instance=c;case"stylesheet":_=Ra(l.href);var x=s.querySelector(gu(_));if(x)return o.state.loading|=4,o.instance=x,Ut(x),x;c=dx(l),(_=ii.get(_))&&Em(c,_),x=(s.ownerDocument||s).createElement("link"),Ut(x);var b=x;return b._p=new Promise(function(R,H){b.onload=R,b.onerror=H}),cn(x,"link",c),o.state.loading|=4,Pd(x,l.precedence,s),o.instance=x;case"script":return x=Ma(l.src),(_=s.querySelector(yu(x)))?(o.instance=_,Ut(_),_):(c=l,(_=ii.get(x))&&(c=E({},l),Tm(c,_)),s=s.ownerDocument||s,_=s.createElement("script"),Ut(_),cn(_,"link",c),s.head.appendChild(_),o.instance=_);case"void":return null;default:throw Error(i(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(c=o.instance,o.state.loading|=4,Pd(c,l.precedence,s));return o.instance}function Pd(s,o,l){for(var c=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),_=c.length?c[c.length-1]:null,x=_,b=0;b<c.length;b++){var R=c[b];if(R.dataset.precedence===o)x=R;else if(x!==_)break}x?x.parentNode.insertBefore(s,x.nextSibling):(o=l.nodeType===9?l.head:l,o.insertBefore(s,o.firstChild))}function Em(s,o){s.crossOrigin==null&&(s.crossOrigin=o.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=o.referrerPolicy),s.title==null&&(s.title=o.title)}function Tm(s,o){s.crossOrigin==null&&(s.crossOrigin=o.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=o.referrerPolicy),s.integrity==null&&(s.integrity=o.integrity)}var Ld=null;function hx(s,o,l){if(Ld===null){var c=new Map,_=Ld=new Map;_.set(l,c)}else _=Ld,c=_.get(l),c||(c=new Map,_.set(l,c));if(c.has(s))return c;for(c.set(s,null),l=l.getElementsByTagName(s),_=0;_<l.length;_++){var x=l[_];if(!(x[Fi]||x[Vt]||s==="link"&&x.getAttribute("rel")==="stylesheet")&&x.namespaceURI!=="http://www.w3.org/2000/svg"){var b=x.getAttribute(o)||"";b=s+b;var R=c.get(b);R?R.push(x):c.set(b,[x])}}return c}function px(s,o,l){s=s.ownerDocument||s,s.head.insertBefore(l,o==="title"?s.querySelector("head > title"):null)}function PI(s,o,l){if(l===1||o.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return s=o.disabled,typeof o.precedence=="string"&&s==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function mx(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function LI(s,o,l,c){if(l.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var _=Ra(c.href),x=o.querySelector(gu(_));if(x){o=x._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(s.count++,s=Vd.bind(s),o.then(s,s)),l.state.loading|=4,l.instance=x,Ut(x);return}x=o.ownerDocument||o,c=dx(c),(_=ii.get(_))&&Em(c,_),x=x.createElement("link"),Ut(x);var b=x;b._p=new Promise(function(R,H){b.onload=R,b.onerror=H}),cn(x,"link",c),l.instance=x}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(l,o),(o=l.state.preload)&&(l.state.loading&3)===0&&(s.count++,l=Vd.bind(s),o.addEventListener("load",l),o.addEventListener("error",l))}}var Sm=0;function VI(s,o){return s.stylesheets&&s.count===0&&Od(s,s.stylesheets),0<s.count||0<s.imgCount?function(l){var c=setTimeout(function(){if(s.stylesheets&&Od(s,s.stylesheets),s.unsuspend){var x=s.unsuspend;s.unsuspend=null,x()}},6e4+o);0<s.imgBytes&&Sm===0&&(Sm=62500*gI());var _=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&Od(s,s.stylesheets),s.unsuspend)){var x=s.unsuspend;s.unsuspend=null,x()}},(s.imgBytes>Sm?50:800)+o);return s.unsuspend=l,function(){s.unsuspend=null,clearTimeout(c),clearTimeout(_)}}:null}function Vd(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Od(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var Ud=null;function Od(s,o){s.stylesheets=null,s.unsuspend!==null&&(s.count++,Ud=new Map,o.forEach(UI,s),Ud=null,Vd.call(s))}function UI(s,o){if(!(o.state.loading&4)){var l=Ud.get(s);if(l)var c=l.get(null);else{l=new Map,Ud.set(s,l);for(var _=s.querySelectorAll("link[data-precedence],style[data-precedence]"),x=0;x<_.length;x++){var b=_[x];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(l.set(b.dataset.precedence,b),c=b)}c&&l.set(null,c)}_=o.instance,b=_.getAttribute("data-precedence"),x=l.get(b)||c,x===c&&l.set(null,_),l.set(b,_),this.count++,c=Vd.bind(this),_.addEventListener("load",c),_.addEventListener("error",c),x?x.parentNode.insertBefore(_,x.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(_,s.firstChild)),o.state.loading|=4}}var vu={$$typeof:q,Provider:null,Consumer:null,_currentValue:fe,_currentValue2:fe,_threadCount:0};function OI(s,o,l,c,_,x,b,R,H){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Oi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Oi(0),this.hiddenUpdates=Oi(null),this.identifierPrefix=c,this.onUncaughtError=_,this.onCaughtError=x,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=H,this.incompleteTransitions=new Map}function gx(s,o,l,c,_,x,b,R,H,Z,re,le){return s=new OI(s,o,l,b,H,Z,re,le,R),o=1,x===!0&&(o|=24),x=Un(3,null,null,o),s.current=x,x.stateNode=s,o=np(),o.refCount++,s.pooledCache=o,o.refCount++,x.memoizedState={element:c,isDehydrated:l,cache:o},op(x),s}function yx(s){return s?(s=la,s):la}function vx(s,o,l,c,_,x){_=yx(_),c.context===null?c.context=_:c.pendingContext=_,c=or(o),c.payload={element:l},x=x===void 0?null:x,x!==null&&(c.callback=x),l=ar(s,c,o),l!==null&&(Mn(l,s,o),Wl(l,s,o))}function _x(s,o){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var l=s.retryLane;s.retryLane=l!==0&&l<o?l:o}}function bm(s,o){_x(s,o),(s=s.alternate)&&_x(s,o)}function xx(s){if(s.tag===13||s.tag===31){var o=po(s,67108864);o!==null&&Mn(o,s,67108864),bm(s,67108864)}}function Ex(s){if(s.tag===13||s.tag===31){var o=qn();o=to(o);var l=po(s,o);l!==null&&Mn(l,s,o),bm(s,o)}}var zd=!0;function zI(s,o,l,c){var _=ne.T;ne.T=null;var x=pe.p;try{pe.p=2,Am(s,o,l,c)}finally{pe.p=x,ne.T=_}}function FI(s,o,l,c){var _=ne.T;ne.T=null;var x=pe.p;try{pe.p=8,Am(s,o,l,c)}finally{pe.p=x,ne.T=_}}function Am(s,o,l,c){if(zd){var _=Cm(c);if(_===null)dm(s,o,c,Fd,l),Sx(s,c);else if(qI(_,s,o,l,c))c.stopPropagation();else if(Sx(s,c),o&4&&-1<jI.indexOf(s)){for(;_!==null;){var x=$n(_);if(x!==null)switch(x.tag){case 3:if(x=x.stateNode,x.current.memoizedState.isDehydrated){var b=Vi(x.pendingLanes);if(b!==0){var R=x;for(R.pendingLanes|=2,R.entangledLanes|=2;b;){var H=1<<31-Nt(b);R.entanglements[1]|=H,b&=~H}ts(x),(st&6)===0&&(Td=xn()+500,fu(0))}}break;case 31:case 13:R=po(x,2),R!==null&&Mn(R,x,2),bd(),bm(x,2)}if(x=Cm(c),x===null&&dm(s,o,c,Fd,l),x===_)break;_=x}_!==null&&c.stopPropagation()}else dm(s,o,c,null,l)}}function Cm(s){return s=Jn(s),wm(s)}var Fd=null;function wm(s){if(Fd=null,s=ji(s),s!==null){var o=a(s);if(o===null)s=null;else{var l=o.tag;if(l===13){if(s=u(o),s!==null)return s;s=null}else if(l===31){if(s=d(o),s!==null)return s;s=null}else if(l===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;s=null}else o!==s&&(s=null)}}return Fd=s,null}function Tx(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Qr()){case El:return 2;case Tl:return 8;case Bs:case kh:return 32;case vc:return 268435456;default:return 32}default:return 32}}var Im=!1,vr=null,_r=null,xr=null,_u=new Map,xu=new Map,Er=[],jI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Sx(s,o){switch(s){case"focusin":case"focusout":vr=null;break;case"dragenter":case"dragleave":_r=null;break;case"mouseover":case"mouseout":xr=null;break;case"pointerover":case"pointerout":_u.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":xu.delete(o.pointerId)}}function Eu(s,o,l,c,_,x){return s===null||s.nativeEvent!==x?(s={blockedOn:o,domEventName:l,eventSystemFlags:c,nativeEvent:x,targetContainers:[_]},o!==null&&(o=$n(o),o!==null&&xx(o)),s):(s.eventSystemFlags|=c,o=s.targetContainers,_!==null&&o.indexOf(_)===-1&&o.push(_),s)}function qI(s,o,l,c,_){switch(o){case"focusin":return vr=Eu(vr,s,o,l,c,_),!0;case"dragenter":return _r=Eu(_r,s,o,l,c,_),!0;case"mouseover":return xr=Eu(xr,s,o,l,c,_),!0;case"pointerover":var x=_.pointerId;return _u.set(x,Eu(_u.get(x)||null,s,o,l,c,_)),!0;case"gotpointercapture":return x=_.pointerId,xu.set(x,Eu(xu.get(x)||null,s,o,l,c,_)),!0}return!1}function bx(s){var o=ji(s.target);if(o!==null){var l=a(o);if(l!==null){if(o=l.tag,o===13){if(o=u(l),o!==null){s.blockedOn=o,pi(s.priority,function(){Ex(l)});return}}else if(o===31){if(o=d(l),o!==null){s.blockedOn=o,pi(s.priority,function(){Ex(l)});return}}else if(o===3&&l.stateNode.current.memoizedState.isDehydrated){s.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}s.blockedOn=null}function jd(s){if(s.blockedOn!==null)return!1;for(var o=s.targetContainers;0<o.length;){var l=Cm(s.nativeEvent);if(l===null){l=s.nativeEvent;var c=new l.constructor(l.type,l);Pl=c,l.target.dispatchEvent(c),Pl=null}else return o=$n(l),o!==null&&xx(o),s.blockedOn=l,!1;o.shift()}return!0}function Ax(s,o,l){jd(s)&&l.delete(o)}function HI(){Im=!1,vr!==null&&jd(vr)&&(vr=null),_r!==null&&jd(_r)&&(_r=null),xr!==null&&jd(xr)&&(xr=null),_u.forEach(Ax),xu.forEach(Ax)}function qd(s,o){s.blockedOn===o&&(s.blockedOn=null,Im||(Im=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,HI)))}var Hd=null;function Cx(s){Hd!==s&&(Hd=s,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Hd===s&&(Hd=null);for(var o=0;o<s.length;o+=3){var l=s[o],c=s[o+1],_=s[o+2];if(typeof c!="function"){if(wm(c||l)===null)continue;break}var x=$n(l);x!==null&&(s.splice(o,3),o-=3,Cp(x,{pending:!0,data:_,method:l.method,action:c},c,_))}}))}function Da(s){function o(H){return qd(H,s)}vr!==null&&qd(vr,s),_r!==null&&qd(_r,s),xr!==null&&qd(xr,s),_u.forEach(o),xu.forEach(o);for(var l=0;l<Er.length;l++){var c=Er[l];c.blockedOn===s&&(c.blockedOn=null)}for(;0<Er.length&&(l=Er[0],l.blockedOn===null);)bx(l),l.blockedOn===null&&Er.shift();if(l=(s.ownerDocument||s).$$reactFormReplay,l!=null)for(c=0;c<l.length;c+=3){var _=l[c],x=l[c+1],b=_[Zt]||null;if(typeof x=="function")b||Cx(l);else if(b){var R=null;if(x&&x.hasAttribute("formAction")){if(_=x,b=x[Zt]||null)R=b.formAction;else if(wm(_)!==null)continue}else R=b.action;typeof R=="function"?l[c+1]=R:(l.splice(c,3),c-=3),Cx(l)}}}function wx(){function s(x){x.canIntercept&&x.info==="react-transition"&&x.intercept({handler:function(){return new Promise(function(b){return _=b})},focusReset:"manual",scroll:"manual"})}function o(){_!==null&&(_(),_=null),c||setTimeout(l,20)}function l(){if(!c&&!navigation.transition){var x=navigation.currentEntry;x&&x.url!=null&&navigation.navigate(x.url,{state:x.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,_=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",o),navigation.addEventListener("navigateerror",o),setTimeout(l,100),function(){c=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",o),navigation.removeEventListener("navigateerror",o),_!==null&&(_(),_=null)}}}function Nm(s){this._internalRoot=s}Gd.prototype.render=Nm.prototype.render=function(s){var o=this._internalRoot;if(o===null)throw Error(i(409));var l=o.current,c=qn();vx(l,c,s,o,null,null)},Gd.prototype.unmount=Nm.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var o=s.containerInfo;vx(s.current,2,null,s,null,null),bd(),o[zi]=null}};function Gd(s){this._internalRoot=s}Gd.prototype.unstable_scheduleHydration=function(s){if(s){var o=bc();s={blockedOn:null,target:s,priority:o};for(var l=0;l<Er.length&&o!==0&&o<Er[l].priority;l++);Er.splice(l,0,s),l===0&&bx(s)}};var Ix=e.version;if(Ix!=="19.2.4")throw Error(i(527,Ix,"19.2.4"));pe.findDOMNode=function(s){var o=s._reactInternals;if(o===void 0)throw typeof s.render=="function"?Error(i(188)):(s=Object.keys(s).join(","),Error(i(268,s)));return s=h(o),s=s!==null?v(s):null,s=s===null?null:s.stateNode,s};var GI={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:ne,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Bd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bd.isDisabled&&Bd.supportsFiber)try{fi=Bd.inject(GI),rn=Bd}catch{}}return Su.createRoot=function(s,o){if(!r(s))throw Error(i(299));var l=!1,c="",_=Lv,x=Vv,b=Uv;return o!=null&&(o.unstable_strictMode===!0&&(l=!0),o.identifierPrefix!==void 0&&(c=o.identifierPrefix),o.onUncaughtError!==void 0&&(_=o.onUncaughtError),o.onCaughtError!==void 0&&(x=o.onCaughtError),o.onRecoverableError!==void 0&&(b=o.onRecoverableError)),o=gx(s,1,!1,null,null,l,c,null,_,x,b,wx),s[zi]=o.current,cm(s),new Nm(o)},Su.hydrateRoot=function(s,o,l){if(!r(s))throw Error(i(299));var c=!1,_="",x=Lv,b=Vv,R=Uv,H=null;return l!=null&&(l.unstable_strictMode===!0&&(c=!0),l.identifierPrefix!==void 0&&(_=l.identifierPrefix),l.onUncaughtError!==void 0&&(x=l.onUncaughtError),l.onCaughtError!==void 0&&(b=l.onCaughtError),l.onRecoverableError!==void 0&&(R=l.onRecoverableError),l.formState!==void 0&&(H=l.formState)),o=gx(s,1,!0,o,l??null,c,_,H,x,b,R,wx),o.context=yx(null),l=o.current,c=qn(),c=to(c),_=or(c),_.callback=null,ar(l,_,c),l=c,o.current.lanes=l,Zr(o,l),ts(o),s[zi]=o.current,cm(s),new Gd(o)},Su.version="19.2.4",Su}var Ox;function tN(){if(Ox)return Dm.exports;Ox=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Dm.exports=eN(),Dm.exports}var nN=tN();const iN=rb(nN);/**
 * react-router v7.13.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var zx="popstate";function sN(n={}){function e(r,a){let{pathname:u="/",search:d="",hash:p=""}=zo(r.location.hash.substring(1));return!u.startsWith("/")&&!u.startsWith(".")&&(u="/"+u),tg("",{pathname:u,search:d,hash:p},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function t(r,a){let u=r.document.querySelector("base"),d="";if(u&&u.getAttribute("href")){let p=r.location.href,h=p.indexOf("#");d=h===-1?p:p.slice(0,h)}return d+"#"+(typeof a=="string"?a:ju(a))}function i(r,a){li(r.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(a)})`)}return oN(e,t,i,n)}function Tt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function li(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function rN(){return Math.random().toString(36).substring(2,10)}function Fx(n,e){return{usr:n.state,key:n.key,idx:e}}function tg(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?zo(e):e,state:t,key:e&&e.key||i||rN()}}function ju({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function zo(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function oN(n,e,t,i={}){let{window:r=document.defaultView,v5Compat:a=!1}=i,u=r.history,d="POP",p=null,h=v();h==null&&(h=0,u.replaceState({...u.state,idx:h},""));function v(){return(u.state||{idx:null}).idx}function E(){d="POP";let w=v(),z=w==null?null:w-h;h=w,p&&p({action:d,location:V.location,delta:z})}function T(w,z){d="PUSH";let G=tg(V.location,w,z);t&&t(G,w),h=v()+1;let q=Fx(G,h),W=V.createHref(G);try{u.pushState(q,"",W)}catch(B){if(B instanceof DOMException&&B.name==="DataCloneError")throw B;r.location.assign(W)}a&&p&&p({action:d,location:V.location,delta:1})}function A(w,z){d="REPLACE";let G=tg(V.location,w,z);t&&t(G,w),h=v();let q=Fx(G,h),W=V.createHref(G);u.replaceState(q,"",W),a&&p&&p({action:d,location:V.location,delta:0})}function M(w){return aN(w)}let V={get action(){return d},get location(){return n(r,u)},listen(w){if(p)throw new Error("A history only accepts one active listener");return r.addEventListener(zx,E),p=w,()=>{r.removeEventListener(zx,E),p=null}},createHref(w){return e(r,w)},createURL:M,encodeLocation(w){let z=M(w);return{pathname:z.pathname,search:z.search,hash:z.hash}},push:T,replace:A,go(w){return u.go(w)}};return V}function aN(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),Tt(t,"No window.location.(origin|href) available to create URL");let i=typeof n=="string"?n:ju(n);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=t+i),new URL(i,t)}function ob(n,e,t="/"){return lN(n,e,t,!1)}function lN(n,e,t,i){let r=typeof e=="string"?zo(e):e,a=Ps(r.pathname||"/",t);if(a==null)return null;let u=ab(n);uN(u);let d=null;for(let p=0;d==null&&p<u.length;++p){let h=xN(a);d=vN(u[p],h,i)}return d}function ab(n,e=[],t=[],i="",r=!1){let a=(u,d,p=r,h)=>{let v={relativePath:h===void 0?u.path||"":h,caseSensitive:u.caseSensitive===!0,childrenIndex:d,route:u};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(i)&&p)return;Tt(v.relativePath.startsWith(i),`Absolute route path "${v.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(i.length)}let E=Ds([i,v.relativePath]),T=t.concat(v);u.children&&u.children.length>0&&(Tt(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${E}".`),ab(u.children,e,T,E,p)),!(u.path==null&&!u.index)&&e.push({path:E,score:gN(E,u.index),routesMeta:T})};return n.forEach((u,d)=>{var p;if(u.path===""||!((p=u.path)!=null&&p.includes("?")))a(u,d);else for(let h of lb(u.path))a(u,d,!0,h)}),e}function lb(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,r=t.endsWith("?"),a=t.replace(/\?$/,"");if(i.length===0)return r?[a,""]:[a];let u=lb(i.join("/")),d=[];return d.push(...u.map(p=>p===""?a:[a,p].join("/"))),r&&d.push(...u),d.map(p=>n.startsWith("/")&&p===""?"/":p)}function uN(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:yN(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var cN=/^:[\w-]+$/,dN=3,fN=2,hN=1,pN=10,mN=-2,jx=n=>n==="*";function gN(n,e){let t=n.split("/"),i=t.length;return t.some(jx)&&(i+=mN),e&&(i+=fN),t.filter(r=>!jx(r)).reduce((r,a)=>r+(cN.test(a)?dN:a===""?hN:pN),i)}function yN(n,e){return n.length===e.length&&n.slice(0,-1).every((i,r)=>i===e[r])?n[n.length-1]-e[e.length-1]:0}function vN(n,e,t=!1){let{routesMeta:i}=n,r={},a="/",u=[];for(let d=0;d<i.length;++d){let p=i[d],h=d===i.length-1,v=a==="/"?e:e.slice(a.length)||"/",E=Sf({path:p.relativePath,caseSensitive:p.caseSensitive,end:h},v),T=p.route;if(!E&&h&&t&&!i[i.length-1].route.index&&(E=Sf({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},v)),!E)return null;Object.assign(r,E.params),u.push({params:r,pathname:Ds([a,E.pathname]),pathnameBase:bN(Ds([a,E.pathnameBase])),route:T}),E.pathnameBase!=="/"&&(a=Ds([a,E.pathnameBase]))}return u}function Sf(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=_N(n.path,n.caseSensitive,n.end),r=e.match(t);if(!r)return null;let a=r[0],u=a.replace(/(.)\/+$/,"$1"),d=r.slice(1);return{params:i.reduce((h,{paramName:v,isOptional:E},T)=>{if(v==="*"){let M=d[T]||"";u=a.slice(0,a.length-M.length).replace(/(.)\/+$/,"$1")}const A=d[T];return E&&!A?h[v]=void 0:h[v]=(A||"").replace(/%2F/g,"/"),h},{}),pathname:a,pathnameBase:u,pattern:n}}function _N(n,e=!1,t=!0){li(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],r="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,d,p)=>(i.push({paramName:d,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(i.push({paramName:"*"}),r+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?r+="\\/*$":n!==""&&n!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),i]}function xN(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return li(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Ps(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}var EN=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function TN(n,e="/"){let{pathname:t,search:i="",hash:r=""}=typeof n=="string"?zo(n):n,a;return t?(t=t.replace(/\/\/+/g,"/"),t.startsWith("/")?a=qx(t.substring(1),"/"):a=qx(t,e)):a=e,{pathname:a,search:AN(i),hash:CN(r)}}function qx(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(r=>{r===".."?t.length>1&&t.pop():r!=="."&&t.push(r)}),t.length>1?t.join("/"):"/"}function Vm(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function SN(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Qg(n){let e=SN(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function Xg(n,e,t,i=!1){let r;typeof n=="string"?r=zo(n):(r={...n},Tt(!r.pathname||!r.pathname.includes("?"),Vm("?","pathname","search",r)),Tt(!r.pathname||!r.pathname.includes("#"),Vm("#","pathname","hash",r)),Tt(!r.search||!r.search.includes("#"),Vm("#","search","hash",r)));let a=n===""||r.pathname==="",u=a?"/":r.pathname,d;if(u==null)d=t;else{let E=e.length-1;if(!i&&u.startsWith("..")){let T=u.split("/");for(;T[0]==="..";)T.shift(),E-=1;r.pathname=T.join("/")}d=E>=0?e[E]:"/"}let p=TN(r,d),h=u&&u!=="/"&&u.endsWith("/"),v=(a||u===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(h||v)&&(p.pathname+="/"),p}var Ds=n=>n.join("/").replace(/\/\/+/g,"/"),bN=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),AN=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,CN=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,wN=class{constructor(n,e,t,i=!1){this.status=n,this.statusText=e||"",this.internal=i,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function IN(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}function NN(n){return n.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var ub=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function cb(n,e){let t=n;if(typeof t!="string"||!EN.test(t))return{absoluteURL:void 0,isExternal:!1,to:t};let i=t,r=!1;if(ub)try{let a=new URL(window.location.href),u=t.startsWith("//")?new URL(a.protocol+t):new URL(t),d=Ps(u.pathname,e);u.origin===a.origin&&d!=null?t=d+u.search+u.hash:r=!0}catch{li(!1,`<Link to="${t}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:i,isExternal:r,to:t}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var db=["POST","PUT","PATCH","DELETE"];new Set(db);var RN=["GET",...db];new Set(RN);var ol=j.createContext(null);ol.displayName="DataRouter";var Zf=j.createContext(null);Zf.displayName="DataRouterState";var MN=j.createContext(!1),fb=j.createContext({isTransitioning:!1});fb.displayName="ViewTransition";var DN=j.createContext(new Map);DN.displayName="Fetchers";var kN=j.createContext(null);kN.displayName="Await";var Gn=j.createContext(null);Gn.displayName="Navigation";var Xu=j.createContext(null);Xu.displayName="Location";var ki=j.createContext({outlet:null,matches:[],isDataRoute:!1});ki.displayName="Route";var Zg=j.createContext(null);Zg.displayName="RouteError";var hb="REACT_ROUTER_ERROR",PN="REDIRECT",LN="ROUTE_ERROR_RESPONSE";function VN(n){if(n.startsWith(`${hb}:${PN}:{`))try{let e=JSON.parse(n.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function UN(n){if(n.startsWith(`${hb}:${LN}:{`))try{let e=JSON.parse(n.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new wN(e.status,e.statusText,e.data)}catch{}}function ON(n,{relative:e}={}){Tt(al(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=j.useContext(Gn),{hash:r,pathname:a,search:u}=Zu(n,{relative:e}),d=a;return t!=="/"&&(d=a==="/"?t:Ds([t,a])),i.createHref({pathname:d,search:u,hash:r})}function al(){return j.useContext(Xu)!=null}function Br(){return Tt(al(),"useLocation() may be used only in the context of a <Router> component."),j.useContext(Xu).location}var pb="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function mb(n){j.useContext(Gn).static||j.useLayoutEffect(n)}function ey(){let{isDataRoute:n}=j.useContext(ki);return n?ZN():zN()}function zN(){Tt(al(),"useNavigate() may be used only in the context of a <Router> component.");let n=j.useContext(ol),{basename:e,navigator:t}=j.useContext(Gn),{matches:i}=j.useContext(ki),{pathname:r}=Br(),a=JSON.stringify(Qg(i)),u=j.useRef(!1);return mb(()=>{u.current=!0}),j.useCallback((p,h={})=>{if(li(u.current,pb),!u.current)return;if(typeof p=="number"){t.go(p);return}let v=Xg(p,JSON.parse(a),r,h.relative==="path");n==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:Ds([e,v.pathname])),(h.replace?t.replace:t.push)(v,h.state,h)},[e,t,a,r,n])}var FN=j.createContext(null);function jN(n){let e=j.useContext(ki).outlet;return j.useMemo(()=>e&&j.createElement(FN.Provider,{value:n},e),[e,n])}function Zu(n,{relative:e}={}){let{matches:t}=j.useContext(ki),{pathname:i}=Br(),r=JSON.stringify(Qg(t));return j.useMemo(()=>Xg(n,JSON.parse(r),i,e==="path"),[n,r,i,e])}function qN(n,e){return gb(n,e)}function gb(n,e,t,i,r){var G;Tt(al(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=j.useContext(Gn),{matches:u}=j.useContext(ki),d=u[u.length-1],p=d?d.params:{},h=d?d.pathname:"/",v=d?d.pathnameBase:"/",E=d&&d.route;{let q=E&&E.path||"";vb(h,!E||q.endsWith("*")||q.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${q}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${q}"> to <Route path="${q==="/"?"*":`${q}/*`}">.`)}let T=Br(),A;if(e){let q=typeof e=="string"?zo(e):e;Tt(v==="/"||((G=q.pathname)==null?void 0:G.startsWith(v)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${q.pathname}" was given in the \`location\` prop.`),A=q}else A=T;let M=A.pathname||"/",V=M;if(v!=="/"){let q=v.replace(/^\//,"").split("/");V="/"+M.replace(/^\//,"").split("/").slice(q.length).join("/")}let w=ob(n,{pathname:V});li(E||w!=null,`No routes matched location "${A.pathname}${A.search}${A.hash}" `),li(w==null||w[w.length-1].route.element!==void 0||w[w.length-1].route.Component!==void 0||w[w.length-1].route.lazy!==void 0,`Matched leaf route at location "${A.pathname}${A.search}${A.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let z=JN(w&&w.map(q=>Object.assign({},q,{params:Object.assign({},p,q.params),pathname:Ds([v,a.encodeLocation?a.encodeLocation(q.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:q.pathname]),pathnameBase:q.pathnameBase==="/"?v:Ds([v,a.encodeLocation?a.encodeLocation(q.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:q.pathnameBase])})),u,t,i,r);return e&&z?j.createElement(Xu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...A},navigationType:"POP"}},z):z}function HN(){let n=XN(),e=IN(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:i},a={padding:"2px 4px",backgroundColor:i},u=null;return console.error("Error handled by React Router default ErrorBoundary:",n),u=j.createElement(j.Fragment,null,j.createElement("p",null," Hey developer "),j.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",j.createElement("code",{style:a},"ErrorBoundary")," or"," ",j.createElement("code",{style:a},"errorElement")," prop on your route.")),j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},e),t?j.createElement("pre",{style:r},t):null,u)}var GN=j.createElement(HN,null),yb=class extends j.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.onError?this.props.onError(n,e):console.error("React Router caught the following error during render",n)}render(){let n=this.state.error;if(this.context&&typeof n=="object"&&n&&"digest"in n&&typeof n.digest=="string"){const t=UN(n.digest);t&&(n=t)}let e=n!==void 0?j.createElement(ki.Provider,{value:this.props.routeContext},j.createElement(Zg.Provider,{value:n,children:this.props.component})):this.props.children;return this.context?j.createElement(BN,{error:n},e):e}};yb.contextType=MN;var Um=new WeakMap;function BN({children:n,error:e}){let{basename:t}=j.useContext(Gn);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let i=VN(e.digest);if(i){let r=Um.get(e);if(r)throw r;let a=cb(i.location,t);if(ub&&!Um.get(e))if(a.isExternal||i.reloadDocument)window.location.href=a.absoluteURL||a.to;else{const u=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(a.to,{replace:i.replace}));throw Um.set(e,u),u}return j.createElement("meta",{httpEquiv:"refresh",content:`0;url=${a.absoluteURL||a.to}`})}}return n}function $N({routeContext:n,match:e,children:t}){let i=j.useContext(ol);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),j.createElement(ki.Provider,{value:n},t)}function JN(n,e=[],t=null,i=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let a=n,u=t==null?void 0:t.errors;if(u!=null){let v=a.findIndex(E=>E.route.id&&(u==null?void 0:u[E.route.id])!==void 0);Tt(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),a=a.slice(0,Math.min(a.length,v+1))}let d=!1,p=-1;if(t)for(let v=0;v<a.length;v++){let E=a[v];if((E.route.HydrateFallback||E.route.hydrateFallbackElement)&&(p=v),E.route.id){let{loaderData:T,errors:A}=t,M=E.route.loader&&!T.hasOwnProperty(E.route.id)&&(!A||A[E.route.id]===void 0);if(E.route.lazy||M){d=!0,p>=0?a=a.slice(0,p+1):a=[a[0]];break}}}let h=t&&i?(v,E)=>{var T,A;i(v,{location:t.location,params:((A=(T=t.matches)==null?void 0:T[0])==null?void 0:A.params)??{},unstable_pattern:NN(t.matches),errorInfo:E})}:void 0;return a.reduceRight((v,E,T)=>{let A,M=!1,V=null,w=null;t&&(A=u&&E.route.id?u[E.route.id]:void 0,V=E.route.errorElement||GN,d&&(p<0&&T===0?(vb("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),M=!0,w=null):p===T&&(M=!0,w=E.route.hydrateFallbackElement||null)));let z=e.concat(a.slice(0,T+1)),G=()=>{let q;return A?q=V:M?q=w:E.route.Component?q=j.createElement(E.route.Component,null):E.route.element?q=E.route.element:q=v,j.createElement($N,{match:E,routeContext:{outlet:v,matches:z,isDataRoute:t!=null},children:q})};return t&&(E.route.ErrorBoundary||E.route.errorElement||T===0)?j.createElement(yb,{location:t.location,revalidation:t.revalidation,component:V,error:A,children:G(),routeContext:{outlet:null,matches:z,isDataRoute:!0},onError:h}):G()},null)}function ty(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function KN(n){let e=j.useContext(ol);return Tt(e,ty(n)),e}function YN(n){let e=j.useContext(Zf);return Tt(e,ty(n)),e}function WN(n){let e=j.useContext(ki);return Tt(e,ty(n)),e}function ny(n){let e=WN(n),t=e.matches[e.matches.length-1];return Tt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function QN(){return ny("useRouteId")}function XN(){var i;let n=j.useContext(Zg),e=YN("useRouteError"),t=ny("useRouteError");return n!==void 0?n:(i=e.errors)==null?void 0:i[t]}function ZN(){let{router:n}=KN("useNavigate"),e=ny("useNavigate"),t=j.useRef(!1);return mb(()=>{t.current=!0}),j.useCallback(async(r,a={})=>{li(t.current,pb),t.current&&(typeof r=="number"?await n.navigate(r):await n.navigate(r,{fromRouteId:e,...a}))},[n,e])}var Hx={};function vb(n,e,t){!e&&!Hx[n]&&(Hx[n]=!0,li(!1,t))}j.memo(eR);function eR({routes:n,future:e,state:t,onError:i}){return gb(n,void 0,t,i,e)}function ng({to:n,replace:e,state:t,relative:i}){Tt(al(),"<Navigate> may be used only in the context of a <Router> component.");let{static:r}=j.useContext(Gn);li(!r,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=j.useContext(ki),{pathname:u}=Br(),d=ey(),p=Xg(n,Qg(a),u,i==="path"),h=JSON.stringify(p);return j.useEffect(()=>{d(JSON.parse(h),{replace:e,state:t,relative:i})},[d,h,i,e,t]),null}function tR(n){return jN(n.context)}function si(n){Tt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function nR({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:r,static:a=!1,unstable_useTransitions:u}){Tt(!al(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=n.replace(/^\/*/,"/"),p=j.useMemo(()=>({basename:d,navigator:r,static:a,unstable_useTransitions:u,future:{}}),[d,r,a,u]);typeof t=="string"&&(t=zo(t));let{pathname:h="/",search:v="",hash:E="",state:T=null,key:A="default"}=t,M=j.useMemo(()=>{let V=Ps(h,d);return V==null?null:{location:{pathname:V,search:v,hash:E,state:T,key:A},navigationType:i}},[d,h,v,E,T,A,i]);return li(M!=null,`<Router basename="${d}"> is not able to match the URL "${h}${v}${E}" because it does not start with the basename, so the <Router> won't render anything.`),M==null?null:j.createElement(Gn.Provider,{value:p},j.createElement(Xu.Provider,{children:e,value:M}))}function iR({children:n,location:e}){return qN(ig(n),e)}function ig(n,e=[]){let t=[];return j.Children.forEach(n,(i,r)=>{if(!j.isValidElement(i))return;let a=[...e,r];if(i.type===j.Fragment){t.push.apply(t,ig(i.props.children,a));return}Tt(i.type===si,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Tt(!i.props.index||!i.props.children,"An index route cannot have child routes.");let u={id:i.props.id||a.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(u.children=ig(i.props.children,a)),t.push(u)}),t}var lf="get",uf="application/x-www-form-urlencoded";function eh(n){return typeof HTMLElement<"u"&&n instanceof HTMLElement}function sR(n){return eh(n)&&n.tagName.toLowerCase()==="button"}function rR(n){return eh(n)&&n.tagName.toLowerCase()==="form"}function oR(n){return eh(n)&&n.tagName.toLowerCase()==="input"}function aR(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function lR(n,e){return n.button===0&&(!e||e==="_self")&&!aR(n)}var $d=null;function uR(){if($d===null)try{new FormData(document.createElement("form"),0),$d=!1}catch{$d=!0}return $d}var cR=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Om(n){return n!=null&&!cR.has(n)?(li(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${uf}"`),null):n}function dR(n,e){let t,i,r,a,u;if(rR(n)){let d=n.getAttribute("action");i=d?Ps(d,e):null,t=n.getAttribute("method")||lf,r=Om(n.getAttribute("enctype"))||uf,a=new FormData(n)}else if(sR(n)||oR(n)&&(n.type==="submit"||n.type==="image")){let d=n.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=n.getAttribute("formaction")||d.getAttribute("action");if(i=p?Ps(p,e):null,t=n.getAttribute("formmethod")||d.getAttribute("method")||lf,r=Om(n.getAttribute("formenctype"))||Om(d.getAttribute("enctype"))||uf,a=new FormData(d,n),!uR()){let{name:h,type:v,value:E}=n;if(v==="image"){let T=h?`${h}.`:"";a.append(`${T}x`,"0"),a.append(`${T}y`,"0")}else h&&a.append(h,E)}}else{if(eh(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=lf,i=null,r=uf,u=n}return a&&r==="text/plain"&&(u=a,a=void 0),{action:i,method:t.toLowerCase(),encType:r,formData:a,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function iy(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function fR(n,e,t,i){let r=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t?r.pathname.endsWith("/")?r.pathname=`${r.pathname}_.${i}`:r.pathname=`${r.pathname}.${i}`:r.pathname==="/"?r.pathname=`_root.${i}`:e&&Ps(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${i}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${i}`,r}async function hR(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function pR(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function mR(n,e,t){let i=await Promise.all(n.map(async r=>{let a=e.routes[r.route.id];if(a){let u=await hR(a,t);return u.links?u.links():[]}return[]}));return _R(i.flat(1).filter(pR).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function Gx(n,e,t,i,r,a){let u=(p,h)=>t[h]?p.route.id!==t[h].route.id:!0,d=(p,h)=>{var v;return t[h].pathname!==p.pathname||((v=t[h].route.path)==null?void 0:v.endsWith("*"))&&t[h].params["*"]!==p.params["*"]};return a==="assets"?e.filter((p,h)=>u(p,h)||d(p,h)):a==="data"?e.filter((p,h)=>{var E;let v=i.routes[p.route.id];if(!v||!v.hasLoader)return!1;if(u(p,h)||d(p,h))return!0;if(p.route.shouldRevalidate){let T=p.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:((E=t[0])==null?void 0:E.params)||{},nextUrl:new URL(n,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function gR(n,e,{includeHydrateFallback:t}={}){return yR(n.map(i=>{let r=e.routes[i.route.id];if(!r)return[];let a=[r.module];return r.clientActionModule&&(a=a.concat(r.clientActionModule)),r.clientLoaderModule&&(a=a.concat(r.clientLoaderModule)),t&&r.hydrateFallbackModule&&(a=a.concat(r.hydrateFallbackModule)),r.imports&&(a=a.concat(r.imports)),a}).flat(1))}function yR(n){return[...new Set(n)]}function vR(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function _R(n,e){let t=new Set;return new Set(e),n.reduce((i,r)=>{let a=JSON.stringify(vR(r));return t.has(a)||(t.add(a),i.push({key:a,link:r})),i},[])}function _b(){let n=j.useContext(ol);return iy(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function xR(){let n=j.useContext(Zf);return iy(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var sy=j.createContext(void 0);sy.displayName="FrameworkContext";function xb(){let n=j.useContext(sy);return iy(n,"You must render this element inside a <HydratedRouter> element"),n}function ER(n,e){let t=j.useContext(sy),[i,r]=j.useState(!1),[a,u]=j.useState(!1),{onFocus:d,onBlur:p,onMouseEnter:h,onMouseLeave:v,onTouchStart:E}=e,T=j.useRef(null);j.useEffect(()=>{if(n==="render"&&u(!0),n==="viewport"){let V=z=>{z.forEach(G=>{u(G.isIntersecting)})},w=new IntersectionObserver(V,{threshold:.5});return T.current&&w.observe(T.current),()=>{w.disconnect()}}},[n]),j.useEffect(()=>{if(i){let V=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(V)}}},[i]);let A=()=>{r(!0)},M=()=>{r(!1),u(!1)};return t?n!=="intent"?[a,T,{}]:[a,T,{onFocus:bu(d,A),onBlur:bu(p,M),onMouseEnter:bu(h,A),onMouseLeave:bu(v,M),onTouchStart:bu(E,A)}]:[!1,T,{}]}function bu(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function TR({page:n,...e}){let{router:t}=_b(),i=j.useMemo(()=>ob(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?j.createElement(bR,{page:n,matches:i,...e}):null}function SR(n){let{manifest:e,routeModules:t}=xb(),[i,r]=j.useState([]);return j.useEffect(()=>{let a=!1;return mR(n,e,t).then(u=>{a||r(u)}),()=>{a=!0}},[n,e,t]),i}function bR({page:n,matches:e,...t}){let i=Br(),{future:r,manifest:a,routeModules:u}=xb(),{basename:d}=_b(),{loaderData:p,matches:h}=xR(),v=j.useMemo(()=>Gx(n,e,h,a,i,"data"),[n,e,h,a,i]),E=j.useMemo(()=>Gx(n,e,h,a,i,"assets"),[n,e,h,a,i]),T=j.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let V=new Set,w=!1;if(e.forEach(G=>{var W;let q=a.routes[G.route.id];!q||!q.hasLoader||(!v.some(B=>B.route.id===G.route.id)&&G.route.id in p&&((W=u[G.route.id])!=null&&W.shouldRevalidate)||q.hasClientLoader?w=!0:V.add(G.route.id))}),V.size===0)return[];let z=fR(n,d,r.unstable_trailingSlashAwareDataRequests,"data");return w&&V.size>0&&z.searchParams.set("_routes",e.filter(G=>V.has(G.route.id)).map(G=>G.route.id).join(",")),[z.pathname+z.search]},[d,r.unstable_trailingSlashAwareDataRequests,p,i,a,v,e,n,u]),A=j.useMemo(()=>gR(E,a),[E,a]),M=SR(E);return j.createElement(j.Fragment,null,T.map(V=>j.createElement("link",{key:V,rel:"prefetch",as:"fetch",href:V,...t})),A.map(V=>j.createElement("link",{key:V,rel:"modulepreload",href:V,...t})),M.map(({key:V,link:w})=>j.createElement("link",{key:V,nonce:t.nonce,...w,crossOrigin:w.crossOrigin??t.crossOrigin})))}function AR(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var CR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{CR&&(window.__reactRouterVersion="7.13.0")}catch{}function wR({basename:n,children:e,unstable_useTransitions:t,window:i}){let r=j.useRef();r.current==null&&(r.current=sN({window:i,v5Compat:!0}));let a=r.current,[u,d]=j.useState({action:a.action,location:a.location}),p=j.useCallback(h=>{t===!1?d(h):j.startTransition(()=>d(h))},[t]);return j.useLayoutEffect(()=>a.listen(p),[a,p]),j.createElement(nR,{basename:n,children:e,location:u.location,navigationType:u.action,navigator:a,unstable_useTransitions:t})}var Eb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ec=j.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:r,reloadDocument:a,replace:u,state:d,target:p,to:h,preventScrollReset:v,viewTransition:E,unstable_defaultShouldRevalidate:T,...A},M){let{basename:V,unstable_useTransitions:w}=j.useContext(Gn),z=typeof h=="string"&&Eb.test(h),G=cb(h,V);h=G.to;let q=ON(h,{relative:r}),[W,B,ae]=ER(i,A),U=RR(h,{replace:u,state:d,target:p,preventScrollReset:v,relative:r,viewTransition:E,unstable_defaultShouldRevalidate:T,unstable_useTransitions:w});function L(I){e&&e(I),I.defaultPrevented||U(I)}let P=j.createElement("a",{...A,...ae,href:G.absoluteURL||q,onClick:G.isExternal||a?e:L,ref:AR(M,B),target:p,"data-discover":!z&&t==="render"?"true":void 0});return W&&!z?j.createElement(j.Fragment,null,P,j.createElement(TR,{page:q})):P});ec.displayName="Link";var sg=j.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:r=!1,style:a,to:u,viewTransition:d,children:p,...h},v){let E=Zu(u,{relative:h.relative}),T=Br(),A=j.useContext(Zf),{navigator:M,basename:V}=j.useContext(Gn),w=A!=null&&LR(E)&&d===!0,z=M.encodeLocation?M.encodeLocation(E).pathname:E.pathname,G=T.pathname,q=A&&A.navigation&&A.navigation.location?A.navigation.location.pathname:null;t||(G=G.toLowerCase(),q=q?q.toLowerCase():null,z=z.toLowerCase()),q&&V&&(q=Ps(q,V)||q);const W=z!=="/"&&z.endsWith("/")?z.length-1:z.length;let B=G===z||!r&&G.startsWith(z)&&G.charAt(W)==="/",ae=q!=null&&(q===z||!r&&q.startsWith(z)&&q.charAt(z.length)==="/"),U={isActive:B,isPending:ae,isTransitioning:w},L=B?e:void 0,P;typeof i=="function"?P=i(U):P=[i,B?"active":null,ae?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let I=typeof a=="function"?a(U):a;return j.createElement(ec,{...h,"aria-current":L,className:P,ref:v,style:I,to:u,viewTransition:d},typeof p=="function"?p(U):p)});sg.displayName="NavLink";var IR=j.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:r,state:a,method:u=lf,action:d,onSubmit:p,relative:h,preventScrollReset:v,viewTransition:E,unstable_defaultShouldRevalidate:T,...A},M)=>{let{unstable_useTransitions:V}=j.useContext(Gn),w=kR(),z=PR(d,{relative:h}),G=u.toLowerCase()==="get"?"get":"post",q=typeof d=="string"&&Eb.test(d),W=B=>{if(p&&p(B),B.defaultPrevented)return;B.preventDefault();let ae=B.nativeEvent.submitter,U=(ae==null?void 0:ae.getAttribute("formmethod"))||u,L=()=>w(ae||B.currentTarget,{fetcherKey:e,method:U,navigate:t,replace:r,state:a,relative:h,preventScrollReset:v,viewTransition:E,unstable_defaultShouldRevalidate:T});V&&t!==!1?j.startTransition(()=>L()):L()};return j.createElement("form",{ref:M,method:G,action:z,onSubmit:i?p:W,...A,"data-discover":!q&&n==="render"?"true":void 0})});IR.displayName="Form";function NR(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Tb(n){let e=j.useContext(ol);return Tt(e,NR(n)),e}function RR(n,{target:e,replace:t,state:i,preventScrollReset:r,relative:a,viewTransition:u,unstable_defaultShouldRevalidate:d,unstable_useTransitions:p}={}){let h=ey(),v=Br(),E=Zu(n,{relative:a});return j.useCallback(T=>{if(lR(T,e)){T.preventDefault();let A=t!==void 0?t:ju(v)===ju(E),M=()=>h(n,{replace:A,state:i,preventScrollReset:r,relative:a,viewTransition:u,unstable_defaultShouldRevalidate:d});p?j.startTransition(()=>M()):M()}},[v,h,E,t,i,e,n,r,a,u,d,p])}var MR=0,DR=()=>`__${String(++MR)}__`;function kR(){let{router:n}=Tb("useSubmit"),{basename:e}=j.useContext(Gn),t=QN(),i=n.fetch,r=n.navigate;return j.useCallback(async(a,u={})=>{let{action:d,method:p,encType:h,formData:v,body:E}=dR(a,e);if(u.navigate===!1){let T=u.fetcherKey||DR();await i(T,t,u.action||d,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:v,body:E,formMethod:u.method||p,formEncType:u.encType||h,flushSync:u.flushSync})}else await r(u.action||d,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:v,body:E,formMethod:u.method||p,formEncType:u.encType||h,replace:u.replace,state:u.state,fromRouteId:t,flushSync:u.flushSync,viewTransition:u.viewTransition})},[i,r,e,t])}function PR(n,{relative:e}={}){let{basename:t}=j.useContext(Gn),i=j.useContext(ki);Tt(i,"useFormAction must be used inside a RouteContext");let[r]=i.matches.slice(-1),a={...Zu(n||".",{relative:e})},u=Br();if(n==null){a.search=u.search;let d=new URLSearchParams(a.search),p=d.getAll("index");if(p.some(v=>v==="")){d.delete("index"),p.filter(E=>E).forEach(E=>d.append("index",E));let v=d.toString();a.search=v?`?${v}`:""}}return(!n||n===".")&&r.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(a.pathname=a.pathname==="/"?t:Ds([t,a.pathname])),ju(a)}function LR(n,{relative:e}={}){let t=j.useContext(fb);Tt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=Tb("useViewTransitionState"),r=Zu(n,{relative:e});if(!t.isTransitioning)return!1;let a=Ps(t.currentLocation.pathname,i)||t.currentLocation.pathname,u=Ps(t.nextLocation.pathname,i)||t.nextLocation.pathname;return Sf(r.pathname,u)!=null||Sf(r.pathname,a)!=null}/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sb=(...n)=>n.filter((e,t,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===t).join(" ").trim();/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VR=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UR=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,i)=>i?i.toUpperCase():t.toLowerCase());/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bx=n=>{const e=UR(n);return e.charAt(0).toUpperCase()+e.slice(1)};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var OR={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zR=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FR=j.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:i,className:r="",children:a,iconNode:u,...d},p)=>j.createElement("svg",{ref:p,...OR,width:e,height:e,stroke:n,strokeWidth:i?Number(t)*24/Number(e):t,className:Sb("lucide",r),...!a&&!zR(d)&&{"aria-hidden":"true"},...d},[...u.map(([h,v])=>j.createElement(h,v)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ye=(n,e)=>{const t=j.forwardRef(({className:i,...r},a)=>j.createElement(FR,{ref:a,iconNode:e,className:Sb(`lucide-${VR(Bx(n))}`,`lucide-${n}`,i),...r}));return t.displayName=Bx(n),t};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jR=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],bf=ye("archive",jR);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qR=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],HR=ye("arrow-left",qR);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GR=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],bb=ye("arrow-right",GR);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BR=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],Ab=ye("award",BR);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $R=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],$x=ye("bell",$R);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JR=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Cb=ye("book-open",JR);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KR=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],wb=ye("briefcase",KR);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YR=[["path",{d:"M16 19h6",key:"xwg31i"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M19 16v6",key:"tddt3s"}],["path",{d:"M21 12.598V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h8.5",key:"1glfrc"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 2v4",key:"1cmpym"}]],th=ye("calendar-plus",YR);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WR=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],tc=ye("calendar",WR);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QR=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],XR=ye("chart-pie",QR);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZR=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Fo=ye("check",ZR);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e2=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Ib=ye("chevron-down",e2);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t2=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Nb=ye("chevron-left",t2);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n2=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Jx=ye("chevron-right",n2);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i2=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m12 8-4 4 4 4",key:"15vm53"}],["path",{d:"M16 12H8",key:"1fr5h0"}]],s2=ye("circle-arrow-left",i2);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r2=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m12 16 4-4-4-4",key:"1i9zcv"}],["path",{d:"M8 12h8",key:"1wcyev"}]],ry=ye("circle-arrow-right",r2);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o2=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],nc=ye("circle-check-big",o2);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a2=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Af=ye("circle-check",a2);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l2=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}]],is=ye("circle-minus",l2);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u2=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],No=ye("circle-plus",u2);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c2=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],Rb=ye("circle-user",c2);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d2=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Mb=ye("clock",d2);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f2=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],h2=ye("credit-card",f2);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p2=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Db=ye("dollar-sign",p2);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m2=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],g2=ye("download",m2);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y2=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],v2=ye("ellipsis-vertical",y2);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _2=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],oy=ye("external-link",_2);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x2=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],E2=ye("eye",x2);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T2=[["path",{d:"M4 22V4a1 1 0 0 1 .4-.8A6 6 0 0 1 8 2c3 0 5 2 7.333 2q2 0 3.067-.8A1 1 0 0 1 20 4v10a1 1 0 0 1-.4.8A6 6 0 0 1 16 16c-3 0-5-2-8-2a6 6 0 0 0-4 1.528",key:"1jaruq"}]],S2=ye("flag",T2);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b2=[["path",{d:"M4 16v-2.38C4 11.5 2.97 10.5 3 8c.03-2.72 1.49-6 4.5-6C9.37 2 10 3.8 10 5.5c0 3.11-2 5.66-2 8.68V16a2 2 0 1 1-4 0Z",key:"1dudjm"}],["path",{d:"M20 20v-2.38c0-2.12 1.03-3.12 1-5.62-.03-2.72-1.49-6-4.5-6C14.63 6 14 7.8 14 9.5c0 3.11 2 5.66 2 8.68V20a2 2 0 1 0 4 0Z",key:"l2t8xc"}],["path",{d:"M16 17h4",key:"1dejxt"}],["path",{d:"M4 13h4",key:"1bwh8b"}]],A2=ye("footprints",b2);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C2=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],kb=ye("grip-vertical",C2);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w2=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Pb=ye("info",w2);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I2=[["path",{d:"M10 18v-7",key:"wt116b"}],["path",{d:"M11.12 2.198a2 2 0 0 1 1.76.006l7.866 3.847c.476.233.31.949-.22.949H3.474c-.53 0-.695-.716-.22-.949z",key:"1m329m"}],["path",{d:"M14 18v-7",key:"vav6t3"}],["path",{d:"M18 18v-7",key:"aexdmj"}],["path",{d:"M3 22h18",key:"8prr45"}],["path",{d:"M6 18v-7",key:"1ivflk"}]],N2=ye("landmark",I2);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R2=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],ic=ye("lightbulb",R2);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M2=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],qu=ye("loader-circle",M2);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D2=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],k2=ye("lock",D2);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P2=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],L2=ye("log-in",P2);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V2=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],U2=ye("log-out",V2);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O2=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Lb=ye("mail",O2);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z2=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],Vb=ye("map",z2);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F2=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],j2=ye("menu",F2);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q2=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],H2=ye("message-circle",q2);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G2=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],B2=ye("message-square",G2);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $2=[["path",{d:"m14 10 7-7",key:"oa77jy"}],["path",{d:"M20 10h-6V4",key:"mjg0md"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M4 14h6v6",key:"rmj7iw"}]],J2=ye("minimize-2",$2);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K2=[["path",{d:"M12 2v20",key:"t6zp3m"}],["path",{d:"m15 19-3 3-3-3",key:"11eu04"}],["path",{d:"m19 9 3 3-3 3",key:"1mg7y2"}],["path",{d:"M2 12h20",key:"9i4pu4"}],["path",{d:"m5 9-3 3 3 3",key:"j64kie"}],["path",{d:"m9 5 3-3 3 3",key:"l8vdw6"}]],Y2=ye("move",K2);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W2=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],ja=ye("palette",W2);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q2=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],Ub=ye("pencil",Q2);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X2=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],Z2=ye("phone",X2);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eM=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],tM=ye("play",eM);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nM=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],St=ye("plus",nM);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iM=[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]],sM=ye("quote",iM);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rM=[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]],Kx=ye("repeat",rM);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oM=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],aM=ye("rotate-ccw",oM);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lM=[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]],Ob=ye("rotate-cw",lM);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uM=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],zb=ye("save",uM);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cM=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Fb=ye("search",cM);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dM=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],jb=ye("send",dM);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fM=[["path",{d:"M14 17H5",key:"gfn3mx"}],["path",{d:"M19 7h-9",key:"6i9tg"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]],zm=ye("settings-2",fM);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hM=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],qb=ye("settings",hM);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pM=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],rg=ye("share-2",pM);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mM=[["path",{d:"M12 2v13",key:"1km8f5"}],["path",{d:"m16 6-4-4-4 4",key:"13yo43"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}]],gM=ye("share",mM);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yM=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],vM=ye("shield-alert",yM);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _M=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],og=ye("shield-check",_M);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xM=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],EM=ye("shield",xM);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TM=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],SM=ye("smartphone",TM);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bM=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],jo=ye("sparkles",bM);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AM=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],CM=ye("square-plus",AM);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wM=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],IM=ye("star",wM);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NM=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Mo=ye("target",NM);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RM=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Qt=ye("trash-2",RM);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MM=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Hb=ye("trending-up",MM);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DM=[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]],kM=ye("type",DM);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PM=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],LM=ye("user-check",PM);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VM=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],UM=ye("user-plus",VM);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OM=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],zM=ye("user-x",OM);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FM=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Cf=ye("user",FM);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jM=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],qM=ye("users",jM);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HM=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],GM=ye("wallet",HM);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BM=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ui=ye("x",BM);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $M=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],sc=ye("zap",$M),JM=()=>{};var Yx={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gb=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);r<128?e[t++]=r:r<2048?(e[t++]=r>>6|192,e[t++]=r&63|128):(r&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=r>>18|240,e[t++]=r>>12&63|128,e[t++]=r>>6&63|128,e[t++]=r&63|128):(e[t++]=r>>12|224,e[t++]=r>>6&63|128,e[t++]=r&63|128)}return e},KM=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const r=n[t++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){const a=n[t++];e[i++]=String.fromCharCode((r&31)<<6|a&63)}else if(r>239&&r<365){const a=n[t++],u=n[t++],d=n[t++],p=((r&7)<<18|(a&63)<<12|(u&63)<<6|d&63)-65536;e[i++]=String.fromCharCode(55296+(p>>10)),e[i++]=String.fromCharCode(56320+(p&1023))}else{const a=n[t++],u=n[t++];e[i++]=String.fromCharCode((r&15)<<12|(a&63)<<6|u&63)}}return e.join("")},Bb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<n.length;r+=3){const a=n[r],u=r+1<n.length,d=u?n[r+1]:0,p=r+2<n.length,h=p?n[r+2]:0,v=a>>2,E=(a&3)<<4|d>>4;let T=(d&15)<<2|h>>6,A=h&63;p||(A=64,u||(T=64)),i.push(t[v],t[E],t[T],t[A])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(Gb(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):KM(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<n.length;){const a=t[n.charAt(r++)],d=r<n.length?t[n.charAt(r)]:0;++r;const h=r<n.length?t[n.charAt(r)]:64;++r;const E=r<n.length?t[n.charAt(r)]:64;if(++r,a==null||d==null||h==null||E==null)throw new YM;const T=a<<2|d>>4;if(i.push(T),h!==64){const A=d<<4&240|h>>2;if(i.push(A),E!==64){const M=h<<6&192|E;i.push(M)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class YM extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const WM=function(n){const e=Gb(n);return Bb.encodeByteArray(e,!0)},wf=function(n){return WM(n).replace(/\./g,"")},$b=function(n){try{return Bb.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QM(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XM=()=>QM().__FIREBASE_DEFAULTS__,ZM=()=>{if(typeof process>"u"||typeof Yx>"u")return;const n=Yx.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},eD=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&$b(n[1]);return e&&JSON.parse(e)},nh=()=>{try{return JM()||XM()||ZM()||eD()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Jb=n=>{var e,t;return(t=(e=nh())==null?void 0:e.emulatorHosts)==null?void 0:t[n]},tD=n=>{const e=Jb(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},Kb=()=>{var n;return(n=nh())==null?void 0:n.config},Yb=n=>{var e;return(e=nh())==null?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nD{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ll(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Wb(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iD(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",r=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...n};return[wf(JSON.stringify(t)),wf(JSON.stringify(u)),""].join(".")}const Lu={};function sD(){const n={prod:[],emulator:[]};for(const e of Object.keys(Lu))Lu[e]?n.emulator.push(e):n.prod.push(e);return n}function rD(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let Wx=!1;function Qb(n,e){if(typeof window>"u"||typeof document>"u"||!ll(window.location.host)||Lu[n]===e||Lu[n]||Wx)return;Lu[n]=e;function t(T){return`__firebase__banner__${T}`}const i="__firebase__banner",a=sD().prod.length>0;function u(){const T=document.getElementById(i);T&&T.remove()}function d(T){T.style.display="flex",T.style.background="#7faaf0",T.style.position="fixed",T.style.bottom="5px",T.style.left="5px",T.style.padding=".5em",T.style.borderRadius="5px",T.style.alignItems="center"}function p(T,A){T.setAttribute("width","24"),T.setAttribute("id",A),T.setAttribute("height","24"),T.setAttribute("viewBox","0 0 24 24"),T.setAttribute("fill","none"),T.style.marginLeft="-6px"}function h(){const T=document.createElement("span");return T.style.cursor="pointer",T.style.marginLeft="16px",T.style.fontSize="24px",T.innerHTML=" &times;",T.onclick=()=>{Wx=!0,u()},T}function v(T,A){T.setAttribute("id",A),T.innerText="Learn more",T.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",T.setAttribute("target","__blank"),T.style.paddingLeft="5px",T.style.textDecoration="underline"}function E(){const T=rD(i),A=t("text"),M=document.getElementById(A)||document.createElement("span"),V=t("learnmore"),w=document.getElementById(V)||document.createElement("a"),z=t("preprendIcon"),G=document.getElementById(z)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(T.created){const q=T.element;d(q),v(w,V);const W=h();p(G,z),q.append(G,M,w,W),document.body.appendChild(q)}a?(M.innerText="Preview backend disconnected.",G.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(G.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,M.innerText="Preview backend running in this workspace."),M.setAttribute("id",A)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",E):E()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _n(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function oD(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(_n())}function aD(){var e;const n=(e=nh())==null?void 0:e.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function lD(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function uD(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function cD(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function dD(){const n=_n();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function fD(){return!aD()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function hD(){try{return typeof indexedDB=="object"}catch{return!1}}function pD(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},r.onupgradeneeded=()=>{t=!1},r.onerror=()=>{var a;e(((a=r.error)==null?void 0:a.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mD="FirebaseError";class Fs extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=mD,Object.setPrototypeOf(this,Fs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,rc.prototype.create)}}class rc{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},r=`${this.service}/${e}`,a=this.errors[e],u=a?gD(a,i):"Error",d=`${this.serviceName}: ${u} (${r}).`;return new Fs(r,d,i)}}function gD(n,e){return n.replace(yD,(t,i)=>{const r=e[i];return r!=null?String(r):`<${i}?>`})}const yD=/\{\$([^}]+)}/g;function vD(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Or(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const r of t){if(!i.includes(r))return!1;const a=n[r],u=e[r];if(Qx(a)&&Qx(u)){if(!Or(a,u))return!1}else if(a!==u)return!1}for(const r of i)if(!t.includes(r))return!1;return!0}function Qx(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oc(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Iu(n){const e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[r,a]=i.split("=");e[decodeURIComponent(r)]=decodeURIComponent(a)}}),e}function Nu(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function _D(n,e){const t=new xD(n,e);return t.subscribe.bind(t)}class xD{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let r;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");ED(e,["next","error","complete"])?r=e:r={next:e,error:t,complete:i},r.next===void 0&&(r.next=Fm),r.error===void 0&&(r.error=Fm),r.complete===void 0&&(r.complete=Fm);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ED(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Fm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jt(n){return n&&n._delegate?n._delegate:n}class ko{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TD{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new nD;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:t});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(e==null?void 0:e.optional)??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(r){if(i)return null;throw r}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(bD(e))try{this.getOrInitializeService({instanceIdentifier:wo})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:r});i.resolve(a)}catch{}}}}clearInstance(e=wo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=wo){return this.instances.has(e)}getOptions(e=wo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[a,u]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(a);i===d&&u.resolve(r)}return r}onInit(e,t){const i=this.normalizeInstanceIdentifier(t),r=this.onInitCallbacks.get(i)??new Set;r.add(e),this.onInitCallbacks.set(i,r);const a=this.instances.get(i);return a&&e(a,i),()=>{r.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const r of i)try{r(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:SD(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=wo){return this.component?this.component.multipleInstances?e:wo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function SD(n){return n===wo?void 0:n}function bD(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AD{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new TD(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ye;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Ye||(Ye={}));const CD={debug:Ye.DEBUG,verbose:Ye.VERBOSE,info:Ye.INFO,warn:Ye.WARN,error:Ye.ERROR,silent:Ye.SILENT},wD=Ye.INFO,ID={[Ye.DEBUG]:"log",[Ye.VERBOSE]:"log",[Ye.INFO]:"info",[Ye.WARN]:"warn",[Ye.ERROR]:"error"},ND=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),r=ID[e];if(r)console[r](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ay{constructor(e){this.name=e,this._logLevel=wD,this._logHandler=ND,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ye))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?CD[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ye.DEBUG,...e),this._logHandler(this,Ye.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ye.VERBOSE,...e),this._logHandler(this,Ye.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ye.INFO,...e),this._logHandler(this,Ye.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ye.WARN,...e),this._logHandler(this,Ye.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ye.ERROR,...e),this._logHandler(this,Ye.ERROR,...e)}}const RD=(n,e)=>e.some(t=>n instanceof t);let Xx,Zx;function MD(){return Xx||(Xx=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function DD(){return Zx||(Zx=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Xb=new WeakMap,ag=new WeakMap,Zb=new WeakMap,jm=new WeakMap,ly=new WeakMap;function kD(n){const e=new Promise((t,i)=>{const r=()=>{n.removeEventListener("success",a),n.removeEventListener("error",u)},a=()=>{t(Mr(n.result)),r()},u=()=>{i(n.error),r()};n.addEventListener("success",a),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&Xb.set(t,n)}).catch(()=>{}),ly.set(e,n),e}function PD(n){if(ag.has(n))return;const e=new Promise((t,i)=>{const r=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",u),n.removeEventListener("abort",u)},a=()=>{t(),r()},u=()=>{i(n.error||new DOMException("AbortError","AbortError")),r()};n.addEventListener("complete",a),n.addEventListener("error",u),n.addEventListener("abort",u)});ag.set(n,e)}let lg={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return ag.get(n);if(e==="objectStoreNames")return n.objectStoreNames||Zb.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Mr(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function LD(n){lg=n(lg)}function VD(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(qm(this),e,...t);return Zb.set(i,e.sort?e.sort():[e]),Mr(i)}:DD().includes(n)?function(...e){return n.apply(qm(this),e),Mr(Xb.get(this))}:function(...e){return Mr(n.apply(qm(this),e))}}function UD(n){return typeof n=="function"?VD(n):(n instanceof IDBTransaction&&PD(n),RD(n,MD())?new Proxy(n,lg):n)}function Mr(n){if(n instanceof IDBRequest)return kD(n);if(jm.has(n))return jm.get(n);const e=UD(n);return e!==n&&(jm.set(n,e),ly.set(e,n)),e}const qm=n=>ly.get(n);function OD(n,e,{blocked:t,upgrade:i,blocking:r,terminated:a}={}){const u=indexedDB.open(n,e),d=Mr(u);return i&&u.addEventListener("upgradeneeded",p=>{i(Mr(u.result),p.oldVersion,p.newVersion,Mr(u.transaction),p)}),t&&u.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),d.then(p=>{a&&p.addEventListener("close",()=>a()),r&&p.addEventListener("versionchange",h=>r(h.oldVersion,h.newVersion,h))}).catch(()=>{}),d}const zD=["get","getKey","getAll","getAllKeys","count"],FD=["put","add","delete","clear"],Hm=new Map;function eE(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Hm.get(e))return Hm.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,r=FD.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(r||zD.includes(t)))return;const a=async function(u,...d){const p=this.transaction(u,r?"readwrite":"readonly");let h=p.store;return i&&(h=h.index(d.shift())),(await Promise.all([h[t](...d),r&&p.done]))[0]};return Hm.set(e,a),a}LD(n=>({...n,get:(e,t,i)=>eE(e,t)||n.get(e,t,i),has:(e,t)=>!!eE(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jD{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(qD(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function qD(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const ug="@firebase/app",tE="0.14.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ls=new ay("@firebase/app"),HD="@firebase/app-compat",GD="@firebase/analytics-compat",BD="@firebase/analytics",$D="@firebase/app-check-compat",JD="@firebase/app-check",KD="@firebase/auth",YD="@firebase/auth-compat",WD="@firebase/database",QD="@firebase/data-connect",XD="@firebase/database-compat",ZD="@firebase/functions",ek="@firebase/functions-compat",tk="@firebase/installations",nk="@firebase/installations-compat",ik="@firebase/messaging",sk="@firebase/messaging-compat",rk="@firebase/performance",ok="@firebase/performance-compat",ak="@firebase/remote-config",lk="@firebase/remote-config-compat",uk="@firebase/storage",ck="@firebase/storage-compat",dk="@firebase/firestore",fk="@firebase/ai",hk="@firebase/firestore-compat",pk="firebase",mk="12.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cg="[DEFAULT]",gk={[ug]:"fire-core",[HD]:"fire-core-compat",[BD]:"fire-analytics",[GD]:"fire-analytics-compat",[JD]:"fire-app-check",[$D]:"fire-app-check-compat",[KD]:"fire-auth",[YD]:"fire-auth-compat",[WD]:"fire-rtdb",[QD]:"fire-data-connect",[XD]:"fire-rtdb-compat",[ZD]:"fire-fn",[ek]:"fire-fn-compat",[tk]:"fire-iid",[nk]:"fire-iid-compat",[ik]:"fire-fcm",[sk]:"fire-fcm-compat",[rk]:"fire-perf",[ok]:"fire-perf-compat",[ak]:"fire-rc",[lk]:"fire-rc-compat",[uk]:"fire-gcs",[ck]:"fire-gcs-compat",[dk]:"fire-fst",[hk]:"fire-fst-compat",[fk]:"fire-vertex","fire-js":"fire-js",[pk]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const If=new Map,yk=new Map,dg=new Map;function nE(n,e){try{n.container.addComponent(e)}catch(t){Ls.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Wa(n){const e=n.name;if(dg.has(e))return Ls.debug(`There were multiple attempts to register component ${e}.`),!1;dg.set(e,n);for(const t of If.values())nE(t,n);for(const t of yk.values())nE(t,n);return!0}function uy(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function ri(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vk={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Dr=new rc("app","Firebase",vk);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _k{constructor(e,t,i){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new ko("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Dr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ul=mk;function eA(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i={name:cg,automaticDataCollectionEnabled:!0,...e},r=i.name;if(typeof r!="string"||!r)throw Dr.create("bad-app-name",{appName:String(r)});if(t||(t=Kb()),!t)throw Dr.create("no-options");const a=If.get(r);if(a){if(Or(t,a.options)&&Or(i,a.config))return a;throw Dr.create("duplicate-app",{appName:r})}const u=new AD(r);for(const p of dg.values())u.addComponent(p);const d=new _k(t,i,u);return If.set(r,d),d}function tA(n=cg){const e=If.get(n);if(!e&&n===cg&&Kb())return eA();if(!e)throw Dr.create("no-app",{appName:n});return e}function kr(n,e,t){let i=gk[n]??n;t&&(i+=`-${t}`);const r=i.match(/\s|\//),a=e.match(/\s|\//);if(r||a){const u=[`Unable to register library "${i}" with version "${e}":`];r&&u.push(`library name "${i}" contains illegal characters (whitespace or "/")`),r&&a&&u.push("and"),a&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ls.warn(u.join(" "));return}Wa(new ko(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xk="firebase-heartbeat-database",Ek=1,Hu="firebase-heartbeat-store";let Gm=null;function nA(){return Gm||(Gm=OD(xk,Ek,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Hu)}catch(t){console.warn(t)}}}}).catch(n=>{throw Dr.create("idb-open",{originalErrorMessage:n.message})})),Gm}async function Tk(n){try{const t=(await nA()).transaction(Hu),i=await t.objectStore(Hu).get(iA(n));return await t.done,i}catch(e){if(e instanceof Fs)Ls.warn(e.message);else{const t=Dr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ls.warn(t.message)}}}async function iE(n,e){try{const i=(await nA()).transaction(Hu,"readwrite");await i.objectStore(Hu).put(e,iA(n)),await i.done}catch(t){if(t instanceof Fs)Ls.warn(t.message);else{const i=Dr.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Ls.warn(i.message)}}}function iA(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sk=1024,bk=30;class Ak{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new wk(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=sE();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(u=>u.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:r}),this._heartbeatsCache.heartbeats.length>bk){const u=Ik(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Ls.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=sE(),{heartbeatsToSend:i,unsentEntries:r}=Ck(this._heartbeatsCache.heartbeats),a=wf(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return Ls.warn(t),""}}}function sE(){return new Date().toISOString().substring(0,10)}function Ck(n,e=Sk){const t=[];let i=n.slice();for(const r of n){const a=t.find(u=>u.agent===r.agent);if(a){if(a.dates.push(r.date),rE(t)>e){a.dates.pop();break}}else if(t.push({agent:r.agent,dates:[r.date]}),rE(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class wk{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return hD()?pD().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await Tk(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return iE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return iE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function rE(n){return wf(JSON.stringify({version:2,heartbeats:n})).length}function Ik(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let i=1;i<n.length;i++)n[i].date<t&&(t=n[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nk(n){Wa(new ko("platform-logger",e=>new jD(e),"PRIVATE")),Wa(new ko("heartbeat",e=>new Ak(e),"PRIVATE")),kr(ug,tE,n),kr(ug,tE,"esm2020"),kr("fire-js","")}Nk("");var Rk="firebase",Mk="12.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */kr(Rk,Mk,"app");function sA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Dk=sA,rA=new rc("auth","Firebase",sA());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nf=new ay("@firebase/auth");function kk(n,...e){Nf.logLevel<=Ye.WARN&&Nf.warn(`Auth (${ul}): ${n}`,...e)}function cf(n,...e){Nf.logLevel<=Ye.ERROR&&Nf.error(`Auth (${ul}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mi(n,...e){throw cy(n,...e)}function ss(n,...e){return cy(n,...e)}function oA(n,e,t){const i={...Dk(),[e]:t};return new rc("auth","Firebase",i).create(e,{appName:n.name})}function ks(n){return oA(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function cy(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return rA.create(n,...e)}function Re(n,e,...t){if(!n)throw cy(e,...t)}function Rs(n){const e="INTERNAL ASSERTION FAILED: "+n;throw cf(e),new Error(e)}function Vs(n,e){n||Rs(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fg(){var n;return typeof self<"u"&&((n=self.location)==null?void 0:n.href)||""}function Pk(){return oE()==="http:"||oE()==="https:"}function oE(){var n;return typeof self<"u"&&((n=self.location)==null?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lk(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Pk()||uD()||"connection"in navigator)?navigator.onLine:!0}function Vk(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ac{constructor(e,t){this.shortDelay=e,this.longDelay=t,Vs(t>e,"Short delay should be less than long delay!"),this.isMobile=oD()||cD()}get(){return Lk()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dy(n,e){Vs(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aA{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Rs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Rs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Rs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uk={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ok=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],zk=new ac(3e4,6e4);function $r(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function Jr(n,e,t,i,r={}){return lA(n,r,async()=>{let a={},u={};i&&(e==="GET"?u=i:a={body:JSON.stringify(i)});const d=oc({key:n.config.apiKey,...u}).slice(1),p=await n._getAdditionalHeaders();p["Content-Type"]="application/json",n.languageCode&&(p["X-Firebase-Locale"]=n.languageCode);const h={method:e,headers:p,...a};return lD()||(h.referrerPolicy="no-referrer"),n.emulatorConfig&&ll(n.emulatorConfig.host)&&(h.credentials="include"),aA.fetch()(await uA(n,n.config.apiHost,t,d),h)})}async function lA(n,e,t){n._canInitEmulator=!1;const i={...Uk,...e};try{const r=new jk(n),a=await Promise.race([t(),r.promise]);r.clearNetworkTimeout();const u=await a.json();if("needConfirmation"in u)throw Jd(n,"account-exists-with-different-credential",u);if(a.ok&&!("errorMessage"in u))return u;{const d=a.ok?u.errorMessage:u.error.message,[p,h]=d.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Jd(n,"credential-already-in-use",u);if(p==="EMAIL_EXISTS")throw Jd(n,"email-already-in-use",u);if(p==="USER_DISABLED")throw Jd(n,"user-disabled",u);const v=i[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw oA(n,v,h);Mi(n,v)}}catch(r){if(r instanceof Fs)throw r;Mi(n,"network-request-failed",{message:String(r)})}}async function lc(n,e,t,i,r={}){const a=await Jr(n,e,t,i,r);return"mfaPendingCredential"in a&&Mi(n,"multi-factor-auth-required",{_serverResponse:a}),a}async function uA(n,e,t,i){const r=`${e}${t}?${i}`,a=n,u=a.config.emulator?dy(n.config,r):`${n.config.apiScheme}://${r}`;return Ok.includes(t)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(u).toString():u}function Fk(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class jk{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(ss(this.auth,"network-request-failed")),zk.get())})}}function Jd(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const r=ss(n,e,i);return r.customData._tokenResponse=t,r}function aE(n){return n!==void 0&&n.enterprise!==void 0}class qk{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Fk(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Hk(n,e){return Jr(n,"GET","/v2/recaptchaConfig",$r(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gk(n,e){return Jr(n,"POST","/v1/accounts:delete",e)}async function Rf(n,e){return Jr(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vu(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Bk(n,e=!1){const t=Jt(n),i=await t.getIdToken(e),r=fy(i);Re(r&&r.exp&&r.auth_time&&r.iat,t.auth,"internal-error");const a=typeof r.firebase=="object"?r.firebase:void 0,u=a==null?void 0:a.sign_in_provider;return{claims:r,token:i,authTime:Vu(Bm(r.auth_time)),issuedAtTime:Vu(Bm(r.iat)),expirationTime:Vu(Bm(r.exp)),signInProvider:u||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function Bm(n){return Number(n)*1e3}function fy(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return cf("JWT malformed, contained fewer than 3 sections"),null;try{const r=$b(t);return r?JSON.parse(r):(cf("Failed to decode base64 JWT payload"),null)}catch(r){return cf("Caught error parsing JWT payload as JSON",r==null?void 0:r.toString()),null}}function lE(n){const e=fy(n);return Re(e,"internal-error"),Re(typeof e.exp<"u","internal-error"),Re(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gu(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof Fs&&$k(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function $k({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jk{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hg{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Vu(this.lastLoginAt),this.creationTime=Vu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mf(n){var E;const e=n.auth,t=await n.getIdToken(),i=await Gu(n,Rf(e,{idToken:t}));Re(i==null?void 0:i.users.length,e,"internal-error");const r=i.users[0];n._notifyReloadListener(r);const a=(E=r.providerUserInfo)!=null&&E.length?cA(r.providerUserInfo):[],u=Yk(n.providerData,a),d=n.isAnonymous,p=!(n.email&&r.passwordHash)&&!(u!=null&&u.length),h=d?p:!1,v={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:u,metadata:new hg(r.createdAt,r.lastLoginAt),isAnonymous:h};Object.assign(n,v)}async function Kk(n){const e=Jt(n);await Mf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Yk(n,e){return[...n.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}function cA(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wk(n,e){const t=await lA(n,{},async()=>{const i=oc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:a}=n.config,u=await uA(n,r,"/v1/token",`key=${a}`),d=await n._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:d,body:i};return n.emulatorConfig&&ll(n.emulatorConfig.host)&&(p.credentials="include"),aA.fetch()(u,p)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function Qk(n,e){return Jr(n,"POST","/v2/accounts:revokeToken",$r(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Re(e.idToken,"internal-error"),Re(typeof e.idToken<"u","internal-error"),Re(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):lE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Re(e.length!==0,"internal-error");const t=lE(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Re(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:r,expiresIn:a}=await Wk(e,t);this.updateTokensAndExpiration(i,r,Number(a))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:r,expirationTime:a}=t,u=new qa;return i&&(Re(typeof i=="string","internal-error",{appName:e}),u.refreshToken=i),r&&(Re(typeof r=="string","internal-error",{appName:e}),u.accessToken=r),a&&(Re(typeof a=="number","internal-error",{appName:e}),u.expirationTime=a),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new qa,this.toJSON())}_performRefresh(){return Rs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sr(n,e){Re(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Ai{constructor({uid:e,auth:t,stsTokenManager:i,...r}){this.providerId="firebase",this.proactiveRefresh=new Jk(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new hg(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(e){const t=await Gu(this,this.stsTokenManager.getToken(this.auth,e));return Re(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return Bk(this,e)}reload(){return Kk(this)}_assign(e){this!==e&&(Re(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Ai({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Re(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await Mf(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ri(this.auth.app))return Promise.reject(ks(this.auth));const e=await this.getIdToken();return await Gu(this,Gk(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const i=t.displayName??void 0,r=t.email??void 0,a=t.phoneNumber??void 0,u=t.photoURL??void 0,d=t.tenantId??void 0,p=t._redirectEventId??void 0,h=t.createdAt??void 0,v=t.lastLoginAt??void 0,{uid:E,emailVerified:T,isAnonymous:A,providerData:M,stsTokenManager:V}=t;Re(E&&V,e,"internal-error");const w=qa.fromJSON(this.name,V);Re(typeof E=="string",e,"internal-error"),Sr(i,e.name),Sr(r,e.name),Re(typeof T=="boolean",e,"internal-error"),Re(typeof A=="boolean",e,"internal-error"),Sr(a,e.name),Sr(u,e.name),Sr(d,e.name),Sr(p,e.name),Sr(h,e.name),Sr(v,e.name);const z=new Ai({uid:E,auth:e,email:r,emailVerified:T,displayName:i,isAnonymous:A,photoURL:u,phoneNumber:a,tenantId:d,stsTokenManager:w,createdAt:h,lastLoginAt:v});return M&&Array.isArray(M)&&(z.providerData=M.map(G=>({...G}))),p&&(z._redirectEventId=p),z}static async _fromIdTokenResponse(e,t,i=!1){const r=new qa;r.updateFromServerResponse(t);const a=new Ai({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:i});return await Mf(a),a}static async _fromGetAccountInfoResponse(e,t,i){const r=t.users[0];Re(r.localId!==void 0,"internal-error");const a=r.providerUserInfo!==void 0?cA(r.providerUserInfo):[],u=!(r.email&&r.passwordHash)&&!(a!=null&&a.length),d=new qa;d.updateFromIdToken(i);const p=new Ai({uid:r.localId,auth:e,stsTokenManager:d,isAnonymous:u}),h={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:a,metadata:new hg(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(a!=null&&a.length)};return Object.assign(p,h),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uE=new Map;function Ms(n){Vs(n instanceof Function,"Expected a class definition");let e=uE.get(n);return e?(Vs(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,uE.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}dA.type="NONE";const cE=dA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function df(n,e,t){return`firebase:${n}:${e}:${t}`}class Ha{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:r,name:a}=this.auth;this.fullUserKey=df(this.userKey,r.apiKey,a),this.fullPersistenceKey=df("persistence",r.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Rf(this.auth,{idToken:e}).catch(()=>{});return t?Ai._fromGetAccountInfoResponse(this.auth,t,e):null}return Ai._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new Ha(Ms(cE),e,i);const r=(await Promise.all(t.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let a=r[0]||Ms(cE);const u=df(i,e.config.apiKey,e.name);let d=null;for(const h of t)try{const v=await h._get(u);if(v){let E;if(typeof v=="string"){const T=await Rf(e,{idToken:v}).catch(()=>{});if(!T)break;E=await Ai._fromGetAccountInfoResponse(e,T,v)}else E=Ai._fromJSON(e,v);h!==a&&(d=E),a=h;break}}catch{}const p=r.filter(h=>h._shouldAllowMigration);return!a._shouldAllowMigration||!p.length?new Ha(a,e,i):(a=p[0],d&&await a._set(u,d.toJSON()),await Promise.all(t.map(async h=>{if(h!==a)try{await h._remove(u)}catch{}})),new Ha(a,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dE(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(mA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(fA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(yA(e))return"Blackberry";if(vA(e))return"Webos";if(hA(e))return"Safari";if((e.includes("chrome/")||pA(e))&&!e.includes("edge/"))return"Chrome";if(gA(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function fA(n=_n()){return/firefox\//i.test(n)}function hA(n=_n()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function pA(n=_n()){return/crios\//i.test(n)}function mA(n=_n()){return/iemobile/i.test(n)}function gA(n=_n()){return/android/i.test(n)}function yA(n=_n()){return/blackberry/i.test(n)}function vA(n=_n()){return/webos/i.test(n)}function hy(n=_n()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function Xk(n=_n()){var e;return hy(n)&&!!((e=window.navigator)!=null&&e.standalone)}function Zk(){return dD()&&document.documentMode===10}function _A(n=_n()){return hy(n)||gA(n)||vA(n)||yA(n)||/windows phone/i.test(n)||mA(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xA(n,e=[]){let t;switch(n){case"Browser":t=dE(_n());break;case"Worker":t=`${dE(_n())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${ul}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eP{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=a=>new Promise((u,d)=>{try{const p=e(a);u(p)}catch(p){d(p)}});i.onAbort=t,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const r of t)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tP(n,e={}){return Jr(n,"GET","/v2/passwordPolicy",$r(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nP=6;class iP{constructor(e){var i;const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??nP,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((i=e.allowedNonAlphanumericCharacters)==null?void 0:i.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let r=0;r<e.length;r++)i=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,r,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sP{constructor(e,t,i,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new fE(this),this.idTokenSubscription=new fE(this),this.beforeStateQueue=new eP(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=rA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Ms(t)),this._initializationPromise=this.queue(async()=>{var i,r,a;if(!this._deleted&&(this.persistenceManager=await Ha.create(this,e),(i=this._resolvePersistenceManagerAvailable)==null||i.call(this),!this._deleted)){if((r=this._popupRedirectResolver)!=null&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((a=this.currentUser)==null?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Rf(this,{idToken:e}),i=await Ai._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var a;if(ri(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(d,d))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let i=t,r=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(a=this.redirectUser)==null?void 0:a._redirectEventId,d=i==null?void 0:i._redirectEventId,p=await this.tryRedirectSignIn(e);(!u||u===d)&&(p!=null&&p.user)&&(i=p.user,r=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(i)}catch(u){i=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Re(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Mf(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Vk()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ri(this.app))return Promise.reject(ks(this));const t=e?Jt(e):null;return t&&Re(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Re(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ri(this.app)?Promise.reject(ks(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ri(this.app)?Promise.reject(ks(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ms(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await tP(this),t=new iP(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new rc("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await Qk(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Ms(e)||this._popupRedirectResolver;Re(t,this,"argument-error"),this.redirectPersistenceManager=await Ha.create(this,[Ms(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)==null?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)==null?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((t=this.currentUser)==null?void 0:t.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,r){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let u=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Re(d,this,"internal-error"),d.then(()=>{u||a(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,i,r);return()=>{u=!0,p()}}else{const p=e.addObserver(t);return()=>{u=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Re(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=xA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var r;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await((r=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:r.getHeartbeatsHeader());t&&(e["X-Firebase-Client"]=t);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){var t;if(ri(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:t.getToken());return e!=null&&e.error&&kk(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function qo(n){return Jt(n)}class fE{constructor(e){this.auth=e,this.observer=null,this.addObserver=_D(t=>this.observer=t)}get next(){return Re(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ih={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function rP(n){ih=n}function EA(n){return ih.loadJS(n)}function oP(){return ih.recaptchaEnterpriseScript}function aP(){return ih.gapiScript}function lP(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class uP{constructor(){this.enterprise=new cP}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class cP{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const dP="recaptcha-enterprise",TA="NO_RECAPTCHA";class fP{constructor(e){this.type=dP,this.auth=qo(e)}async verify(e="verify",t=!1){async function i(a){if(!t){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(u,d)=>{Hk(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const h=new qk(p);return a.tenantId==null?a._agentRecaptchaConfig=h:a._tenantRecaptchaConfigs[a.tenantId]=h,u(h.siteKey)}}).catch(p=>{d(p)})})}function r(a,u,d){const p=window.grecaptcha;aE(p)?p.enterprise.ready(()=>{p.enterprise.execute(a,{action:e}).then(h=>{u(h)}).catch(()=>{u(TA)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new uP().execute("siteKey",{action:"verify"}):new Promise((a,u)=>{i(this.auth).then(d=>{if(!t&&aE(window.grecaptcha))r(d,a,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let p=oP();p.length!==0&&(p+=d),EA(p).then(()=>{r(d,a,u)}).catch(h=>{u(h)})}}).catch(d=>{u(d)})})}}async function hE(n,e,t,i=!1,r=!1){const a=new fP(n);let u;if(r)u=TA;else try{u=await a.verify(t)}catch{u=await a.verify(t,!0)}const d={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const p=d.phoneEnrollmentInfo.phoneNumber,h=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:h,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const p=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return i?Object.assign(d,{captchaResp:u}):Object.assign(d,{captchaResponse:u}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function pg(n,e,t,i,r){var a;if((a=n._getRecaptchaConfig())!=null&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await hE(n,e,t,t==="getOobCode");return i(n,u)}else return i(n,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await hE(n,e,t,t==="getOobCode");return i(n,d)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hP(n,e){const t=uy(n,"auth");if(t.isInitialized()){const r=t.getImmediate(),a=t.getOptions();if(Or(a,e??{}))return r;Mi(r,"already-initialized")}return t.initialize({options:e})}function pP(n,e){const t=(e==null?void 0:e.persistence)||[],i=(Array.isArray(t)?t:[t]).map(Ms);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function mP(n,e,t){const i=qo(n);Re(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const r=!1,a=SA(e),{host:u,port:d}=gP(e),p=d===null?"":`:${d}`,h={url:`${a}//${u}${p}/`},v=Object.freeze({host:u,port:d,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!i._canInitEmulator){Re(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Re(Or(h,i.config.emulator)&&Or(v,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=h,i.emulatorConfig=v,i.settings.appVerificationDisabledForTesting=!0,ll(u)?(Wb(`${a}//${u}${p}`),Qb("Auth",!0)):yP()}function SA(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function gP(n){const e=SA(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const a=r[1];return{host:a,port:pE(i.substr(a.length+1))}}else{const[a,u]=i.split(":");return{host:a,port:pE(u)}}}function pE(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function yP(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class py{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Rs("not implemented")}_getIdTokenResponse(e){return Rs("not implemented")}_linkToIdToken(e,t){return Rs("not implemented")}_getReauthenticationResolver(e){return Rs("not implemented")}}async function vP(n,e){return Jr(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _P(n,e){return lc(n,"POST","/v1/accounts:signInWithPassword",$r(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xP(n,e){return lc(n,"POST","/v1/accounts:signInWithEmailLink",$r(n,e))}async function EP(n,e){return lc(n,"POST","/v1/accounts:signInWithEmailLink",$r(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bu extends py{constructor(e,t,i,r=null){super("password",i),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new Bu(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new Bu(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return pg(e,t,"signInWithPassword",_P);case"emailLink":return xP(e,{email:this._email,oobCode:this._password});default:Mi(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return pg(e,i,"signUpPassword",vP);case"emailLink":return EP(e,{idToken:t,email:this._email,oobCode:this._password});default:Mi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ga(n,e){return lc(n,"POST","/v1/accounts:signInWithIdp",$r(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TP="http://localhost";class Po extends py{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Po(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Mi("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:r,...a}=t;if(!i||!r)return null;const u=new Po(i,r);return u.idToken=a.idToken||void 0,u.accessToken=a.accessToken||void 0,u.secret=a.secret,u.nonce=a.nonce,u.pendingToken=a.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return Ga(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,Ga(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Ga(e,t)}buildRequest(){const e={requestUri:TP,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=oc(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SP(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function bP(n){const e=Iu(Nu(n)).link,t=e?Iu(Nu(e)).deep_link_id:null,i=Iu(Nu(n)).deep_link_id;return(i?Iu(Nu(i)).link:null)||i||t||e||n}class my{constructor(e){const t=Iu(Nu(e)),i=t.apiKey??null,r=t.oobCode??null,a=SP(t.mode??null);Re(i&&r&&a,"argument-error"),this.apiKey=i,this.operation=a,this.code=r,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=bP(e);try{return new my(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cl{constructor(){this.providerId=cl.PROVIDER_ID}static credential(e,t){return Bu._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const i=my.parseLink(t);return Re(i,"argument-error"),Bu._fromEmailAndCode(e,i.code,i.tenantId)}}cl.PROVIDER_ID="password";cl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";cl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bA{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uc extends bA{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar extends uc{constructor(){super("facebook.com")}static credential(e){return Po._fromParams({providerId:Ar.PROVIDER_ID,signInMethod:Ar.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ar.credentialFromTaggedObject(e)}static credentialFromError(e){return Ar.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ar.credential(e.oauthAccessToken)}catch{return null}}}Ar.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ar.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr extends uc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Po._fromParams({providerId:Cr.PROVIDER_ID,signInMethod:Cr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Cr.credentialFromTaggedObject(e)}static credentialFromError(e){return Cr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return Cr.credential(t,i)}catch{return null}}}Cr.GOOGLE_SIGN_IN_METHOD="google.com";Cr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr extends uc{constructor(){super("github.com")}static credential(e){return Po._fromParams({providerId:wr.PROVIDER_ID,signInMethod:wr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return wr.credentialFromTaggedObject(e)}static credentialFromError(e){return wr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return wr.credential(e.oauthAccessToken)}catch{return null}}}wr.GITHUB_SIGN_IN_METHOD="github.com";wr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ir extends uc{constructor(){super("twitter.com")}static credential(e,t){return Po._fromParams({providerId:Ir.PROVIDER_ID,signInMethod:Ir.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Ir.credentialFromTaggedObject(e)}static credentialFromError(e){return Ir.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return Ir.credential(t,i)}catch{return null}}}Ir.TWITTER_SIGN_IN_METHOD="twitter.com";Ir.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AP(n,e){return lc(n,"POST","/v1/accounts:signUp",$r(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,r=!1){const a=await Ai._fromIdTokenResponse(e,i,r),u=mE(i);return new Lo({user:a,providerId:u,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const r=mE(i);return new Lo({user:e,providerId:r,_tokenResponse:i,operationType:t})}}function mE(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Df extends Fs{constructor(e,t,i,r){super(t.code,t.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,Df.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,r){return new Df(e,t,i,r)}}function AA(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Df._fromErrorAndOperation(n,a,e,i):a})}async function CP(n,e,t=!1){const i=await Gu(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Lo._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wP(n,e,t=!1){const{auth:i}=n;if(ri(i.app))return Promise.reject(ks(i));const r="reauthenticate";try{const a=await Gu(n,AA(i,r,e,n),t);Re(a.idToken,i,"internal-error");const u=fy(a.idToken);Re(u,i,"internal-error");const{sub:d}=u;return Re(n.uid===d,i,"user-mismatch"),Lo._forOperation(n,r,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&Mi(i,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CA(n,e,t=!1){if(ri(n.app))return Promise.reject(ks(n));const i="signIn",r=await AA(n,i,e),a=await Lo._fromIdTokenResponse(n,i,r);return t||await n._updateCurrentUser(a.user),a}async function IP(n,e){return CA(qo(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wA(n){const e=qo(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function NP(n,e,t){if(ri(n.app))return Promise.reject(ks(n));const i=qo(n),u=await pg(i,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",AP).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&wA(n),p}),d=await Lo._fromIdTokenResponse(i,"signIn",u);return await i._updateCurrentUser(d.user),d}function RP(n,e,t){return ri(n.app)?Promise.reject(ks(n)):IP(Jt(n),cl.credential(e,t)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&wA(n),i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MP(n,e){return Jt(n).setPersistence(e)}function DP(n,e,t,i){return Jt(n).onIdTokenChanged(e,t,i)}function kP(n,e,t){return Jt(n).beforeAuthStateChanged(e,t)}function PP(n,e,t,i){return Jt(n).onAuthStateChanged(e,t,i)}function ff(n){return Jt(n).signOut()}const kf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IA{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(kf,"1"),this.storage.removeItem(kf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LP=1e3,VP=10;class NA extends IA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=_A(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),r=this.localCache[t];i!==r&&e(t,r,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,d,p)=>{this.notifyListeners(u,p)});return}const i=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const u=this.storage.getItem(i);!t&&this.localCache[i]===u||this.notifyListeners(i,u)},a=this.storage.getItem(i);Zk()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,VP):r()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},LP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}NA.type="LOCAL";const RA=NA;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MA extends IA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}MA.type="SESSION";const gy=MA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UP(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(r=>r.isListeningto(e));if(t)return t;const i=new sh(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:r,data:a}=t.data,u=this.handlersMap[r];if(!(u!=null&&u.size))return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const d=Array.from(u).map(async h=>h(t.origin,a)),p=await UP(d);t.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}sh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yy(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OP{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let a,u;return new Promise((d,p)=>{const h=yy("",20);r.port1.start();const v=setTimeout(()=>{p(new Error("unsupported_event"))},i);u={messageChannel:r,onMessage(E){const T=E;if(T.data.eventId===h)switch(T.data.status){case"ack":clearTimeout(v),a=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),d(T.data.response);break;default:clearTimeout(v),clearTimeout(a),p(new Error("invalid_response"));break}}},this.handlers.add(u),r.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:h,data:t},[r.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rs(){return window}function zP(n){rs().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DA(){return typeof rs().WorkerGlobalScope<"u"&&typeof rs().importScripts=="function"}async function FP(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function jP(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)==null?void 0:n.controller)||null}function qP(){return DA()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kA="firebaseLocalStorageDb",HP=1,Pf="firebaseLocalStorage",PA="fbase_key";class cc{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function rh(n,e){return n.transaction([Pf],e?"readwrite":"readonly").objectStore(Pf)}function GP(){const n=indexedDB.deleteDatabase(kA);return new cc(n).toPromise()}function mg(){const n=indexedDB.open(kA,HP);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(Pf,{keyPath:PA})}catch(r){t(r)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(Pf)?e(i):(i.close(),await GP(),e(await mg()))})})}async function gE(n,e,t){const i=rh(n,!0).put({[PA]:e,value:t});return new cc(i).toPromise()}async function BP(n,e){const t=rh(n,!1).get(e),i=await new cc(t).toPromise();return i===void 0?null:i.value}function yE(n,e){const t=rh(n,!0).delete(e);return new cc(t).toPromise()}const $P=800,JP=3;class LA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await mg(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>JP)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return DA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=sh._getInstance(qP()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var t,i;if(this.activeServiceWorker=await FP(),!this.activeServiceWorker)return;this.sender=new OP(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(t=e[0])!=null&&t.fulfilled&&(i=e[0])!=null&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||jP()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await mg();return await gE(e,kf,"1"),await yE(e,kf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>gE(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>BP(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>yE(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(r=>{const a=rh(r,!1).getAll();return new cc(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:r,value:a}of e)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(a)&&(this.notifyListeners(r,a),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),$P)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}LA.type="LOCAL";const KP=LA;new ac(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YP(n,e){return e?Ms(e):(Re(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vy extends py{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ga(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Ga(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Ga(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function WP(n){return CA(n.auth,new vy(n),n.bypassAuthState)}function QP(n){const{auth:e,user:t}=n;return Re(t,e,"internal-error"),wP(t,new vy(n),n.bypassAuthState)}async function XP(n){const{auth:e,user:t}=n;return Re(t,e,"internal-error"),CP(t,new vy(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VA{constructor(e,t,i,r,a=!1){this.auth=e,this.resolver=i,this.user=r,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:r,tenantId:a,error:u,type:d}=e;if(u){this.reject(u);return}const p={auth:this.auth,requestUri:t,sessionId:i,tenantId:a||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(p))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return WP;case"linkViaPopup":case"linkViaRedirect":return XP;case"reauthViaPopup":case"reauthViaRedirect":return QP;default:Mi(this.auth,"internal-error")}}resolve(e){Vs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Vs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZP=new ac(2e3,1e4);class Oa extends VA{constructor(e,t,i,r,a){super(e,t,r,a),this.provider=i,this.authWindow=null,this.pollId=null,Oa.currentPopupAction&&Oa.currentPopupAction.cancel(),Oa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Re(e,this.auth,"internal-error"),e}async onExecution(){Vs(this.filter.length===1,"Popup operations only handle one event");const e=yy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(ss(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(ss(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Oa.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if((i=(t=this.authWindow)==null?void 0:t.window)!=null&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ss(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,ZP.get())};e()}}Oa.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e4="pendingRedirect",hf=new Map;class t4 extends VA{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=hf.get(this.auth._key());if(!e){try{const i=await n4(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}hf.set(this.auth._key(),e)}return this.bypassAuthState||hf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function n4(n,e){const t=r4(e),i=s4(n);if(!await i._isAvailable())return!1;const r=await i._get(t)==="true";return await i._remove(t),r}function i4(n,e){hf.set(n._key(),e)}function s4(n){return Ms(n._redirectPersistence)}function r4(n){return df(e4,n.config.apiKey,n.name)}async function o4(n,e,t=!1){if(ri(n.app))return Promise.reject(ks(n));const i=qo(n),r=YP(i,e),u=await new t4(i,r,t).execute();return u&&!t&&(delete u.user._redirectEventId,await i._persistUserIfCurrent(u.user),await i._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a4=600*1e3;class l4{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!u4(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!UA(e)){const r=((i=e.error.code)==null?void 0:i.split("auth/")[1])||"internal-error";t.onError(ss(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=a4&&this.cachedEventUids.clear(),this.cachedEventUids.has(vE(e))}saveEventToCache(e){this.cachedEventUids.add(vE(e)),this.lastProcessedEventTime=Date.now()}}function vE(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function UA({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function u4(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return UA(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c4(n,e={}){return Jr(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d4=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,f4=/^https?/;async function h4(n){if(n.config.emulator)return;const{authorizedDomains:e}=await c4(n);for(const t of e)try{if(p4(t))return}catch{}Mi(n,"unauthorized-domain")}function p4(n){const e=fg(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===i}if(!f4.test(t))return!1;if(d4.test(n))return i===n;const r=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m4=new ac(3e4,6e4);function _E(){const n=rs().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function g4(n){return new Promise((e,t)=>{var r,a,u;function i(){_E(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{_E(),t(ss(n,"network-request-failed"))},timeout:m4.get()})}if((a=(r=rs().gapi)==null?void 0:r.iframes)!=null&&a.Iframe)e(gapi.iframes.getContext());else if((u=rs().gapi)!=null&&u.load)i();else{const d=lP("iframefcb");return rs()[d]=()=>{gapi.load?i():t(ss(n,"network-request-failed"))},EA(`${aP()}?onload=${d}`).catch(p=>t(p))}}).catch(e=>{throw pf=null,e})}let pf=null;function y4(n){return pf=pf||g4(n),pf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v4=new ac(5e3,15e3),_4="__/auth/iframe",x4="emulator/auth/iframe",E4={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},T4=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function S4(n){const e=n.config;Re(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?dy(e,x4):`https://${n.config.authDomain}/${_4}`,i={apiKey:e.apiKey,appName:n.name,v:ul},r=T4.get(n.config.apiHost);r&&(i.eid=r);const a=n._getFrameworks();return a.length&&(i.fw=a.join(",")),`${t}?${oc(i).slice(1)}`}async function b4(n){const e=await y4(n),t=rs().gapi;return Re(t,n,"internal-error"),e.open({where:document.body,url:S4(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:E4,dontclear:!0},i=>new Promise(async(r,a)=>{await i.restyle({setHideOnLeave:!1});const u=ss(n,"network-request-failed"),d=rs().setTimeout(()=>{a(u)},v4.get());function p(){rs().clearTimeout(d),r(i)}i.ping(p).then(p,()=>{a(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A4={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},C4=500,w4=600,I4="_blank",N4="http://localhost";class xE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function R4(n,e,t,i=C4,r=w4){const a=Math.max((window.screen.availHeight-r)/2,0).toString(),u=Math.max((window.screen.availWidth-i)/2,0).toString();let d="";const p={...A4,width:i.toString(),height:r.toString(),top:a,left:u},h=_n().toLowerCase();t&&(d=pA(h)?I4:t),fA(h)&&(e=e||N4,p.scrollbars="yes");const v=Object.entries(p).reduce((T,[A,M])=>`${T}${A}=${M},`,"");if(Xk(h)&&d!=="_self")return M4(e||"",d),new xE(null);const E=window.open(e||"",d,v);Re(E,n,"popup-blocked");try{E.focus()}catch{}return new xE(E)}function M4(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D4="__/auth/handler",k4="emulator/auth/handler",P4=encodeURIComponent("fac");async function EE(n,e,t,i,r,a){Re(n.config.authDomain,n,"auth-domain-config-required"),Re(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:ul,eventId:r};if(e instanceof bA){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",vD(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,E]of Object.entries({}))u[v]=E}if(e instanceof uc){const v=e.getScopes().filter(E=>E!=="");v.length>0&&(u.scopes=v.join(","))}n.tenantId&&(u.tid=n.tenantId);const d=u;for(const v of Object.keys(d))d[v]===void 0&&delete d[v];const p=await n._getAppCheckToken(),h=p?`#${P4}=${encodeURIComponent(p)}`:"";return`${L4(n)}?${oc(d).slice(1)}${h}`}function L4({config:n}){return n.emulator?dy(n,k4):`https://${n.authDomain}/${D4}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $m="webStorageSupport";class V4{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=gy,this._completeRedirectFn=o4,this._overrideRedirectResult=i4}async _openPopup(e,t,i,r){var u;Vs((u=this.eventManagers[e._key()])==null?void 0:u.manager,"_initialize() not called before _openPopup()");const a=await EE(e,t,i,fg(),r);return R4(e,a,yy())}async _openRedirect(e,t,i,r){await this._originValidation(e);const a=await EE(e,t,i,fg(),r);return zP(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:r,promise:a}=this.eventManagers[t];return r?Promise.resolve(r):(Vs(a,"If manager is not set, promise should be"),a)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await b4(e),i=new l4(e);return t.register("authEvent",r=>(Re(r==null?void 0:r.authEvent,e,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send($m,{type:$m},r=>{var u;const a=(u=r==null?void 0:r[0])==null?void 0:u[$m];a!==void 0&&t(!!a),Mi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=h4(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return _A()||hA()||hy()}}const U4=V4;var TE="@firebase/auth",SE="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O4{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Re(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z4(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function F4(n){Wa(new ko("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:u,authDomain:d}=i.options;Re(u&&!u.includes(":"),"invalid-api-key",{appName:i.name});const p={apiKey:u,authDomain:d,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:xA(n)},h=new sP(i,r,a,p);return pP(h,t),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),Wa(new ko("auth-internal",e=>{const t=qo(e.getProvider("auth").getImmediate());return(i=>new O4(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),kr(TE,SE,z4(n)),kr(TE,SE,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j4=300,q4=Yb("authIdTokenMaxAge")||j4;let bE=null;const H4=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>q4)return;const r=t==null?void 0:t.token;bE!==r&&(bE=r,await fetch(n,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function G4(n=tA()){const e=uy(n,"auth");if(e.isInitialized())return e.getImmediate();const t=hP(n,{popupRedirectResolver:U4,persistence:[KP,RA,gy]}),i=Yb("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(i,location.origin);if(location.origin===a.origin){const u=H4(a.toString());kP(t,u,()=>u(t.currentUser)),DP(t,d=>u(d))}}const r=Jb("auth");return r&&mP(t,`http://${r}`),t}function B4(){var n;return((n=document.getElementsByTagName("head"))==null?void 0:n[0])??document}rP({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=r=>{const a=ss("internal-error");a.customData=r,t(a)},i.type="text/javascript",i.charset="UTF-8",B4().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});F4("Browser");var AE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Pr,OA;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(U,L){function P(){}P.prototype=L.prototype,U.F=L.prototype,U.prototype=new P,U.prototype.constructor=U,U.D=function(I,N,D){for(var F=Array(arguments.length-2),ve=2;ve<arguments.length;ve++)F[ve-2]=arguments[ve];return L.prototype[N].apply(I,F)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(i,t),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(U,L,P){P||(P=0);const I=Array(16);if(typeof L=="string")for(var N=0;N<16;++N)I[N]=L.charCodeAt(P++)|L.charCodeAt(P++)<<8|L.charCodeAt(P++)<<16|L.charCodeAt(P++)<<24;else for(N=0;N<16;++N)I[N]=L[P++]|L[P++]<<8|L[P++]<<16|L[P++]<<24;L=U.g[0],P=U.g[1],N=U.g[2];let D=U.g[3],F;F=L+(D^P&(N^D))+I[0]+3614090360&4294967295,L=P+(F<<7&4294967295|F>>>25),F=D+(N^L&(P^N))+I[1]+3905402710&4294967295,D=L+(F<<12&4294967295|F>>>20),F=N+(P^D&(L^P))+I[2]+606105819&4294967295,N=D+(F<<17&4294967295|F>>>15),F=P+(L^N&(D^L))+I[3]+3250441966&4294967295,P=N+(F<<22&4294967295|F>>>10),F=L+(D^P&(N^D))+I[4]+4118548399&4294967295,L=P+(F<<7&4294967295|F>>>25),F=D+(N^L&(P^N))+I[5]+1200080426&4294967295,D=L+(F<<12&4294967295|F>>>20),F=N+(P^D&(L^P))+I[6]+2821735955&4294967295,N=D+(F<<17&4294967295|F>>>15),F=P+(L^N&(D^L))+I[7]+4249261313&4294967295,P=N+(F<<22&4294967295|F>>>10),F=L+(D^P&(N^D))+I[8]+1770035416&4294967295,L=P+(F<<7&4294967295|F>>>25),F=D+(N^L&(P^N))+I[9]+2336552879&4294967295,D=L+(F<<12&4294967295|F>>>20),F=N+(P^D&(L^P))+I[10]+4294925233&4294967295,N=D+(F<<17&4294967295|F>>>15),F=P+(L^N&(D^L))+I[11]+2304563134&4294967295,P=N+(F<<22&4294967295|F>>>10),F=L+(D^P&(N^D))+I[12]+1804603682&4294967295,L=P+(F<<7&4294967295|F>>>25),F=D+(N^L&(P^N))+I[13]+4254626195&4294967295,D=L+(F<<12&4294967295|F>>>20),F=N+(P^D&(L^P))+I[14]+2792965006&4294967295,N=D+(F<<17&4294967295|F>>>15),F=P+(L^N&(D^L))+I[15]+1236535329&4294967295,P=N+(F<<22&4294967295|F>>>10),F=L+(N^D&(P^N))+I[1]+4129170786&4294967295,L=P+(F<<5&4294967295|F>>>27),F=D+(P^N&(L^P))+I[6]+3225465664&4294967295,D=L+(F<<9&4294967295|F>>>23),F=N+(L^P&(D^L))+I[11]+643717713&4294967295,N=D+(F<<14&4294967295|F>>>18),F=P+(D^L&(N^D))+I[0]+3921069994&4294967295,P=N+(F<<20&4294967295|F>>>12),F=L+(N^D&(P^N))+I[5]+3593408605&4294967295,L=P+(F<<5&4294967295|F>>>27),F=D+(P^N&(L^P))+I[10]+38016083&4294967295,D=L+(F<<9&4294967295|F>>>23),F=N+(L^P&(D^L))+I[15]+3634488961&4294967295,N=D+(F<<14&4294967295|F>>>18),F=P+(D^L&(N^D))+I[4]+3889429448&4294967295,P=N+(F<<20&4294967295|F>>>12),F=L+(N^D&(P^N))+I[9]+568446438&4294967295,L=P+(F<<5&4294967295|F>>>27),F=D+(P^N&(L^P))+I[14]+3275163606&4294967295,D=L+(F<<9&4294967295|F>>>23),F=N+(L^P&(D^L))+I[3]+4107603335&4294967295,N=D+(F<<14&4294967295|F>>>18),F=P+(D^L&(N^D))+I[8]+1163531501&4294967295,P=N+(F<<20&4294967295|F>>>12),F=L+(N^D&(P^N))+I[13]+2850285829&4294967295,L=P+(F<<5&4294967295|F>>>27),F=D+(P^N&(L^P))+I[2]+4243563512&4294967295,D=L+(F<<9&4294967295|F>>>23),F=N+(L^P&(D^L))+I[7]+1735328473&4294967295,N=D+(F<<14&4294967295|F>>>18),F=P+(D^L&(N^D))+I[12]+2368359562&4294967295,P=N+(F<<20&4294967295|F>>>12),F=L+(P^N^D)+I[5]+4294588738&4294967295,L=P+(F<<4&4294967295|F>>>28),F=D+(L^P^N)+I[8]+2272392833&4294967295,D=L+(F<<11&4294967295|F>>>21),F=N+(D^L^P)+I[11]+1839030562&4294967295,N=D+(F<<16&4294967295|F>>>16),F=P+(N^D^L)+I[14]+4259657740&4294967295,P=N+(F<<23&4294967295|F>>>9),F=L+(P^N^D)+I[1]+2763975236&4294967295,L=P+(F<<4&4294967295|F>>>28),F=D+(L^P^N)+I[4]+1272893353&4294967295,D=L+(F<<11&4294967295|F>>>21),F=N+(D^L^P)+I[7]+4139469664&4294967295,N=D+(F<<16&4294967295|F>>>16),F=P+(N^D^L)+I[10]+3200236656&4294967295,P=N+(F<<23&4294967295|F>>>9),F=L+(P^N^D)+I[13]+681279174&4294967295,L=P+(F<<4&4294967295|F>>>28),F=D+(L^P^N)+I[0]+3936430074&4294967295,D=L+(F<<11&4294967295|F>>>21),F=N+(D^L^P)+I[3]+3572445317&4294967295,N=D+(F<<16&4294967295|F>>>16),F=P+(N^D^L)+I[6]+76029189&4294967295,P=N+(F<<23&4294967295|F>>>9),F=L+(P^N^D)+I[9]+3654602809&4294967295,L=P+(F<<4&4294967295|F>>>28),F=D+(L^P^N)+I[12]+3873151461&4294967295,D=L+(F<<11&4294967295|F>>>21),F=N+(D^L^P)+I[15]+530742520&4294967295,N=D+(F<<16&4294967295|F>>>16),F=P+(N^D^L)+I[2]+3299628645&4294967295,P=N+(F<<23&4294967295|F>>>9),F=L+(N^(P|~D))+I[0]+4096336452&4294967295,L=P+(F<<6&4294967295|F>>>26),F=D+(P^(L|~N))+I[7]+1126891415&4294967295,D=L+(F<<10&4294967295|F>>>22),F=N+(L^(D|~P))+I[14]+2878612391&4294967295,N=D+(F<<15&4294967295|F>>>17),F=P+(D^(N|~L))+I[5]+4237533241&4294967295,P=N+(F<<21&4294967295|F>>>11),F=L+(N^(P|~D))+I[12]+1700485571&4294967295,L=P+(F<<6&4294967295|F>>>26),F=D+(P^(L|~N))+I[3]+2399980690&4294967295,D=L+(F<<10&4294967295|F>>>22),F=N+(L^(D|~P))+I[10]+4293915773&4294967295,N=D+(F<<15&4294967295|F>>>17),F=P+(D^(N|~L))+I[1]+2240044497&4294967295,P=N+(F<<21&4294967295|F>>>11),F=L+(N^(P|~D))+I[8]+1873313359&4294967295,L=P+(F<<6&4294967295|F>>>26),F=D+(P^(L|~N))+I[15]+4264355552&4294967295,D=L+(F<<10&4294967295|F>>>22),F=N+(L^(D|~P))+I[6]+2734768916&4294967295,N=D+(F<<15&4294967295|F>>>17),F=P+(D^(N|~L))+I[13]+1309151649&4294967295,P=N+(F<<21&4294967295|F>>>11),F=L+(N^(P|~D))+I[4]+4149444226&4294967295,L=P+(F<<6&4294967295|F>>>26),F=D+(P^(L|~N))+I[11]+3174756917&4294967295,D=L+(F<<10&4294967295|F>>>22),F=N+(L^(D|~P))+I[2]+718787259&4294967295,N=D+(F<<15&4294967295|F>>>17),F=P+(D^(N|~L))+I[9]+3951481745&4294967295,U.g[0]=U.g[0]+L&4294967295,U.g[1]=U.g[1]+(N+(F<<21&4294967295|F>>>11))&4294967295,U.g[2]=U.g[2]+N&4294967295,U.g[3]=U.g[3]+D&4294967295}i.prototype.v=function(U,L){L===void 0&&(L=U.length);const P=L-this.blockSize,I=this.C;let N=this.h,D=0;for(;D<L;){if(N==0)for(;D<=P;)r(this,U,D),D+=this.blockSize;if(typeof U=="string"){for(;D<L;)if(I[N++]=U.charCodeAt(D++),N==this.blockSize){r(this,I),N=0;break}}else for(;D<L;)if(I[N++]=U[D++],N==this.blockSize){r(this,I),N=0;break}}this.h=N,this.o+=L},i.prototype.A=function(){var U=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);U[0]=128;for(var L=1;L<U.length-8;++L)U[L]=0;L=this.o*8;for(var P=U.length-8;P<U.length;++P)U[P]=L&255,L/=256;for(this.v(U),U=Array(16),L=0,P=0;P<4;++P)for(let I=0;I<32;I+=8)U[L++]=this.g[P]>>>I&255;return U};function a(U,L){var P=d;return Object.prototype.hasOwnProperty.call(P,U)?P[U]:P[U]=L(U)}function u(U,L){this.h=L;const P=[];let I=!0;for(let N=U.length-1;N>=0;N--){const D=U[N]|0;I&&D==L||(P[N]=D,I=!1)}this.g=P}var d={};function p(U){return-128<=U&&U<128?a(U,function(L){return new u([L|0],L<0?-1:0)}):new u([U|0],U<0?-1:0)}function h(U){if(isNaN(U)||!isFinite(U))return E;if(U<0)return w(h(-U));const L=[];let P=1;for(let I=0;U>=P;I++)L[I]=U/P|0,P*=4294967296;return new u(L,0)}function v(U,L){if(U.length==0)throw Error("number format error: empty string");if(L=L||10,L<2||36<L)throw Error("radix out of range: "+L);if(U.charAt(0)=="-")return w(v(U.substring(1),L));if(U.indexOf("-")>=0)throw Error('number format error: interior "-" character');const P=h(Math.pow(L,8));let I=E;for(let D=0;D<U.length;D+=8){var N=Math.min(8,U.length-D);const F=parseInt(U.substring(D,D+N),L);N<8?(N=h(Math.pow(L,N)),I=I.j(N).add(h(F))):(I=I.j(P),I=I.add(h(F)))}return I}var E=p(0),T=p(1),A=p(16777216);n=u.prototype,n.m=function(){if(V(this))return-w(this).m();let U=0,L=1;for(let P=0;P<this.g.length;P++){const I=this.i(P);U+=(I>=0?I:4294967296+I)*L,L*=4294967296}return U},n.toString=function(U){if(U=U||10,U<2||36<U)throw Error("radix out of range: "+U);if(M(this))return"0";if(V(this))return"-"+w(this).toString(U);const L=h(Math.pow(U,6));var P=this;let I="";for(;;){const N=W(P,L).g;P=z(P,N.j(L));let D=((P.g.length>0?P.g[0]:P.h)>>>0).toString(U);if(P=N,M(P))return D+I;for(;D.length<6;)D="0"+D;I=D+I}},n.i=function(U){return U<0?0:U<this.g.length?this.g[U]:this.h};function M(U){if(U.h!=0)return!1;for(let L=0;L<U.g.length;L++)if(U.g[L]!=0)return!1;return!0}function V(U){return U.h==-1}n.l=function(U){return U=z(this,U),V(U)?-1:M(U)?0:1};function w(U){const L=U.g.length,P=[];for(let I=0;I<L;I++)P[I]=~U.g[I];return new u(P,~U.h).add(T)}n.abs=function(){return V(this)?w(this):this},n.add=function(U){const L=Math.max(this.g.length,U.g.length),P=[];let I=0;for(let N=0;N<=L;N++){let D=I+(this.i(N)&65535)+(U.i(N)&65535),F=(D>>>16)+(this.i(N)>>>16)+(U.i(N)>>>16);I=F>>>16,D&=65535,F&=65535,P[N]=F<<16|D}return new u(P,P[P.length-1]&-2147483648?-1:0)};function z(U,L){return U.add(w(L))}n.j=function(U){if(M(this)||M(U))return E;if(V(this))return V(U)?w(this).j(w(U)):w(w(this).j(U));if(V(U))return w(this.j(w(U)));if(this.l(A)<0&&U.l(A)<0)return h(this.m()*U.m());const L=this.g.length+U.g.length,P=[];for(var I=0;I<2*L;I++)P[I]=0;for(I=0;I<this.g.length;I++)for(let N=0;N<U.g.length;N++){const D=this.i(I)>>>16,F=this.i(I)&65535,ve=U.i(N)>>>16,Ee=U.i(N)&65535;P[2*I+2*N]+=F*Ee,G(P,2*I+2*N),P[2*I+2*N+1]+=D*Ee,G(P,2*I+2*N+1),P[2*I+2*N+1]+=F*ve,G(P,2*I+2*N+1),P[2*I+2*N+2]+=D*ve,G(P,2*I+2*N+2)}for(U=0;U<L;U++)P[U]=P[2*U+1]<<16|P[2*U];for(U=L;U<2*L;U++)P[U]=0;return new u(P,0)};function G(U,L){for(;(U[L]&65535)!=U[L];)U[L+1]+=U[L]>>>16,U[L]&=65535,L++}function q(U,L){this.g=U,this.h=L}function W(U,L){if(M(L))throw Error("division by zero");if(M(U))return new q(E,E);if(V(U))return L=W(w(U),L),new q(w(L.g),w(L.h));if(V(L))return L=W(U,w(L)),new q(w(L.g),L.h);if(U.g.length>30){if(V(U)||V(L))throw Error("slowDivide_ only works with positive integers.");for(var P=T,I=L;I.l(U)<=0;)P=B(P),I=B(I);var N=ae(P,1),D=ae(I,1);for(I=ae(I,2),P=ae(P,2);!M(I);){var F=D.add(I);F.l(U)<=0&&(N=N.add(P),D=F),I=ae(I,1),P=ae(P,1)}return L=z(U,N.j(L)),new q(N,L)}for(N=E;U.l(L)>=0;){for(P=Math.max(1,Math.floor(U.m()/L.m())),I=Math.ceil(Math.log(P)/Math.LN2),I=I<=48?1:Math.pow(2,I-48),D=h(P),F=D.j(L);V(F)||F.l(U)>0;)P-=I,D=h(P),F=D.j(L);M(D)&&(D=T),N=N.add(D),U=z(U,F)}return new q(N,U)}n.B=function(U){return W(this,U).h},n.and=function(U){const L=Math.max(this.g.length,U.g.length),P=[];for(let I=0;I<L;I++)P[I]=this.i(I)&U.i(I);return new u(P,this.h&U.h)},n.or=function(U){const L=Math.max(this.g.length,U.g.length),P=[];for(let I=0;I<L;I++)P[I]=this.i(I)|U.i(I);return new u(P,this.h|U.h)},n.xor=function(U){const L=Math.max(this.g.length,U.g.length),P=[];for(let I=0;I<L;I++)P[I]=this.i(I)^U.i(I);return new u(P,this.h^U.h)};function B(U){const L=U.g.length+1,P=[];for(let I=0;I<L;I++)P[I]=U.i(I)<<1|U.i(I-1)>>>31;return new u(P,U.h)}function ae(U,L){const P=L>>5;L%=32;const I=U.g.length-P,N=[];for(let D=0;D<I;D++)N[D]=L>0?U.i(D+P)>>>L|U.i(D+P+1)<<32-L:U.i(D+P);return new u(N,U.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,OA=i,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=h,u.fromString=v,Pr=u}).apply(typeof AE<"u"?AE:typeof self<"u"?self:typeof window<"u"?window:{});var Kd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var zA,Ru,FA,mf,gg,jA,qA,HA;(function(){var n,e=Object.defineProperty;function t(y){y=[typeof globalThis=="object"&&globalThis,y,typeof window=="object"&&window,typeof self=="object"&&self,typeof Kd=="object"&&Kd];for(var S=0;S<y.length;++S){var C=y[S];if(C&&C.Math==Math)return C}throw Error("Cannot find global object")}var i=t(this);function r(y,S){if(S)e:{var C=i;y=y.split(".");for(var k=0;k<y.length-1;k++){var Q=y[k];if(!(Q in C))break e;C=C[Q]}y=y[y.length-1],k=C[y],S=S(k),S!=k&&S!=null&&e(C,y,{configurable:!0,writable:!0,value:S})}}r("Symbol.dispose",function(y){return y||Symbol("Symbol.dispose")}),r("Array.prototype.values",function(y){return y||function(){return this[Symbol.iterator]()}}),r("Object.entries",function(y){return y||function(S){var C=[],k;for(k in S)Object.prototype.hasOwnProperty.call(S,k)&&C.push([k,S[k]]);return C}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},u=this||self;function d(y){var S=typeof y;return S=="object"&&y!=null||S=="function"}function p(y,S,C){return y.call.apply(y.bind,arguments)}function h(y,S,C){return h=p,h.apply(null,arguments)}function v(y,S){var C=Array.prototype.slice.call(arguments,1);return function(){var k=C.slice();return k.push.apply(k,arguments),y.apply(this,k)}}function E(y,S){function C(){}C.prototype=S.prototype,y.Z=S.prototype,y.prototype=new C,y.prototype.constructor=y,y.Ob=function(k,Q,ie){for(var me=Array(arguments.length-2),Fe=2;Fe<arguments.length;Fe++)me[Fe-2]=arguments[Fe];return S.prototype[Q].apply(k,me)}}var T=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?y=>y&&AsyncContext.Snapshot.wrap(y):y=>y;function A(y){const S=y.length;if(S>0){const C=Array(S);for(let k=0;k<S;k++)C[k]=y[k];return C}return[]}function M(y,S){for(let k=1;k<arguments.length;k++){const Q=arguments[k];var C=typeof Q;if(C=C!="object"?C:Q?Array.isArray(Q)?"array":C:"null",C=="array"||C=="object"&&typeof Q.length=="number"){C=y.length||0;const ie=Q.length||0;y.length=C+ie;for(let me=0;me<ie;me++)y[C+me]=Q[me]}else y.push(Q)}}class V{constructor(S,C){this.i=S,this.j=C,this.h=0,this.g=null}get(){let S;return this.h>0?(this.h--,S=this.g,this.g=S.next,S.next=null):S=this.i(),S}}function w(y){u.setTimeout(()=>{throw y},0)}function z(){var y=U;let S=null;return y.g&&(S=y.g,y.g=y.g.next,y.g||(y.h=null),S.next=null),S}class G{constructor(){this.h=this.g=null}add(S,C){const k=q.get();k.set(S,C),this.h?this.h.next=k:this.g=k,this.h=k}}var q=new V(()=>new W,y=>y.reset());class W{constructor(){this.next=this.g=this.h=null}set(S,C){this.h=S,this.g=C,this.next=null}reset(){this.next=this.g=this.h=null}}let B,ae=!1,U=new G,L=()=>{const y=Promise.resolve(void 0);B=()=>{y.then(P)}};function P(){for(var y;y=z();){try{y.h.call(y.g)}catch(C){w(C)}var S=q;S.j(y),S.h<100&&(S.h++,y.next=S.g,S.g=y)}ae=!1}function I(){this.u=this.u,this.C=this.C}I.prototype.u=!1,I.prototype.dispose=function(){this.u||(this.u=!0,this.N())},I.prototype[Symbol.dispose]=function(){this.dispose()},I.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(y,S){this.type=y,this.g=this.target=S,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var D=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var y=!1,S=Object.defineProperty({},"passive",{get:function(){y=!0}});try{const C=()=>{};u.addEventListener("test",C,S),u.removeEventListener("test",C,S)}catch{}return y})();function F(y){return/^[\s\xa0]*$/.test(y)}function ve(y,S){N.call(this,y?y.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,y&&this.init(y,S)}E(ve,N),ve.prototype.init=function(y,S){const C=this.type=y.type,k=y.changedTouches&&y.changedTouches.length?y.changedTouches[0]:null;this.target=y.target||y.srcElement,this.g=S,S=y.relatedTarget,S||(C=="mouseover"?S=y.fromElement:C=="mouseout"&&(S=y.toElement)),this.relatedTarget=S,k?(this.clientX=k.clientX!==void 0?k.clientX:k.pageX,this.clientY=k.clientY!==void 0?k.clientY:k.pageY,this.screenX=k.screenX||0,this.screenY=k.screenY||0):(this.clientX=y.clientX!==void 0?y.clientX:y.pageX,this.clientY=y.clientY!==void 0?y.clientY:y.pageY,this.screenX=y.screenX||0,this.screenY=y.screenY||0),this.button=y.button,this.key=y.key||"",this.ctrlKey=y.ctrlKey,this.altKey=y.altKey,this.shiftKey=y.shiftKey,this.metaKey=y.metaKey,this.pointerId=y.pointerId||0,this.pointerType=y.pointerType,this.state=y.state,this.i=y,y.defaultPrevented&&ve.Z.h.call(this)},ve.prototype.h=function(){ve.Z.h.call(this);const y=this.i;y.preventDefault?y.preventDefault():y.returnValue=!1};var Ee="closure_listenable_"+(Math.random()*1e6|0),ne=0;function pe(y,S,C,k,Q){this.listener=y,this.proxy=null,this.src=S,this.type=C,this.capture=!!k,this.ha=Q,this.key=++ne,this.da=this.fa=!1}function fe(y){y.da=!0,y.listener=null,y.proxy=null,y.src=null,y.ha=null}function Ce(y,S,C){for(const k in y)S.call(C,y[k],k,y)}function He(y,S){for(const C in y)S.call(void 0,y[C],C,y)}function O(y){const S={};for(const C in y)S[C]=y[C];return S}const Y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ue(y,S){let C,k;for(let Q=1;Q<arguments.length;Q++){k=arguments[Q];for(C in k)y[C]=k[C];for(let ie=0;ie<Y.length;ie++)C=Y[ie],Object.prototype.hasOwnProperty.call(k,C)&&(y[C]=k[C])}}function ge(y){this.src=y,this.g={},this.h=0}ge.prototype.add=function(y,S,C,k,Q){const ie=y.toString();y=this.g[ie],y||(y=this.g[ie]=[],this.h++);const me=Oe(y,S,k,Q);return me>-1?(S=y[me],C||(S.fa=!1)):(S=new pe(S,this.src,ie,!!k,Q),S.fa=C,y.push(S)),S};function De(y,S){const C=S.type;if(C in y.g){var k=y.g[C],Q=Array.prototype.indexOf.call(k,S,void 0),ie;(ie=Q>=0)&&Array.prototype.splice.call(k,Q,1),ie&&(fe(S),y.g[C].length==0&&(delete y.g[C],y.h--))}}function Oe(y,S,C,k){for(let Q=0;Q<y.length;++Q){const ie=y[Q];if(!ie.da&&ie.listener==S&&ie.capture==!!C&&ie.ha==k)return Q}return-1}var Ge="closure_lm_"+(Math.random()*1e6|0),It={};function rt(y,S,C,k,Q){if(Array.isArray(S)){for(let ie=0;ie<S.length;ie++)rt(y,S[ie],C,k,Q);return null}return C=xl(C),y&&y[Ee]?y.J(S,C,d(k)?!!k.capture:!1,Q):di(y,S,C,!1,k,Q)}function di(y,S,C,k,Q,ie){if(!S)throw Error("Invalid event type");const me=d(Q)?!!Q.capture:!!Q;let Fe=Kt(y);if(Fe||(y[Ge]=Fe=new ge(y)),C=Fe.add(S,C,k,me,ie),C.proxy)return C;if(k=Hs(),C.proxy=k,k.src=y,k.listener=C,y.addEventListener)D||(Q=me),Q===void 0&&(Q=!1),y.addEventListener(S.toString(),k,Q);else if(y.attachEvent)y.attachEvent(_e(S.toString()),k);else if(y.addListener&&y.removeListener)y.addListener(k);else throw Error("addEventListener and attachEvent are unavailable.");return C}function Hs(){function y(C){return S.call(y.src,y.listener,C)}const S=at;return y}function K(y,S,C,k,Q){if(Array.isArray(S))for(var ie=0;ie<S.length;ie++)K(y,S[ie],C,k,Q);else k=d(k)?!!k.capture:!!k,C=xl(C),y&&y[Ee]?(y=y.i,ie=String(S).toString(),ie in y.g&&(S=y.g[ie],C=Oe(S,C,k,Q),C>-1&&(fe(S[C]),Array.prototype.splice.call(S,C,1),S.length==0&&(delete y.g[ie],y.h--)))):y&&(y=Kt(y))&&(S=y.g[S.toString()],y=-1,S&&(y=Oe(S,C,k,Q)),(C=y>-1?S[y]:null)&&he(C))}function he(y){if(typeof y!="number"&&y&&!y.da){var S=y.src;if(S&&S[Ee])De(S.i,y);else{var C=y.type,k=y.proxy;S.removeEventListener?S.removeEventListener(C,k,y.capture):S.detachEvent?S.detachEvent(_e(C),k):S.addListener&&S.removeListener&&S.removeListener(k),(C=Kt(S))?(De(C,y),C.h==0&&(C.src=null,S[Ge]=null)):fe(y)}}}function _e(y){return y in It?It[y]:It[y]="on"+y}function at(y,S){if(y.da)y=!0;else{S=new ve(S,this);const C=y.listener,k=y.ha||y.src;y.fa&&he(y),y=C.call(k,S)}return y}function Kt(y){return y=y[Ge],y instanceof ge?y:null}var ze="__closure_events_fn_"+(Math.random()*1e9>>>0);function xl(y){return typeof y=="function"?y:(y[ze]||(y[ze]=function(S){return y.handleEvent(S)}),y[ze])}function Pt(){I.call(this),this.i=new ge(this),this.M=this,this.G=null}E(Pt,I),Pt.prototype[Ee]=!0,Pt.prototype.removeEventListener=function(y,S,C,k){K(this,y,S,C,k)};function Yt(y,S){var C,k=y.G;if(k)for(C=[];k;k=k.G)C.push(k);if(y=y.M,k=S.type||S,typeof S=="string")S=new N(S,y);else if(S instanceof N)S.target=S.target||y;else{var Q=S;S=new N(k,y),ue(S,Q)}Q=!0;let ie,me;if(C)for(me=C.length-1;me>=0;me--)ie=S.g=C[me],Q=Gs(ie,k,!0,S)&&Q;if(ie=S.g=y,Q=Gs(ie,k,!0,S)&&Q,Q=Gs(ie,k,!1,S)&&Q,C)for(me=0;me<C.length;me++)ie=S.g=C[me],Q=Gs(ie,k,!1,S)&&Q}Pt.prototype.N=function(){if(Pt.Z.N.call(this),this.i){var y=this.i;for(const S in y.g){const C=y.g[S];for(let k=0;k<C.length;k++)fe(C[k]);delete y.g[S],y.h--}}this.G=null},Pt.prototype.J=function(y,S,C,k){return this.i.add(String(y),S,!1,C,k)},Pt.prototype.K=function(y,S,C,k){return this.i.add(String(y),S,!0,C,k)};function Gs(y,S,C,k){if(S=y.i.g[String(S)],!S)return!0;S=S.concat();let Q=!0;for(let ie=0;ie<S.length;++ie){const me=S[ie];if(me&&!me.da&&me.capture==C){const Fe=me.listener,Rt=me.ha||me.src;me.fa&&De(y.i,me),Q=Fe.call(Rt,k)!==!1&&Q}}return Q&&!k.defaultPrevented}function Dh(y,S){if(typeof y!="function")if(y&&typeof y.handleEvent=="function")y=h(y.handleEvent,y);else throw Error("Invalid listener argument");return Number(S)>2147483647?-1:u.setTimeout(y,S||0)}function yc(y){y.g=Dh(()=>{y.g=null,y.i&&(y.i=!1,yc(y))},y.l);const S=y.h;y.h=null,y.m.apply(null,S)}class xn extends I{constructor(S,C){super(),this.m=S,this.l=C,this.h=null,this.i=!1,this.g=null}j(S){this.h=arguments,this.g?this.i=!0:yc(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Qr(y){I.call(this),this.h=y,this.g={}}E(Qr,I);var El=[];function Tl(y){Ce(y.g,function(S,C){this.g.hasOwnProperty(C)&&he(S)},y),y.g={}}Qr.prototype.N=function(){Qr.Z.N.call(this),Tl(this)},Qr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Bs=u.JSON.stringify,kh=u.JSON.parse,vc=class{stringify(y){return u.JSON.stringify(y,void 0)}parse(y){return u.JSON.parse(y,void 0)}};function _c(){}function xc(){}var fi={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function rn(){N.call(this,"d")}E(rn,N);function Bn(){N.call(this,"c")}E(Bn,N);var Nt={},Ec=null;function $o(){return Ec=Ec||new Pt}Nt.Ia="serverreachability";function Tc(y){N.call(this,Nt.Ia,y)}E(Tc,N);function Li(y){const S=$o();Yt(S,new Tc(S))}Nt.STAT_EVENT="statevent";function Xr(y,S){N.call(this,Nt.STAT_EVENT,y),this.stat=S}E(Xr,N);function Lt(y){const S=$o();Yt(S,new Xr(S,y))}Nt.Ja="timingevent";function Vi(y,S){N.call(this,Nt.Ja,y),this.size=S}E(Vi,N);function Ui(y,S){if(typeof y!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){y()},S)}function hi(){this.g=!0}hi.prototype.ua=function(){this.g=!1};function Ph(y,S,C,k,Q,ie){y.info(function(){if(y.g)if(ie){var me="",Fe=ie.split("&");for(let it=0;it<Fe.length;it++){var Rt=Fe[it].split("=");if(Rt.length>1){const xt=Rt[0];Rt=Rt[1];const Yn=xt.split("_");me=Yn.length>=2&&Yn[1]=="type"?me+(xt+"="+Rt+"&"):me+(xt+"=redacted&")}}}else me=null;else me=ie;return"XMLHTTP REQ ("+k+") [attempt "+Q+"]: "+S+`
`+C+`
`+me})}function Sc(y,S,C,k,Q,ie,me){y.info(function(){return"XMLHTTP RESP ("+k+") [ attempt "+Q+"]: "+S+`
`+C+`
`+ie+" "+me})}function Oi(y,S,C,k){y.info(function(){return"XMLHTTP TEXT ("+S+"): "+Lh(y,C)+(k?" "+k:"")})}function Zr(y,S){y.info(function(){return"TIMEOUT: "+S})}hi.prototype.info=function(){};function Lh(y,S){if(!y.g)return S;if(!S)return null;try{const ie=JSON.parse(S);if(ie){for(y=0;y<ie.length;y++)if(Array.isArray(ie[y])){var C=ie[y];if(!(C.length<2)){var k=C[1];if(Array.isArray(k)&&!(k.length<1)){var Q=k[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(let me=1;me<k.length;me++)k[me]=""}}}}return Bs(ie)}catch{return S}}var eo={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Sl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},bl;function to(){}E(to,_c),to.prototype.g=function(){return new XMLHttpRequest},bl=new to;function ds(y){return encodeURIComponent(String(y))}function bc(y){var S=1;y=y.split(":");const C=[];for(;S>0&&y.length;)C.push(y.shift()),S--;return y.length&&C.push(y.join(":")),C}function pi(y,S,C,k){this.j=y,this.i=S,this.l=C,this.S=k||1,this.V=new Qr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new mi}function mi(){this.i=null,this.g="",this.h=!1}var Vt={},Zt={};function zi(y,S,C){y.M=1,y.A=no(Ot(S)),y.u=C,y.R=!0,Jo(y,null)}function Jo(y,S){y.F=Date.now(),Fi(y),y.B=Ot(y.A);var C=y.B,k=y.S;Array.isArray(k)||(k=[String(k)]),Qo(C.i,"t",k),y.C=0,C=y.j.L,y.h=new mi,y.g=zc(y.j,C?S:null,!y.u),y.P>0&&(y.O=new xn(h(y.Y,y,y.g),y.P)),S=y.V,C=y.g,k=y.ba;var Q="readystatechange";Array.isArray(Q)||(Q&&(El[0]=Q.toString()),Q=El);for(let ie=0;ie<Q.length;ie++){const me=rt(C,Q[ie],k||S.handleEvent,!1,S.h||S);if(!me)break;S.g[me.key]=me}S=y.J?O(y.J):{},y.u?(y.v||(y.v="POST"),S["Content-Type"]="application/x-www-form-urlencoded",y.g.ea(y.B,y.v,y.u,S)):(y.v="GET",y.g.ea(y.B,y.v,null,S)),Li(),Ph(y.i,y.v,y.B,y.l,y.S,y.u)}pi.prototype.ba=function(y){y=y.target;const S=this.O;S&&vi(y)==3?S.j():this.Y(y)},pi.prototype.Y=function(y){try{if(y==this.g)e:{const Fe=vi(this.g),Rt=this.g.ya(),it=this.g.ca();if(!(Fe<3)&&(Fe!=3||this.g&&(this.h.h||this.g.la()||on(this.g)))){this.K||Fe!=4||Rt==7||(Rt==8||it<=0?Li(3):Li(2)),ji(this);var S=this.g.ca();this.X=S;var C=Vh(this);if(this.o=S==200,Sc(this.i,this.v,this.B,this.l,this.S,Fe,S),this.o){if(this.U&&!this.L){t:{if(this.g){var k,Q=this.g;if((k=Q.g?Q.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!F(k)){var ie=k;break t}}ie=null}if(y=ie)Oi(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,qi(this,y);else{this.o=!1,this.m=3,Lt(12),Pn(this),$n(this);break e}}if(this.R){y=!0;let xt;for(;!this.K&&this.C<C.length;)if(xt=Cc(this,C),xt==Zt){Fe==4&&(this.m=4,Lt(14),y=!1),Oi(this.i,this.l,null,"[Incomplete Response]");break}else if(xt==Vt){this.m=4,Lt(15),Oi(this.i,this.l,C,"[Invalid Chunk]"),y=!1;break}else Oi(this.i,this.l,xt,null),qi(this,xt);if(Ac(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Fe!=4||C.length!=0||this.h.h||(this.m=1,Lt(16),y=!1),this.o=this.o&&y,!y)Oi(this.i,this.l,C,"[Invalid Chunked Response]"),Pn(this),$n(this);else if(C.length>0&&!this.W){this.W=!0;var me=this.j;me.g==this&&me.aa&&!me.P&&(me.j.info("Great, no buffering proxy detected. Bytes received: "+C.length),zl(me),me.P=!0,Lt(11))}}else Oi(this.i,this.l,C,null),qi(this,C);Fe==4&&Pn(this),this.o&&!this.K&&(Fe==4?Lc(this.j,this):(this.o=!1,Fi(this)))}else hs(this.g),S==400&&C.indexOf("Unknown SID")>0?(this.m=3,Lt(12)):(this.m=0,Lt(13)),Pn(this),$n(this)}}}catch{}finally{}};function Vh(y){if(!Ac(y))return y.g.la();const S=on(y.g);if(S==="")return"";let C="";const k=S.length,Q=vi(y.g)==4;if(!y.h.i){if(typeof TextDecoder>"u")return Pn(y),$n(y),"";y.h.i=new u.TextDecoder}for(let ie=0;ie<k;ie++)y.h.h=!0,C+=y.h.i.decode(S[ie],{stream:!(Q&&ie==k-1)});return S.length=0,y.h.g+=C,y.C=0,y.h.g}function Ac(y){return y.g?y.v=="GET"&&y.M!=2&&y.j.Aa:!1}function Cc(y,S){var C=y.C,k=S.indexOf(`
`,C);return k==-1?Zt:(C=Number(S.substring(C,k)),isNaN(C)?Vt:(k+=1,k+C>S.length?Zt:(S=S.slice(k,k+C),y.C=k+C,S)))}pi.prototype.cancel=function(){this.K=!0,Pn(this)};function Fi(y){y.T=Date.now()+y.H,Ko(y,y.H)}function Ko(y,S){if(y.D!=null)throw Error("WatchDog timer not null");y.D=Ui(h(y.aa,y),S)}function ji(y){y.D&&(u.clearTimeout(y.D),y.D=null)}pi.prototype.aa=function(){this.D=null;const y=Date.now();y-this.T>=0?(Zr(this.i,this.B),this.M!=2&&(Li(),Lt(17)),Pn(this),this.m=2,$n(this)):Ko(this,this.T-y)};function $n(y){y.j.I==0||y.K||Lc(y.j,y)}function Pn(y){ji(y);var S=y.O;S&&typeof S.dispose=="function"&&S.dispose(),y.O=null,Tl(y.V),y.g&&(S=y.g,y.g=null,S.abort(),S.dispose())}function qi(y,S){try{var C=y.j;if(C.I!=0&&(C.g==y||Gi(C.h,y))){if(!y.L&&Gi(C.h,y)&&C.I==3){try{var k=C.Ba.g.parse(S)}catch{k=null}if(Array.isArray(k)&&k.length==3){var Q=k;if(Q[0]==0){e:if(!C.v){if(C.g)if(C.g.F+3e3<y.F)na(C),Zs(C);else break e;uo(C),Lt(18)}}else C.xa=Q[1],0<C.xa-C.K&&Q[2]<37500&&C.F&&C.A==0&&!C.C&&(C.C=Ui(h(C.Va,C),6e3));Hi(C.h)<=1&&C.ta&&(C.ta=void 0)}else Wi(C,11)}else if((y.L||C.g==y)&&na(C),!F(S))for(Q=C.Ba.g.parse(S),S=0;S<Q.length;S++){let it=Q[S];const xt=it[0];if(!(xt<=C.K))if(C.K=xt,it=it[1],C.I==2)if(it[0]=="c"){C.M=it[1],C.ba=it[2];const Yn=it[3];Yn!=null&&(C.ka=Yn,C.j.info("VER="+C.ka));const Qi=it[4];Qi!=null&&(C.za=Qi,C.j.info("SVER="+C.za));const _i=it[5];_i!=null&&typeof _i=="number"&&_i>0&&(k=1.5*_i,C.O=k,C.j.info("backChannelRequestTimeoutMs_="+k)),k=C;const xi=y.g;if(xi){const co=xi.g?xi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(co){var ie=k.h;ie.g||co.indexOf("spdy")==-1&&co.indexOf("quic")==-1&&co.indexOf("h2")==-1||(ie.j=ie.l,ie.g=new Set,ie.h&&(wl(ie,ie.h),ie.h=null))}if(k.G){const ia=xi.g?xi.g.getResponseHeader("X-HTTP-Session-Id"):null;ia&&(k.wa=ia,lt(k.J,k.G,ia))}}C.I=3,C.l&&C.l.ra(),C.aa&&(C.T=Date.now()-y.F,C.j.info("Handshake RTT: "+C.T+"ms")),k=C;var me=y;if(k.na=Oc(k,k.L?k.ba:null,k.W),me.L){Il(k.h,me);var Fe=me,Rt=k.O;Rt&&(Fe.H=Rt),Fe.D&&(ji(Fe),Fi(Fe)),k.g=me}else kc(k);C.i.length>0&&Yi(C)}else it[0]!="stop"&&it[0]!="close"||Wi(C,7);else C.I==3&&(it[0]=="stop"||it[0]=="close"?it[0]=="stop"?Wi(C,7):Ul(C):it[0]!="noop"&&C.l&&C.l.qa(it),C.A=0)}}Li(4)}catch{}}var Ut=class{constructor(y,S){this.g=y,this.map=S}};function Al(y){this.l=y||10,u.PerformanceNavigationTiming?(y=u.performance.getEntriesByType("navigation"),y=y.length>0&&(y[0].nextHopProtocol=="hq"||y[0].nextHopProtocol=="h2")):y=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=y?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Cl(y){return y.h?!0:y.g?y.g.size>=y.j:!1}function Hi(y){return y.h?1:y.g?y.g.size:0}function Gi(y,S){return y.h?y.h==S:y.g?y.g.has(S):!1}function wl(y,S){y.g?y.g.add(S):y.h=S}function Il(y,S){y.h&&y.h==S?y.h=null:y.g&&y.g.has(S)&&y.g.delete(S)}Al.prototype.cancel=function(){if(this.i=Nl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const y of this.g.values())y.cancel();this.g.clear()}};function Nl(y){if(y.h!=null)return y.i.concat(y.h.G);if(y.g!=null&&y.g.size!==0){let S=y.i;for(const C of y.g.values())S=S.concat(C.G);return S}return A(y.i)}var wc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Yo(y,S){if(y){y=y.split("&");for(let C=0;C<y.length;C++){const k=y[C].indexOf("=");let Q,ie=null;k>=0?(Q=y[C].substring(0,k),ie=y[C].substring(k+1)):Q=y[C],S(Q,ie?decodeURIComponent(ie.replace(/\+/g," ")):"")}}}function Ln(y){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let S;y instanceof Ln?(this.l=y.l,en(this,y.j),this.o=y.o,this.g=y.g,$s(this,y.u),this.h=y.h,Rl(this,Mc(y.i)),this.m=y.m):y&&(S=String(y).match(wc))?(this.l=!1,en(this,S[1]||"",!0),this.o=Bi(S[2]||""),this.g=Bi(S[3]||"",!0),$s(this,S[4]),this.h=Bi(S[5]||"",!0),Rl(this,S[6]||"",!0),this.m=Bi(S[7]||"")):(this.l=!1,this.i=new Ks(null,this.l))}Ln.prototype.toString=function(){const y=[];var S=this.j;S&&y.push(io(S,Wo,!0),":");var C=this.g;return(C||S=="file")&&(y.push("//"),(S=this.o)&&y.push(io(S,Wo,!0),"@"),y.push(ds(C).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),C=this.u,C!=null&&y.push(":",String(C))),(C=this.h)&&(this.g&&C.charAt(0)!="/"&&y.push("/"),y.push(io(C,C.charAt(0)=="/"?Ml:Ic,!0))),(C=this.i.toString())&&y.push("?",C),(C=this.m)&&y.push("#",io(C,Nc)),y.join("")},Ln.prototype.resolve=function(y){const S=Ot(this);let C=!!y.j;C?en(S,y.j):C=!!y.o,C?S.o=y.o:C=!!y.g,C?S.g=y.g:C=y.u!=null;var k=y.h;if(C)$s(S,y.u);else if(C=!!y.h){if(k.charAt(0)!="/")if(this.g&&!this.h)k="/"+k;else{var Q=S.h.lastIndexOf("/");Q!=-1&&(k=S.h.slice(0,Q+1)+k)}if(Q=k,Q==".."||Q==".")k="";else if(Q.indexOf("./")!=-1||Q.indexOf("/.")!=-1){k=Q.lastIndexOf("/",0)==0,Q=Q.split("/");const ie=[];for(let me=0;me<Q.length;){const Fe=Q[me++];Fe=="."?k&&me==Q.length&&ie.push(""):Fe==".."?((ie.length>1||ie.length==1&&ie[0]!="")&&ie.pop(),k&&me==Q.length&&ie.push("")):(ie.push(Fe),k=!0)}k=ie.join("/")}else k=Q}return C?S.h=k:C=y.i.toString()!=="",C?Rl(S,Mc(y.i)):C=!!y.m,C&&(S.m=y.m),S};function Ot(y){return new Ln(y)}function en(y,S,C){y.j=C?Bi(S,!0):S,y.j&&(y.j=y.j.replace(/:$/,""))}function $s(y,S){if(S){if(S=Number(S),isNaN(S)||S<0)throw Error("Bad port number "+S);y.u=S}else y.u=null}function Rl(y,S,C){S instanceof Ks?(y.i=S,Xo(y.i,y.l)):(C||(S=io(S,Js)),y.i=new Ks(S,y.l))}function lt(y,S,C){y.i.set(S,C)}function no(y){return lt(y,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),y}function Bi(y,S){return y?S?decodeURI(y.replace(/%25/g,"%2525")):decodeURIComponent(y):""}function io(y,S,C){return typeof y=="string"?(y=encodeURI(y).replace(S,An),C&&(y=y.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y):null}function An(y){return y=y.charCodeAt(0),"%"+(y>>4&15).toString(16)+(y&15).toString(16)}var Wo=/[#\/\?@]/g,Ic=/[#\?:]/g,Ml=/[#\?]/g,Js=/[#\?@]/g,Nc=/#/g;function Ks(y,S){this.h=this.g=null,this.i=y||null,this.j=!!S}function Cn(y){y.g||(y.g=new Map,y.h=0,y.i&&Yo(y.i,function(S,C){y.add(decodeURIComponent(S.replace(/\+/g," ")),C)}))}n=Ks.prototype,n.add=function(y,S){Cn(this),this.i=null,y=Ys(this,y);let C=this.g.get(y);return C||this.g.set(y,C=[]),C.push(S),this.h+=1,this};function Rc(y,S){Cn(y),S=Ys(y,S),y.g.has(S)&&(y.i=null,y.h-=y.g.get(S).length,y.g.delete(S))}function Dl(y,S){return Cn(y),S=Ys(y,S),y.g.has(S)}n.forEach=function(y,S){Cn(this),this.g.forEach(function(C,k){C.forEach(function(Q){y.call(S,Q,k,this)},this)},this)};function kl(y,S){Cn(y);let C=[];if(typeof S=="string")Dl(y,S)&&(C=C.concat(y.g.get(Ys(y,S))));else for(y=Array.from(y.g.values()),S=0;S<y.length;S++)C=C.concat(y[S]);return C}n.set=function(y,S){return Cn(this),this.i=null,y=Ys(this,y),Dl(this,y)&&(this.h-=this.g.get(y).length),this.g.set(y,[S]),this.h+=1,this},n.get=function(y,S){return y?(y=kl(this,y),y.length>0?String(y[0]):S):S};function Qo(y,S,C){Rc(y,S),C.length>0&&(y.i=null,y.g.set(Ys(y,S),A(C)),y.h+=C.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const y=[],S=Array.from(this.g.keys());for(let k=0;k<S.length;k++){var C=S[k];const Q=ds(C);C=kl(this,C);for(let ie=0;ie<C.length;ie++){let me=Q;C[ie]!==""&&(me+="="+ds(C[ie])),y.push(me)}}return this.i=y.join("&")};function Mc(y){const S=new Ks;return S.i=y.i,y.g&&(S.g=new Map(y.g),S.h=y.h),S}function Ys(y,S){return S=String(S),y.j&&(S=S.toLowerCase()),S}function Xo(y,S){S&&!y.j&&(Cn(y),y.i=null,y.g.forEach(function(C,k){const Q=k.toLowerCase();k!=Q&&(Rc(this,k),Qo(this,Q,C))},y)),y.j=S}function gi(y,S){const C=new hi;if(u.Image){const k=new Image;k.onload=v(Jn,C,"TestLoadImage: loaded",!0,S,k),k.onerror=v(Jn,C,"TestLoadImage: error",!1,S,k),k.onabort=v(Jn,C,"TestLoadImage: abort",!1,S,k),k.ontimeout=v(Jn,C,"TestLoadImage: timeout",!1,S,k),u.setTimeout(function(){k.ontimeout&&k.ontimeout()},1e4),k.src=y}else S(!1)}function Pl(y,S){const C=new hi,k=new AbortController,Q=setTimeout(()=>{k.abort(),Jn(C,"TestPingServer: timeout",!1,S)},1e4);fetch(y,{signal:k.signal}).then(ie=>{clearTimeout(Q),ie.ok?Jn(C,"TestPingServer: ok",!0,S):Jn(C,"TestPingServer: server error",!1,S)}).catch(()=>{clearTimeout(Q),Jn(C,"TestPingServer: error",!1,S)})}function Jn(y,S,C,k,Q){try{Q&&(Q.onload=null,Q.onerror=null,Q.onabort=null,Q.ontimeout=null),k(C)}catch{}}function Ws(){this.g=new vc}function $i(y){this.i=y.Sb||null,this.h=y.ab||!1}E($i,_c),$i.prototype.g=function(){return new so(this.i,this.h)};function so(y,S){Pt.call(this),this.H=y,this.o=S,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}E(so,Pt),n=so.prototype,n.open=function(y,S){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=y,this.D=S,this.readyState=1,yi(this)},n.send=function(y){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const S={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};y&&(S.body=y),(this.H||u).fetch(new Request(this.D,S)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Qs(this)),this.readyState=0},n.Pa=function(y){if(this.g&&(this.l=y,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=y.headers,this.readyState=2,yi(this)),this.g&&(this.readyState=3,yi(this),this.g)))if(this.responseType==="arraybuffer")y.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in y){if(this.j=y.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Zo(this)}else y.text().then(this.Oa.bind(this),this.ga.bind(this))};function Zo(y){y.j.read().then(y.Ma.bind(y)).catch(y.ga.bind(y))}n.Ma=function(y){if(this.g){if(this.o&&y.value)this.response.push(y.value);else if(!this.o){var S=y.value?y.value:new Uint8Array(0);(S=this.B.decode(S,{stream:!y.done}))&&(this.response=this.responseText+=S)}y.done?Qs(this):yi(this),this.readyState==3&&Zo(this)}},n.Oa=function(y){this.g&&(this.response=this.responseText=y,Qs(this))},n.Na=function(y){this.g&&(this.response=y,Qs(this))},n.ga=function(){this.g&&Qs(this)};function Qs(y){y.readyState=4,y.l=null,y.j=null,y.B=null,yi(y)}n.setRequestHeader=function(y,S){this.A.append(y,S)},n.getResponseHeader=function(y){return this.h&&this.h.get(y.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const y=[],S=this.h.entries();for(var C=S.next();!C.done;)C=C.value,y.push(C[0]+": "+C[1]),C=S.next();return y.join(`\r
`)};function yi(y){y.onreadystatechange&&y.onreadystatechange.call(y)}Object.defineProperty(so.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(y){this.m=y?"include":"same-origin"}});function Kn(y){let S="";return Ce(y,function(C,k){S+=k,S+=":",S+=C,S+=`\r
`}),S}function ro(y,S,C){e:{for(k in C){var k=!1;break e}k=!0}k||(C=Kn(C),typeof y=="string"?C!=null&&ds(C):lt(y,S,C))}function dt(y){Pt.call(this),this.headers=new Map,this.L=y||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}E(dt,Pt);var Ji=/^https?$/i,Ll=["POST","PUT"];n=dt.prototype,n.Fa=function(y){this.H=y},n.ea=function(y,S,C,k){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+y);S=S?S.toUpperCase():"GET",this.D=y,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():bl.g(),this.g.onreadystatechange=T(h(this.Ca,this));try{this.B=!0,this.g.open(S,String(y),!0),this.B=!1}catch(ie){oo(this,ie);return}if(y=C||"",C=new Map(this.headers),k)if(Object.getPrototypeOf(k)===Object.prototype)for(var Q in k)C.set(Q,k[Q]);else if(typeof k.keys=="function"&&typeof k.get=="function")for(const ie of k.keys())C.set(ie,k.get(ie));else throw Error("Unknown input type for opt_headers: "+String(k));k=Array.from(C.keys()).find(ie=>ie.toLowerCase()=="content-type"),Q=u.FormData&&y instanceof u.FormData,!(Array.prototype.indexOf.call(Ll,S,void 0)>=0)||k||Q||C.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ie,me]of C)this.g.setRequestHeader(ie,me);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(y),this.v=!1}catch(ie){oo(this,ie)}};function oo(y,S){y.h=!1,y.g&&(y.j=!0,y.g.abort(),y.j=!1),y.l=S,y.o=5,Vl(y),fs(y)}function Vl(y){y.A||(y.A=!0,Yt(y,"complete"),Yt(y,"error"))}n.abort=function(y){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=y||7,Yt(this,"complete"),Yt(this,"abort"),fs(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),fs(this,!0)),dt.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?ao(this):this.Xa())},n.Xa=function(){ao(this)};function ao(y){if(y.h&&typeof a<"u"){if(y.v&&vi(y)==4)setTimeout(y.Ca.bind(y),0);else if(Yt(y,"readystatechange"),vi(y)==4){y.h=!1;try{const ie=y.ca();e:switch(ie){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var S=!0;break e;default:S=!1}var C;if(!(C=S)){var k;if(k=ie===0){let me=String(y.D).match(wc)[1]||null;!me&&u.self&&u.self.location&&(me=u.self.location.protocol.slice(0,-1)),k=!Ji.test(me?me.toLowerCase():"")}C=k}if(C)Yt(y,"complete"),Yt(y,"success");else{y.o=6;try{var Q=vi(y)>2?y.g.statusText:""}catch{Q=""}y.l=Q+" ["+y.ca()+"]",Vl(y)}}finally{fs(y)}}}}function fs(y,S){if(y.g){y.m&&(clearTimeout(y.m),y.m=null);const C=y.g;y.g=null,S||Yt(y,"ready");try{C.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function vi(y){return y.g?y.g.readyState:0}n.ca=function(){try{return vi(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(y){if(this.g){var S=this.g.responseText;return y&&S.indexOf(y)==0&&(S=S.substring(y.length)),kh(S)}};function on(y){try{if(!y.g)return null;if("response"in y.g)return y.g.response;switch(y.F){case"":case"text":return y.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in y.g)return y.g.mozResponseArrayBuffer}return null}catch{return null}}function hs(y){const S={};y=(y.g&&vi(y)>=2&&y.g.getAllResponseHeaders()||"").split(`\r
`);for(let k=0;k<y.length;k++){if(F(y[k]))continue;var C=bc(y[k]);const Q=C[0];if(C=C[1],typeof C!="string")continue;C=C.trim();const ie=S[Q]||[];S[Q]=ie,ie.push(C)}He(S,function(k){return k.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ki(y,S,C){return C&&C.internalChannelParams&&C.internalChannelParams[y]||S}function Xs(y){this.za=0,this.i=[],this.j=new hi,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ki("failFast",!1,y),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ki("baseRetryDelayMs",5e3,y),this.Za=Ki("retryDelaySeedMs",1e4,y),this.Ta=Ki("forwardChannelMaxRetries",2,y),this.va=Ki("forwardChannelRequestTimeoutMs",2e4,y),this.ma=y&&y.xmlHttpFactory||void 0,this.Ua=y&&y.Rb||void 0,this.Aa=y&&y.useFetchStreams||!1,this.O=void 0,this.L=y&&y.supportsCrossDomainXhr||!1,this.M="",this.h=new Al(y&&y.concurrentRequestLimit),this.Ba=new Ws,this.S=y&&y.fastHandshake||!1,this.R=y&&y.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=y&&y.Pb||!1,y&&y.ua&&this.j.ua(),y&&y.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&y&&y.detectBufferingProxy||!1,this.ia=void 0,y&&y.longPollingTimeout&&y.longPollingTimeout>0&&(this.ia=y.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=Xs.prototype,n.ka=8,n.I=1,n.connect=function(y,S,C,k){Lt(0),this.W=y,this.H=S||{},C&&k!==void 0&&(this.H.OSID=C,this.H.OAID=k),this.F=this.X,this.J=Oc(this,null,this.W),Yi(this)};function Ul(y){if(ea(y),y.I==3){var S=y.V++,C=Ot(y.J);if(lt(C,"SID",y.M),lt(C,"RID",S),lt(C,"TYPE","terminate"),lo(y,C),S=new pi(y,y.j,S),S.M=2,S.A=no(Ot(C)),C=!1,u.navigator&&u.navigator.sendBeacon)try{C=u.navigator.sendBeacon(S.A.toString(),"")}catch{}!C&&u.Image&&(new Image().src=S.A,C=!0),C||(S.g=zc(S.j,null),S.g.ea(S.A)),S.F=Date.now(),Fi(S)}Uc(y)}function Zs(y){y.g&&(zl(y),y.g.cancel(),y.g=null)}function ea(y){Zs(y),y.v&&(u.clearTimeout(y.v),y.v=null),na(y),y.h.cancel(),y.m&&(typeof y.m=="number"&&u.clearTimeout(y.m),y.m=null)}function Yi(y){if(!Cl(y.h)&&!y.m){y.m=!0;var S=y.Ea;B||L(),ae||(B(),ae=!0),U.add(S,y),y.D=0}}function ta(y,S){return Hi(y.h)>=y.h.j-(y.m?1:0)?!1:y.m?(y.i=S.G.concat(y.i),!0):y.I==1||y.I==2||y.D>=(y.Sa?0:y.Ta)?!1:(y.m=Ui(h(y.Ea,y,S),Vc(y,y.D)),y.D++,!0)}n.Ea=function(y){if(this.m)if(this.m=null,this.I==1){if(!y){this.V=Math.floor(Math.random()*1e5),y=this.V++;const Q=new pi(this,this.j,y);let ie=this.o;if(this.U&&(ie?(ie=O(ie),ue(ie,this.U)):ie=this.U),this.u!==null||this.R||(Q.J=ie,ie=null),this.S)e:{for(var S=0,C=0;C<this.i.length;C++){t:{var k=this.i[C];if("__data__"in k.map&&(k=k.map.__data__,typeof k=="string")){k=k.length;break t}k=void 0}if(k===void 0)break;if(S+=k,S>4096){S=C;break e}if(S===4096||C===this.i.length-1){S=C+1;break e}}S=1e3}else S=1e3;S=Dc(this,Q,S),C=Ot(this.J),lt(C,"RID",y),lt(C,"CVER",22),this.G&&lt(C,"X-HTTP-Session-Id",this.G),lo(this,C),ie&&(this.R?S="headers="+ds(Kn(ie))+"&"+S:this.u&&ro(C,this.u,ie)),wl(this.h,Q),this.Ra&&lt(C,"TYPE","init"),this.S?(lt(C,"$req",S),lt(C,"SID","null"),Q.U=!0,zi(Q,C,null)):zi(Q,C,S),this.I=2}}else this.I==3&&(y?Ol(this,y):this.i.length==0||Cl(this.h)||Ol(this))};function Ol(y,S){var C;S?C=S.l:C=y.V++;const k=Ot(y.J);lt(k,"SID",y.M),lt(k,"RID",C),lt(k,"AID",y.K),lo(y,k),y.u&&y.o&&ro(k,y.u,y.o),C=new pi(y,y.j,C,y.D+1),y.u===null&&(C.J=y.o),S&&(y.i=S.G.concat(y.i)),S=Dc(y,C,1e3),C.H=Math.round(y.va*.5)+Math.round(y.va*.5*Math.random()),wl(y.h,C),zi(C,k,S)}function lo(y,S){y.H&&Ce(y.H,function(C,k){lt(S,k,C)}),y.l&&Ce({},function(C,k){lt(S,k,C)})}function Dc(y,S,C){C=Math.min(y.i.length,C);const k=y.l?h(y.l.Ka,y.l,y):null;e:{var Q=y.i;let Fe=-1;for(;;){const Rt=["count="+C];Fe==-1?C>0?(Fe=Q[0].g,Rt.push("ofs="+Fe)):Fe=0:Rt.push("ofs="+Fe);let it=!0;for(let xt=0;xt<C;xt++){var ie=Q[xt].g;const Yn=Q[xt].map;if(ie-=Fe,ie<0)Fe=Math.max(0,Q[xt].g-100),it=!1;else try{ie="req"+ie+"_"||"";try{var me=Yn instanceof Map?Yn:Object.entries(Yn);for(const[Qi,_i]of me){let xi=_i;d(_i)&&(xi=Bs(_i)),Rt.push(ie+Qi+"="+encodeURIComponent(xi))}}catch(Qi){throw Rt.push(ie+"type="+encodeURIComponent("_badmap")),Qi}}catch{k&&k(Yn)}}if(it){me=Rt.join("&");break e}}me=void 0}return y=y.i.splice(0,C),S.G=y,me}function kc(y){if(!y.g&&!y.v){y.Y=1;var S=y.Da;B||L(),ae||(B(),ae=!0),U.add(S,y),y.A=0}}function uo(y){return y.g||y.v||y.A>=3?!1:(y.Y++,y.v=Ui(h(y.Da,y),Vc(y,y.A)),y.A++,!0)}n.Da=function(){if(this.v=null,Pc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var y=4*this.T;this.j.info("BP detection timer enabled: "+y),this.B=Ui(h(this.Wa,this),y)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Lt(10),Zs(this),Pc(this))};function zl(y){y.B!=null&&(u.clearTimeout(y.B),y.B=null)}function Pc(y){y.g=new pi(y,y.j,"rpc",y.Y),y.u===null&&(y.g.J=y.o),y.g.P=0;var S=Ot(y.na);lt(S,"RID","rpc"),lt(S,"SID",y.M),lt(S,"AID",y.K),lt(S,"CI",y.F?"0":"1"),!y.F&&y.ia&&lt(S,"TO",y.ia),lt(S,"TYPE","xmlhttp"),lo(y,S),y.u&&y.o&&ro(S,y.u,y.o),y.O&&(y.g.H=y.O);var C=y.g;y=y.ba,C.M=1,C.A=no(Ot(S)),C.u=null,C.R=!0,Jo(C,y)}n.Va=function(){this.C!=null&&(this.C=null,Zs(this),uo(this),Lt(19))};function na(y){y.C!=null&&(u.clearTimeout(y.C),y.C=null)}function Lc(y,S){var C=null;if(y.g==S){na(y),zl(y),y.g=null;var k=2}else if(Gi(y.h,S))C=S.G,Il(y.h,S),k=1;else return;if(y.I!=0){if(S.o)if(k==1){C=S.u?S.u.length:0,S=Date.now()-S.F;var Q=y.D;k=$o(),Yt(k,new Vi(k,C)),Yi(y)}else kc(y);else if(Q=S.m,Q==3||Q==0&&S.X>0||!(k==1&&ta(y,S)||k==2&&uo(y)))switch(C&&C.length>0&&(S=y.h,S.i=S.i.concat(C)),Q){case 1:Wi(y,5);break;case 4:Wi(y,10);break;case 3:Wi(y,6);break;default:Wi(y,2)}}}function Vc(y,S){let C=y.Qa+Math.floor(Math.random()*y.Za);return y.isActive()||(C*=2),C*S}function Wi(y,S){if(y.j.info("Error code "+S),S==2){var C=h(y.bb,y),k=y.Ua;const Q=!k;k=new Ln(k||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||en(k,"https"),no(k),Q?gi(k.toString(),C):Pl(k.toString(),C)}else Lt(2);y.I=0,y.l&&y.l.pa(S),Uc(y),ea(y)}n.bb=function(y){y?(this.j.info("Successfully pinged google.com"),Lt(2)):(this.j.info("Failed to ping google.com"),Lt(1))};function Uc(y){if(y.I=0,y.ja=[],y.l){const S=Nl(y.h);(S.length!=0||y.i.length!=0)&&(M(y.ja,S),M(y.ja,y.i),y.h.i.length=0,A(y.i),y.i.length=0),y.l.oa()}}function Oc(y,S,C){var k=C instanceof Ln?Ot(C):new Ln(C);if(k.g!="")S&&(k.g=S+"."+k.g),$s(k,k.u);else{var Q=u.location;k=Q.protocol,S=S?S+"."+Q.hostname:Q.hostname,Q=+Q.port;const ie=new Ln(null);k&&en(ie,k),S&&(ie.g=S),Q&&$s(ie,Q),C&&(ie.h=C),k=ie}return C=y.G,S=y.wa,C&&S&&lt(k,C,S),lt(k,"VER",y.ka),lo(y,k),k}function zc(y,S,C){if(S&&!y.L)throw Error("Can't create secondary domain capable XhrIo object.");return S=y.Aa&&!y.ma?new dt(new $i({ab:C})):new dt(y.ma),S.Fa(y.L),S}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Fc(){}n=Fc.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function er(){}er.prototype.g=function(y,S){return new En(y,S)};function En(y,S){Pt.call(this),this.g=new Xs(S),this.l=y,this.h=S&&S.messageUrlParams||null,y=S&&S.messageHeaders||null,S&&S.clientProtocolHeaderRequired&&(y?y["X-Client-Protocol"]="webchannel":y={"X-Client-Protocol":"webchannel"}),this.g.o=y,y=S&&S.initMessageHeaders||null,S&&S.messageContentType&&(y?y["X-WebChannel-Content-Type"]=S.messageContentType:y={"X-WebChannel-Content-Type":S.messageContentType}),S&&S.sa&&(y?y["X-WebChannel-Client-Profile"]=S.sa:y={"X-WebChannel-Client-Profile":S.sa}),this.g.U=y,(y=S&&S.Qb)&&!F(y)&&(this.g.u=y),this.A=S&&S.supportsCrossDomainXhr||!1,this.v=S&&S.sendRawJson||!1,(S=S&&S.httpSessionIdParam)&&!F(S)&&(this.g.G=S,y=this.h,y!==null&&S in y&&(y=this.h,S in y&&delete y[S])),this.j=new ps(this)}E(En,Pt),En.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},En.prototype.close=function(){Ul(this.g)},En.prototype.o=function(y){var S=this.g;if(typeof y=="string"){var C={};C.__data__=y,y=C}else this.v&&(C={},C.__data__=Bs(y),y=C);S.i.push(new Ut(S.Ya++,y)),S.I==3&&Yi(S)},En.prototype.N=function(){this.g.l=null,delete this.j,Ul(this.g),delete this.g,En.Z.N.call(this)};function jc(y){rn.call(this),y.__headers__&&(this.headers=y.__headers__,this.statusCode=y.__status__,delete y.__headers__,delete y.__status__);var S=y.__sm__;if(S){e:{for(const C in S){y=C;break e}y=void 0}(this.i=y)&&(y=this.i,S=S!==null&&y in S?S[y]:void 0),this.data=S}else this.data=y}E(jc,rn);function qc(){Bn.call(this),this.status=1}E(qc,Bn);function ps(y){this.g=y}E(ps,Fc),ps.prototype.ra=function(){Yt(this.g,"a")},ps.prototype.qa=function(y){Yt(this.g,new jc(y))},ps.prototype.pa=function(y){Yt(this.g,new qc)},ps.prototype.oa=function(){Yt(this.g,"b")},er.prototype.createWebChannel=er.prototype.g,En.prototype.send=En.prototype.o,En.prototype.open=En.prototype.m,En.prototype.close=En.prototype.close,HA=function(){return new er},qA=function(){return $o()},jA=Nt,gg={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},eo.NO_ERROR=0,eo.TIMEOUT=8,eo.HTTP_ERROR=6,mf=eo,Sl.COMPLETE="complete",FA=Sl,xc.EventType=fi,fi.OPEN="a",fi.CLOSE="b",fi.ERROR="c",fi.MESSAGE="d",Pt.prototype.listen=Pt.prototype.J,Ru=xc,dt.prototype.listenOnce=dt.prototype.K,dt.prototype.getLastError=dt.prototype.Ha,dt.prototype.getLastErrorCode=dt.prototype.ya,dt.prototype.getStatus=dt.prototype.ca,dt.prototype.getResponseJson=dt.prototype.La,dt.prototype.getResponseText=dt.prototype.la,dt.prototype.send=dt.prototype.ea,dt.prototype.setWithCredentials=dt.prototype.Fa,zA=dt}).apply(typeof Kd<"u"?Kd:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}gn.UNAUTHENTICATED=new gn(null),gn.GOOGLE_CREDENTIALS=new gn("google-credentials-uid"),gn.FIRST_PARTY=new gn("first-party-uid"),gn.MOCK_USER=new gn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dl="12.8.0";function $4(n){dl=n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vo=new ay("@firebase/firestore");function ka(){return Vo.logLevel}function Se(n,...e){if(Vo.logLevel<=Ye.DEBUG){const t=e.map(_y);Vo.debug(`Firestore (${dl}): ${n}`,...t)}}function Us(n,...e){if(Vo.logLevel<=Ye.ERROR){const t=e.map(_y);Vo.error(`Firestore (${dl}): ${n}`,...t)}}function Qa(n,...e){if(Vo.logLevel<=Ye.WARN){const t=e.map(_y);Vo.warn(`Firestore (${dl}): ${n}`,...t)}}function _y(n){if(typeof n=="string")return n;try{return(function(t){return JSON.stringify(t)})(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Me(n,e,t){let i="Unexpected state";typeof e=="string"?i=e:t=e,GA(n,i,t)}function GA(n,e,t){let i=`FIRESTORE (${dl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{i+=" CONTEXT: "+JSON.stringify(t)}catch{i+=" CONTEXT: "+t}throw Us(i),new Error(i)}function ot(n,e,t,i){let r="Unexpected state";typeof t=="string"?r=t:i=t,n||GA(e,r,i)}function Ue(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ce={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Te extends Fs{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BA{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class J4{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(gn.UNAUTHENTICATED)))}shutdown(){}}class K4{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class Y4{constructor(e){this.t=e,this.currentUser=gn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){ot(this.o===void 0,42304);let i=this.i;const r=p=>this.i!==i?(i=this.i,t(p)):Promise.resolve();let a=new Lr;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Lr,e.enqueueRetryable((()=>r(this.currentUser)))};const u=()=>{const p=a;e.enqueueRetryable((async()=>{await p.promise,await r(this.currentUser)}))},d=p=>{Se("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((p=>d(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?d(p):(Se("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Lr)}}),0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((i=>this.i!==e?(Se("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(ot(typeof i.accessToken=="string",31837,{l:i}),new BA(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ot(e===null||typeof e=="string",2055,{h:e}),new gn(e)}}class W4{constructor(e,t,i){this.P=e,this.T=t,this.I=i,this.type="FirstParty",this.user=gn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class Q4{constructor(e,t,i){this.P=e,this.T=t,this.I=i}getToken(){return Promise.resolve(new W4(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(gn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class CE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class X4{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ri(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){ot(this.o===void 0,3512);const i=a=>{a.error!=null&&Se("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const u=a.token!==this.m;return this.m=a.token,Se("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>i(a)))};const r=a=>{Se("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((a=>r(a))),setTimeout((()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?r(a):Se("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new CE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(ot(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new CE(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z4(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xy{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const r=Z4(40);for(let a=0;a<r.length;++a)i.length<20&&r[a]<t&&(i+=e.charAt(r[a]%62))}return i}}function We(n,e){return n<e?-1:n>e?1:0}function yg(n,e){const t=Math.min(n.length,e.length);for(let i=0;i<t;i++){const r=n.charAt(i),a=e.charAt(i);if(r!==a)return Jm(r)===Jm(a)?We(r,a):Jm(r)?1:-1}return We(n.length,e.length)}const eL=55296,tL=57343;function Jm(n){const e=n.charCodeAt(0);return e>=eL&&e<=tL}function Xa(n,e,t){return n.length===e.length&&n.every(((i,r)=>t(i,e[r])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wE="__name__";class ns{constructor(e,t,i){t===void 0?t=0:t>e.length&&Me(637,{offset:t,range:e.length}),i===void 0?i=e.length-t:i>e.length-t&&Me(1746,{length:i,range:e.length-t}),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return ns.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ns?e.forEach((i=>{t.push(i)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let r=0;r<i;r++){const a=ns.compareSegments(e.get(r),t.get(r));if(a!==0)return a}return We(e.length,t.length)}static compareSegments(e,t){const i=ns.isNumericId(e),r=ns.isNumericId(t);return i&&!r?-1:!i&&r?1:i&&r?ns.extractNumericId(e).compare(ns.extractNumericId(t)):yg(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Pr.fromString(e.substring(4,e.length-2))}}class gt extends ns{construct(e,t,i){return new gt(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new Te(ce.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter((r=>r.length>0)))}return new gt(t)}static emptyPath(){return new gt([])}}const nL=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class fn extends ns{construct(e,t,i){return new fn(e,t,i)}static isValidIdentifier(e){return nL.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),fn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===wE}static keyField(){return new fn([wE])}static fromServerFormat(e){const t=[];let i="",r=0;const a=()=>{if(i.length===0)throw new Te(ce.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let u=!1;for(;r<e.length;){const d=e[r];if(d==="\\"){if(r+1===e.length)throw new Te(ce.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[r+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new Te(ce.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=p,r+=2}else d==="`"?(u=!u,r++):d!=="."||u?(i+=d,r++):(a(),r++)}if(a(),u)throw new Te(ce.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new fn(t)}static emptyPath(){return new fn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{constructor(e){this.path=e}static fromPath(e){return new Ie(gt.fromString(e))}static fromName(e){return new Ie(gt.fromString(e).popFirst(5))}static empty(){return new Ie(gt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&gt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return gt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ie(new gt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $A(n,e,t){if(!t)throw new Te(ce.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function iL(n,e,t,i){if(e===!0&&i===!0)throw new Te(ce.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function IE(n){if(!Ie.isDocumentKey(n))throw new Te(ce.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function NE(n){if(Ie.isDocumentKey(n))throw new Te(ce.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function JA(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function oh(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(i){return i.constructor?i.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Me(12329,{type:typeof n})}function Ci(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Te(ce.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=oh(n);throw new Te(ce.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bt(n,e){const t={typeString:n};return e&&(t.value=e),t}function dc(n,e){if(!JA(n))throw new Te(ce.INVALID_ARGUMENT,"JSON must be an object");let t;for(const i in e)if(e[i]){const r=e[i].typeString,a="value"in e[i]?{value:e[i].value}:void 0;if(!(i in n)){t=`JSON missing required field: '${i}'`;break}const u=n[i];if(r&&typeof u!==r){t=`JSON field '${i}' must be a ${r}.`;break}if(a!==void 0&&u!==a.value){t=`Expected '${i}' field to equal '${a.value}'`;break}}if(t)throw new Te(ce.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RE=-62135596800,ME=1e6;class _t{static now(){return _t.fromMillis(Date.now())}static fromDate(e){return _t.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*ME);return new _t(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Te(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Te(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<RE)throw new Te(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Te(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/ME}_compareTo(e){return this.seconds===e.seconds?We(this.nanoseconds,e.nanoseconds):We(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:_t._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(dc(e,_t._jsonSchema))return new _t(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-RE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}_t._jsonSchemaVersion="firestore/timestamp/1.0",_t._jsonSchema={type:Bt("string",_t._jsonSchemaVersion),seconds:Bt("number"),nanoseconds:Bt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Le{static fromTimestamp(e){return new Le(e)}static min(){return new Le(new _t(0,0))}static max(){return new Le(new _t(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $u=-1;function sL(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=Le.fromTimestamp(i===1e9?new _t(t+1,0):new _t(t,i));return new zr(r,Ie.empty(),e)}function rL(n){return new zr(n.readTime,n.key,$u)}class zr{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new zr(Le.min(),Ie.empty(),$u)}static max(){return new zr(Le.max(),Ie.empty(),$u)}}function oL(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Ie.comparator(n.documentKey,e.documentKey),t!==0?t:We(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aL="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class lL{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fl(n){if(n.code!==ce.FAILED_PRECONDITION||n.message!==aL)throw n;Se("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class de{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Me(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new de(((i,r)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(i,r)},this.catchCallback=a=>{this.wrapFailure(t,a).next(i,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof de?t:de.resolve(t)}catch(t){return de.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):de.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):de.reject(t)}static resolve(e){return new de(((t,i)=>{t(e)}))}static reject(e){return new de(((t,i)=>{i(e)}))}static waitFor(e){return new de(((t,i)=>{let r=0,a=0,u=!1;e.forEach((d=>{++r,d.next((()=>{++a,u&&a===r&&t()}),(p=>i(p)))})),u=!0,a===r&&t()}))}static or(e){let t=de.resolve(!1);for(const i of e)t=t.next((r=>r?de.resolve(r):i()));return t}static forEach(e,t){const i=[];return e.forEach(((r,a)=>{i.push(t.call(this,r,a))})),this.waitFor(i)}static mapArray(e,t){return new de(((i,r)=>{const a=e.length,u=new Array(a);let d=0;for(let p=0;p<a;p++){const h=p;t(e[h]).next((v=>{u[h]=v,++d,d===a&&i(u)}),(v=>r(v)))}}))}static doWhile(e,t){return new de(((i,r)=>{const a=()=>{e()===!0?t().next((()=>{a()}),r):i()};a()}))}}function uL(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function hl(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ah{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>t.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}ah.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ey=-1;function lh(n){return n==null}function Lf(n){return n===0&&1/n==-1/0}function cL(n){return typeof n=="number"&&Number.isInteger(n)&&!Lf(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KA="";function dL(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=DE(e)),e=fL(n.get(t),e);return DE(e)}function fL(n,e){let t=e;const i=n.length;for(let r=0;r<i;r++){const a=n.charAt(r);switch(a){case"\0":t+="";break;case KA:t+="";break;default:t+=a}}return t}function DE(n){return n+KA+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kE(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Kr(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function YA(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(e,t){this.comparator=e,this.root=t||dn.EMPTY}insert(e,t){return new bt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,dn.BLACK,null,null))}remove(e){return new bt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,dn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return t+i.left.size;r<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,i)=>(e(t,i),!1)))}toString(){const e=[];return this.inorderTraversal(((t,i)=>(e.push(`${t}:${i}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Yd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Yd(this.root,e,this.comparator,!1)}getReverseIterator(){return new Yd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Yd(this.root,e,this.comparator,!0)}}class Yd{constructor(e,t,i,r){this.isReverse=r,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?i(e.key,t):1,t&&r&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class dn{constructor(e,t,i,r,a){this.key=e,this.value=t,this.color=i??dn.RED,this.left=r??dn.EMPTY,this.right=a??dn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,r,a){return new dn(e??this.key,t??this.value,i??this.color,r??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this;const a=i(e,r.key);return r=a<0?r.copy(null,null,null,r.left.insert(e,t,i),null):a===0?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return dn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),t(e,r.key)===0){if(r.right.isEmpty())return dn.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,dn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,dn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Me(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Me(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Me(27949);return e+(this.isRed()?0:1)}}dn.EMPTY=null,dn.RED=!0,dn.BLACK=!1;dn.EMPTY=new class{constructor(){this.size=0}get key(){throw Me(57766)}get value(){throw Me(16141)}get color(){throw Me(16727)}get left(){throw Me(29726)}get right(){throw Me(36894)}copy(e,t,i,r,a){return this}insert(e,t,i){return new dn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e){this.comparator=e,this.data=new bt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,i)=>(e(t),!1)))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new PE(this.data.getIterator())}getIteratorFrom(e){return new PE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((i=>{t=t.add(i)})),t}isEqual(e){if(!(e instanceof Xt)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const r=t.getNext().key,a=i.getNext().key;if(this.comparator(r,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Xt(this.comparator);return t.data=e,t}}class PE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn{constructor(e){this.fields=e,e.sort(fn.comparator)}static empty(){return new Hn([])}unionWith(e){let t=new Xt(fn.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Hn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Xa(this.fields,e.fields,((t,i)=>t.isEqual(i)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(r){try{return atob(r)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new WA("Invalid base64 string: "+a):a}})(e);return new hn(t)}static fromUint8Array(e){const t=(function(r){let a="";for(let u=0;u<r.length;++u)a+=String.fromCharCode(r[u]);return a})(e);return new hn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const i=new Uint8Array(t.length);for(let r=0;r<t.length;r++)i[r]=t.charCodeAt(r);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return We(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}hn.EMPTY_BYTE_STRING=new hn("");const hL=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Fr(n){if(ot(!!n,39018),typeof n=="string"){let e=0;const t=hL.exec(n);if(ot(!!t,46558,{timestamp:n}),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:kt(n.seconds),nanos:kt(n.nanos)}}function kt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function jr(n){return typeof n=="string"?hn.fromBase64String(n):hn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QA="server_timestamp",XA="__type__",ZA="__previous_value__",e1="__local_write_time__";function Ty(n){var t,i;return((i=(((t=n==null?void 0:n.mapValue)==null?void 0:t.fields)||{})[XA])==null?void 0:i.stringValue)===QA}function uh(n){const e=n.mapValue.fields[ZA];return Ty(e)?uh(e):e}function Ju(n){const e=Fr(n.mapValue.fields[e1].timestampValue);return new _t(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pL{constructor(e,t,i,r,a,u,d,p,h,v,E){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=r,this.ssl=a,this.forceLongPolling=u,this.autoDetectLongPolling=d,this.longPollingOptions=p,this.useFetchStreams=h,this.isUsingEmulator=v,this.apiKey=E}}const Vf="(default)";class Ku{constructor(e,t){this.projectId=e,this.database=t||Vf}static empty(){return new Ku("","")}get isDefaultDatabase(){return this.database===Vf}isEqual(e){return e instanceof Ku&&e.projectId===this.projectId&&e.database===this.database}}function mL(n,e){if(!Object.prototype.hasOwnProperty.apply(n.options,["projectId"]))throw new Te(ce.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ku(n.options.projectId,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t1="__type__",gL="__max__",Wd={mapValue:{}},n1="__vector__",Uf="value";function qr(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Ty(n)?4:vL(n)?9007199254740991:yL(n)?10:11:Me(28295,{value:n})}function cs(n,e){if(n===e)return!0;const t=qr(n);if(t!==qr(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Ju(n).isEqual(Ju(e));case 3:return(function(r,a){if(typeof r.timestampValue=="string"&&typeof a.timestampValue=="string"&&r.timestampValue.length===a.timestampValue.length)return r.timestampValue===a.timestampValue;const u=Fr(r.timestampValue),d=Fr(a.timestampValue);return u.seconds===d.seconds&&u.nanos===d.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(r,a){return jr(r.bytesValue).isEqual(jr(a.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(r,a){return kt(r.geoPointValue.latitude)===kt(a.geoPointValue.latitude)&&kt(r.geoPointValue.longitude)===kt(a.geoPointValue.longitude)})(n,e);case 2:return(function(r,a){if("integerValue"in r&&"integerValue"in a)return kt(r.integerValue)===kt(a.integerValue);if("doubleValue"in r&&"doubleValue"in a){const u=kt(r.doubleValue),d=kt(a.doubleValue);return u===d?Lf(u)===Lf(d):isNaN(u)&&isNaN(d)}return!1})(n,e);case 9:return Xa(n.arrayValue.values||[],e.arrayValue.values||[],cs);case 10:case 11:return(function(r,a){const u=r.mapValue.fields||{},d=a.mapValue.fields||{};if(kE(u)!==kE(d))return!1;for(const p in u)if(u.hasOwnProperty(p)&&(d[p]===void 0||!cs(u[p],d[p])))return!1;return!0})(n,e);default:return Me(52216,{left:n})}}function Yu(n,e){return(n.values||[]).find((t=>cs(t,e)))!==void 0}function Za(n,e){if(n===e)return 0;const t=qr(n),i=qr(e);if(t!==i)return We(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return We(n.booleanValue,e.booleanValue);case 2:return(function(a,u){const d=kt(a.integerValue||a.doubleValue),p=kt(u.integerValue||u.doubleValue);return d<p?-1:d>p?1:d===p?0:isNaN(d)?isNaN(p)?0:-1:1})(n,e);case 3:return LE(n.timestampValue,e.timestampValue);case 4:return LE(Ju(n),Ju(e));case 5:return yg(n.stringValue,e.stringValue);case 6:return(function(a,u){const d=jr(a),p=jr(u);return d.compareTo(p)})(n.bytesValue,e.bytesValue);case 7:return(function(a,u){const d=a.split("/"),p=u.split("/");for(let h=0;h<d.length&&h<p.length;h++){const v=We(d[h],p[h]);if(v!==0)return v}return We(d.length,p.length)})(n.referenceValue,e.referenceValue);case 8:return(function(a,u){const d=We(kt(a.latitude),kt(u.latitude));return d!==0?d:We(kt(a.longitude),kt(u.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return VE(n.arrayValue,e.arrayValue);case 10:return(function(a,u){var T,A,M,V;const d=a.fields||{},p=u.fields||{},h=(T=d[Uf])==null?void 0:T.arrayValue,v=(A=p[Uf])==null?void 0:A.arrayValue,E=We(((M=h==null?void 0:h.values)==null?void 0:M.length)||0,((V=v==null?void 0:v.values)==null?void 0:V.length)||0);return E!==0?E:VE(h,v)})(n.mapValue,e.mapValue);case 11:return(function(a,u){if(a===Wd.mapValue&&u===Wd.mapValue)return 0;if(a===Wd.mapValue)return 1;if(u===Wd.mapValue)return-1;const d=a.fields||{},p=Object.keys(d),h=u.fields||{},v=Object.keys(h);p.sort(),v.sort();for(let E=0;E<p.length&&E<v.length;++E){const T=yg(p[E],v[E]);if(T!==0)return T;const A=Za(d[p[E]],h[v[E]]);if(A!==0)return A}return We(p.length,v.length)})(n.mapValue,e.mapValue);default:throw Me(23264,{he:t})}}function LE(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return We(n,e);const t=Fr(n),i=Fr(e),r=We(t.seconds,i.seconds);return r!==0?r:We(t.nanos,i.nanos)}function VE(n,e){const t=n.values||[],i=e.values||[];for(let r=0;r<t.length&&r<i.length;++r){const a=Za(t[r],i[r]);if(a)return a}return We(t.length,i.length)}function el(n){return vg(n)}function vg(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const i=Fr(t);return`time(${i.seconds},${i.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return jr(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return Ie.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let i="[",r=!0;for(const a of t.values||[])r?r=!1:i+=",",i+=vg(a);return i+"]"})(n.arrayValue):"mapValue"in n?(function(t){const i=Object.keys(t.fields||{}).sort();let r="{",a=!0;for(const u of i)a?a=!1:r+=",",r+=`${u}:${vg(t.fields[u])}`;return r+"}"})(n.mapValue):Me(61005,{value:n})}function gf(n){switch(qr(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=uh(n);return e?16+gf(e):16;case 5:return 2*n.stringValue.length;case 6:return jr(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((r,a)=>r+gf(a)),0)})(n.arrayValue);case 10:case 11:return(function(i){let r=0;return Kr(i.fields,((a,u)=>{r+=a.length+gf(u)})),r})(n.mapValue);default:throw Me(13486,{value:n})}}function UE(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function _g(n){return!!n&&"integerValue"in n}function Sy(n){return!!n&&"arrayValue"in n}function OE(n){return!!n&&"nullValue"in n}function zE(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function yf(n){return!!n&&"mapValue"in n}function yL(n){var t,i;return((i=(((t=n==null?void 0:n.mapValue)==null?void 0:t.fields)||{})[t1])==null?void 0:i.stringValue)===n1}function Uu(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return Kr(n.mapValue.fields,((t,i)=>e.mapValue.fields[t]=Uu(i))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Uu(n.arrayValue.values[t]);return e}return{...n}}function vL(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===gL}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(e){this.value=e}static empty(){return new kn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!yf(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Uu(t)}setAll(e){let t=fn.emptyPath(),i={},r=[];e.forEach(((u,d)=>{if(!t.isImmediateParentOf(d)){const p=this.getFieldsMap(t);this.applyChanges(p,i,r),i={},r=[],t=d.popLast()}u?i[d.lastSegment()]=Uu(u):r.push(d.lastSegment())}));const a=this.getFieldsMap(t);this.applyChanges(a,i,r)}delete(e){const t=this.field(e.popLast());yf(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return cs(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=t.mapValue.fields[e.get(i)];yf(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,i){Kr(t,((r,a)=>e[r]=a));for(const r of i)delete e[r]}clone(){return new kn(Uu(this.value))}}function i1(n){const e=[];return Kr(n.fields,((t,i)=>{const r=new fn([t]);if(yf(i)){const a=i1(i.mapValue).fields;if(a.length===0)e.push(r);else for(const u of a)e.push(r.child(u))}else e.push(r)})),new Hn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e,t,i,r,a,u,d){this.key=e,this.documentType=t,this.version=i,this.readTime=r,this.createTime=a,this.data=u,this.documentState=d}static newInvalidDocument(e){return new yn(e,0,Le.min(),Le.min(),Le.min(),kn.empty(),0)}static newFoundDocument(e,t,i,r){return new yn(e,1,t,Le.min(),i,r,0)}static newNoDocument(e,t){return new yn(e,2,t,Le.min(),Le.min(),kn.empty(),0)}static newUnknownDocument(e,t){return new yn(e,3,t,Le.min(),Le.min(),kn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Le.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=kn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=kn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Le.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof yn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new yn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Of{constructor(e,t){this.position=e,this.inclusive=t}}function FE(n,e,t){let i=0;for(let r=0;r<n.position.length;r++){const a=e[r],u=n.position[r];if(a.field.isKeyField()?i=Ie.comparator(Ie.fromName(u.referenceValue),t.key):i=Za(u,t.data.field(a.field)),a.dir==="desc"&&(i*=-1),i!==0)break}return i}function jE(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!cs(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zf{constructor(e,t="asc"){this.field=e,this.dir=t}}function _L(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s1{}class Gt extends s1{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new EL(e,t,i):t==="array-contains"?new bL(e,i):t==="in"?new AL(e,i):t==="not-in"?new CL(e,i):t==="array-contains-any"?new wL(e,i):new Gt(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new TL(e,i):new SL(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Za(t,this.value)):t!==null&&qr(this.value)===qr(t)&&this.matchesComparison(Za(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Me(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Di extends s1{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new Di(e,t)}matches(e){return r1(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function r1(n){return n.op==="and"}function o1(n){return xL(n)&&r1(n)}function xL(n){for(const e of n.filters)if(e instanceof Di)return!1;return!0}function xg(n){if(n instanceof Gt)return n.field.canonicalString()+n.op.toString()+el(n.value);if(o1(n))return n.filters.map((e=>xg(e))).join(",");{const e=n.filters.map((t=>xg(t))).join(",");return`${n.op}(${e})`}}function a1(n,e){return n instanceof Gt?(function(i,r){return r instanceof Gt&&i.op===r.op&&i.field.isEqual(r.field)&&cs(i.value,r.value)})(n,e):n instanceof Di?(function(i,r){return r instanceof Di&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce(((a,u,d)=>a&&a1(u,r.filters[d])),!0):!1})(n,e):void Me(19439)}function l1(n){return n instanceof Gt?(function(t){return`${t.field.canonicalString()} ${t.op} ${el(t.value)}`})(n):n instanceof Di?(function(t){return t.op.toString()+" {"+t.getFilters().map(l1).join(" ,")+"}"})(n):"Filter"}class EL extends Gt{constructor(e,t,i){super(e,t,i),this.key=Ie.fromName(i.referenceValue)}matches(e){const t=Ie.comparator(e.key,this.key);return this.matchesComparison(t)}}class TL extends Gt{constructor(e,t){super(e,"in",t),this.keys=u1("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class SL extends Gt{constructor(e,t){super(e,"not-in",t),this.keys=u1("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function u1(n,e){var t;return(((t=e.arrayValue)==null?void 0:t.values)||[]).map((i=>Ie.fromName(i.referenceValue)))}class bL extends Gt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Sy(t)&&Yu(t.arrayValue,this.value)}}class AL extends Gt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Yu(this.value.arrayValue,t)}}class CL extends Gt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Yu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Yu(this.value.arrayValue,t)}}class wL extends Gt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Sy(t)||!t.arrayValue.values)&&t.arrayValue.values.some((i=>Yu(this.value.arrayValue,i)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IL{constructor(e,t=null,i=[],r=[],a=null,u=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=r,this.limit=a,this.startAt=u,this.endAt=d,this.Te=null}}function qE(n,e=null,t=[],i=[],r=null,a=null,u=null){return new IL(n,e,t,i,r,a,u)}function by(n){const e=Ue(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((i=>xg(i))).join(","),t+="|ob:",t+=e.orderBy.map((i=>(function(a){return a.field.canonicalString()+a.dir})(i))).join(","),lh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((i=>el(i))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((i=>el(i))).join(",")),e.Te=t}return e.Te}function Ay(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!_L(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!a1(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!jE(n.startAt,e.startAt)&&jE(n.endAt,e.endAt)}function Eg(n){return Ie.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc{constructor(e,t=null,i=[],r=[],a=null,u="F",d=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=r,this.limit=a,this.limitType=u,this.startAt=d,this.endAt=p,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function NL(n,e,t,i,r,a,u,d){return new fc(n,e,t,i,r,a,u,d)}function ch(n){return new fc(n)}function HE(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function RL(n){return Ie.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function c1(n){return n.collectionGroup!==null}function Ou(n){const e=Ue(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),t.add(a.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let d=new Xt(fn.comparator);return u.filters.forEach((p=>{p.getFlattenedFilters().forEach((h=>{h.isInequality()&&(d=d.add(h.field))}))})),d})(e).forEach((a=>{t.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new zf(a,i))})),t.has(fn.keyField().canonicalString())||e.Ie.push(new zf(fn.keyField(),i))}return e.Ie}function os(n){const e=Ue(n);return e.Ee||(e.Ee=ML(e,Ou(n))),e.Ee}function ML(n,e){if(n.limitType==="F")return qE(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((r=>{const a=r.dir==="desc"?"asc":"desc";return new zf(r.field,a)}));const t=n.endAt?new Of(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Of(n.startAt.position,n.startAt.inclusive):null;return qE(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function Tg(n,e){const t=n.filters.concat([e]);return new fc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Sg(n,e,t){return new fc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function dh(n,e){return Ay(os(n),os(e))&&n.limitType===e.limitType}function d1(n){return`${by(os(n))}|lt:${n.limitType}`}function Pa(n){return`Query(target=${(function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map((r=>l1(r))).join(", ")}]`),lh(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map((r=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(r))).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((r=>el(r))).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((r=>el(r))).join(",")),`Target(${i})`})(os(n))}; limitType=${n.limitType})`}function fh(n,e){return e.isFoundDocument()&&(function(i,r){const a=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(a):Ie.isDocumentKey(i.path)?i.path.isEqual(a):i.path.isImmediateParentOf(a)})(n,e)&&(function(i,r){for(const a of Ou(i))if(!a.field.isKeyField()&&r.data.field(a.field)===null)return!1;return!0})(n,e)&&(function(i,r){for(const a of i.filters)if(!a.matches(r))return!1;return!0})(n,e)&&(function(i,r){return!(i.startAt&&!(function(u,d,p){const h=FE(u,d,p);return u.inclusive?h<=0:h<0})(i.startAt,Ou(i),r)||i.endAt&&!(function(u,d,p){const h=FE(u,d,p);return u.inclusive?h>=0:h>0})(i.endAt,Ou(i),r))})(n,e)}function DL(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function f1(n){return(e,t)=>{let i=!1;for(const r of Ou(n)){const a=kL(r,e,t);if(a!==0)return a;i=i||r.field.isKeyField()}return 0}}function kL(n,e,t){const i=n.field.isKeyField()?Ie.comparator(e.key,t.key):(function(a,u,d){const p=u.data.field(a),h=d.data.field(a);return p!==null&&h!==null?Za(p,h):Me(42886)})(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Me(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[r,a]of i)if(this.equalsFn(r,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return void(r[a]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return i.length===1?delete this.inner[t]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Kr(this.inner,((t,i)=>{for(const[r,a]of i)e(r,a)}))}isEmpty(){return YA(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PL=new bt(Ie.comparator);function Os(){return PL}const h1=new bt(Ie.comparator);function Mu(...n){let e=h1;for(const t of n)e=e.insert(t.key,t);return e}function p1(n){let e=h1;return n.forEach(((t,i)=>e=e.insert(t,i.overlayedDocument))),e}function Ro(){return zu()}function m1(){return zu()}function zu(){return new Ho((n=>n.toString()),((n,e)=>n.isEqual(e)))}const LL=new bt(Ie.comparator),VL=new Xt(Ie.comparator);function Qe(...n){let e=VL;for(const t of n)e=e.add(t);return e}const UL=new Xt(We);function OL(){return UL}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cy(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Lf(e)?"-0":e}}function g1(n){return{integerValue:""+n}}function zL(n,e){return cL(e)?g1(e):Cy(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hh{constructor(){this._=void 0}}function FL(n,e,t){return n instanceof Ff?(function(r,a){const u={fields:{[XA]:{stringValue:QA},[e1]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return a&&Ty(a)&&(a=uh(a)),a&&(u.fields[ZA]=a),{mapValue:u}})(t,e):n instanceof tl?v1(n,e):n instanceof Wu?_1(n,e):(function(r,a){const u=y1(r,a),d=GE(u)+GE(r.Ae);return _g(u)&&_g(r.Ae)?g1(d):Cy(r.serializer,d)})(n,e)}function jL(n,e,t){return n instanceof tl?v1(n,e):n instanceof Wu?_1(n,e):t}function y1(n,e){return n instanceof jf?(function(i){return _g(i)||(function(a){return!!a&&"doubleValue"in a})(i)})(e)?e:{integerValue:0}:null}class Ff extends hh{}class tl extends hh{constructor(e){super(),this.elements=e}}function v1(n,e){const t=x1(e);for(const i of n.elements)t.some((r=>cs(r,i)))||t.push(i);return{arrayValue:{values:t}}}class Wu extends hh{constructor(e){super(),this.elements=e}}function _1(n,e){let t=x1(e);for(const i of n.elements)t=t.filter((r=>!cs(r,i)));return{arrayValue:{values:t}}}class jf extends hh{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function GE(n){return kt(n.integerValue||n.doubleValue)}function x1(n){return Sy(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qL{constructor(e,t){this.field=e,this.transform=t}}function HL(n,e){return n.field.isEqual(e.field)&&(function(i,r){return i instanceof tl&&r instanceof tl||i instanceof Wu&&r instanceof Wu?Xa(i.elements,r.elements,cs):i instanceof jf&&r instanceof jf?cs(i.Ae,r.Ae):i instanceof Ff&&r instanceof Ff})(n.transform,e.transform)}class GL{constructor(e,t){this.version=e,this.transformResults=t}}class wi{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new wi}static exists(e){return new wi(void 0,e)}static updateTime(e){return new wi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function vf(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class ph{}function E1(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new wy(n.key,wi.none()):new hc(n.key,n.data,wi.none());{const t=n.data,i=kn.empty();let r=new Xt(fn.comparator);for(let a of e.fields)if(!r.has(a)){let u=t.field(a);u===null&&a.length>1&&(a=a.popLast(),u=t.field(a)),u===null?i.delete(a):i.set(a,u),r=r.add(a)}return new Yr(n.key,i,new Hn(r.toArray()),wi.none())}}function BL(n,e,t){n instanceof hc?(function(r,a,u){const d=r.value.clone(),p=$E(r.fieldTransforms,a,u.transformResults);d.setAll(p),a.convertToFoundDocument(u.version,d).setHasCommittedMutations()})(n,e,t):n instanceof Yr?(function(r,a,u){if(!vf(r.precondition,a))return void a.convertToUnknownDocument(u.version);const d=$E(r.fieldTransforms,a,u.transformResults),p=a.data;p.setAll(T1(r)),p.setAll(d),a.convertToFoundDocument(u.version,p).setHasCommittedMutations()})(n,e,t):(function(r,a,u){a.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,t)}function Fu(n,e,t,i){return n instanceof hc?(function(a,u,d,p){if(!vf(a.precondition,u))return d;const h=a.value.clone(),v=JE(a.fieldTransforms,p,u);return h.setAll(v),u.convertToFoundDocument(u.version,h).setHasLocalMutations(),null})(n,e,t,i):n instanceof Yr?(function(a,u,d,p){if(!vf(a.precondition,u))return d;const h=JE(a.fieldTransforms,p,u),v=u.data;return v.setAll(T1(a)),v.setAll(h),u.convertToFoundDocument(u.version,v).setHasLocalMutations(),d===null?null:d.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((E=>E.field)))})(n,e,t,i):(function(a,u,d){return vf(a.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):d})(n,e,t)}function $L(n,e){let t=null;for(const i of n.fieldTransforms){const r=e.data.field(i.field),a=y1(i.transform,r||null);a!=null&&(t===null&&(t=kn.empty()),t.set(i.field,a))}return t||null}function BE(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&Xa(i,r,((a,u)=>HL(a,u)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class hc extends ph{constructor(e,t,i,r=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Yr extends ph{constructor(e,t,i,r,a=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=r,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function T1(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}})),e}function $E(n,e,t){const i=new Map;ot(n.length===t.length,32656,{Ve:t.length,de:n.length});for(let r=0;r<t.length;r++){const a=n[r],u=a.transform,d=e.data.field(a.field);i.set(a.field,jL(u,d,t[r]))}return i}function JE(n,e,t){const i=new Map;for(const r of n){const a=r.transform,u=t.data.field(r.field);i.set(r.field,FL(a,u,e))}return i}class wy extends ph{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class JL extends ph{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KL{constructor(e,t,i,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const a=this.mutations[r];a.key.isEqual(e.key)&&BL(a,e,i[r])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=Fu(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=Fu(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=m1();return this.mutations.forEach((r=>{const a=e.get(r.key),u=a.overlayedDocument;let d=this.applyToLocalView(u,a.mutatedFields);d=t.has(r.key)?null:d;const p=E1(u,d);p!==null&&i.set(r.key,p),u.isValidDocument()||u.convertToNoDocument(Le.min())})),i}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Qe())}isEqual(e){return this.batchId===e.batchId&&Xa(this.mutations,e.mutations,((t,i)=>BE(t,i)))&&Xa(this.baseMutations,e.baseMutations,((t,i)=>BE(t,i)))}}class Iy{constructor(e,t,i,r){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=r}static from(e,t,i){ot(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let r=(function(){return LL})();const a=e.mutations;for(let u=0;u<a.length;u++)r=r.insert(a[u].key,i[u].version);return new Iy(e,t,i,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YL{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WL{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ht,Ze;function QL(n){switch(n){case ce.OK:return Me(64938);case ce.CANCELLED:case ce.UNKNOWN:case ce.DEADLINE_EXCEEDED:case ce.RESOURCE_EXHAUSTED:case ce.INTERNAL:case ce.UNAVAILABLE:case ce.UNAUTHENTICATED:return!1;case ce.INVALID_ARGUMENT:case ce.NOT_FOUND:case ce.ALREADY_EXISTS:case ce.PERMISSION_DENIED:case ce.FAILED_PRECONDITION:case ce.ABORTED:case ce.OUT_OF_RANGE:case ce.UNIMPLEMENTED:case ce.DATA_LOSS:return!0;default:return Me(15467,{code:n})}}function S1(n){if(n===void 0)return Us("GRPC error has no .code"),ce.UNKNOWN;switch(n){case Ht.OK:return ce.OK;case Ht.CANCELLED:return ce.CANCELLED;case Ht.UNKNOWN:return ce.UNKNOWN;case Ht.DEADLINE_EXCEEDED:return ce.DEADLINE_EXCEEDED;case Ht.RESOURCE_EXHAUSTED:return ce.RESOURCE_EXHAUSTED;case Ht.INTERNAL:return ce.INTERNAL;case Ht.UNAVAILABLE:return ce.UNAVAILABLE;case Ht.UNAUTHENTICATED:return ce.UNAUTHENTICATED;case Ht.INVALID_ARGUMENT:return ce.INVALID_ARGUMENT;case Ht.NOT_FOUND:return ce.NOT_FOUND;case Ht.ALREADY_EXISTS:return ce.ALREADY_EXISTS;case Ht.PERMISSION_DENIED:return ce.PERMISSION_DENIED;case Ht.FAILED_PRECONDITION:return ce.FAILED_PRECONDITION;case Ht.ABORTED:return ce.ABORTED;case Ht.OUT_OF_RANGE:return ce.OUT_OF_RANGE;case Ht.UNIMPLEMENTED:return ce.UNIMPLEMENTED;case Ht.DATA_LOSS:return ce.DATA_LOSS;default:return Me(39323,{code:n})}}(Ze=Ht||(Ht={}))[Ze.OK=0]="OK",Ze[Ze.CANCELLED=1]="CANCELLED",Ze[Ze.UNKNOWN=2]="UNKNOWN",Ze[Ze.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ze[Ze.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ze[Ze.NOT_FOUND=5]="NOT_FOUND",Ze[Ze.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ze[Ze.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ze[Ze.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ze[Ze.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ze[Ze.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ze[Ze.ABORTED=10]="ABORTED",Ze[Ze.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ze[Ze.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ze[Ze.INTERNAL=13]="INTERNAL",Ze[Ze.UNAVAILABLE=14]="UNAVAILABLE",Ze[Ze.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XL(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZL=new Pr([4294967295,4294967295],0);function KE(n){const e=XL().encode(n),t=new OA;return t.update(e),new Uint8Array(t.digest())}function YE(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Pr([t,i],0),new Pr([r,a],0)]}class Ny{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new Du(`Invalid padding: ${t}`);if(i<0)throw new Du(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Du(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new Du(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=Pr.fromNumber(this.ge)}ye(e,t,i){let r=e.add(t.multiply(Pr.fromNumber(i)));return r.compare(ZL)===1&&(r=new Pr([r.getBits(0),r.getBits(1)],0)),r.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=KE(e),[i,r]=YE(t);for(let a=0;a<this.hashCount;a++){const u=this.ye(i,r,a);if(!this.we(u))return!1}return!0}static create(e,t,i){const r=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),u=new Ny(a,r,t);return i.forEach((d=>u.insert(d))),u}insert(e){if(this.ge===0)return;const t=KE(e),[i,r]=YE(t);for(let a=0;a<this.hashCount;a++){const u=this.ye(i,r,a);this.be(u)}}be(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class Du extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh{constructor(e,t,i,r,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const r=new Map;return r.set(e,pc.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new mh(Le.min(),r,new bt(We),Os(),Qe())}}class pc{constructor(e,t,i,r,a){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new pc(i,t,Qe(),Qe(),Qe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _f{constructor(e,t,i,r){this.Se=e,this.removedTargetIds=t,this.key=i,this.De=r}}class b1{constructor(e,t){this.targetId=e,this.Ce=t}}class A1{constructor(e,t,i=hn.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=r}}class WE{constructor(){this.ve=0,this.Fe=QE(),this.Me=hn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Qe(),t=Qe(),i=Qe();return this.Fe.forEach(((r,a)=>{switch(a){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:i=i.add(r);break;default:Me(38017,{changeType:a})}})),new pc(this.Me,this.xe,e,t,i)}Ke(){this.Oe=!1,this.Fe=QE()}qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,ot(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class eV{constructor(e){this.Ge=e,this.ze=new Map,this.je=Os(),this.He=Qd(),this.Je=Qd(),this.Ze=new bt(We)}Xe(e){for(const t of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const i=this.nt(t);switch(e.state){case 0:this.rt(t)&&i.Le(e.resumeToken);break;case 1:i.We(),i.Ne||i.Ke(),i.Le(e.resumeToken);break;case 2:i.We(),i.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(i.Qe(),i.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),i.Le(e.resumeToken));break;default:Me(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((i,r)=>{this.rt(r)&&t(r)}))}st(e){const t=e.targetId,i=e.Ce.count,r=this.ot(t);if(r){const a=r.target;if(Eg(a))if(i===0){const u=new Ie(a.path);this.et(t,u,yn.newNoDocument(u,Le.min()))}else ot(i===1,20013,{expectedCount:i});else{const u=this._t(t);if(u!==i){const d=this.ut(e),p=d?this.ct(d,e,u):1;if(p!==0){this.it(t);const h=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,h)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:a=0}=t;let u,d;try{u=jr(i).toUint8Array()}catch(p){if(p instanceof WA)return Qa("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{d=new Ny(u,r,a)}catch(p){return Qa(p instanceof Du?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return d.ge===0?null:d}ct(e,t,i){return t.Ce.count===i-this.Pt(e,t.targetId)?0:2}Pt(e,t){const i=this.Ge.getRemoteKeysForTarget(t);let r=0;return i.forEach((a=>{const u=this.Ge.ht(),d=`projects/${u.projectId}/databases/${u.database}/documents/${a.path.canonicalString()}`;e.mightContain(d)||(this.et(t,a,null),r++)})),r}Tt(e){const t=new Map;this.ze.forEach(((a,u)=>{const d=this.ot(u);if(d){if(a.current&&Eg(d.target)){const p=new Ie(d.target.path);this.It(p).has(u)||this.Et(u,p)||this.et(u,p,yn.newNoDocument(p,e))}a.Be&&(t.set(u,a.ke()),a.Ke())}}));let i=Qe();this.Je.forEach(((a,u)=>{let d=!0;u.forEachWhile((p=>{const h=this.ot(p);return!h||h.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(i=i.add(a))})),this.je.forEach(((a,u)=>u.setReadTime(e)));const r=new mh(e,t,this.Ze,this.je,i);return this.je=Os(),this.He=Qd(),this.Je=Qd(),this.Ze=new bt(We),r}Ye(e,t){if(!this.rt(e))return;const i=this.Et(e,t.key)?2:0;this.nt(e).qe(t.key,i),this.je=this.je.insert(t.key,t),this.He=this.He.insert(t.key,this.It(t.key).add(e)),this.Je=this.Je.insert(t.key,this.Rt(t.key).add(e))}et(e,t,i){if(!this.rt(e))return;const r=this.nt(e);this.Et(e,t)?r.qe(t,1):r.Ue(t),this.Je=this.Je.insert(t,this.Rt(t).delete(e)),this.Je=this.Je.insert(t,this.Rt(t).add(e)),i&&(this.je=this.je.insert(t,i))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let t=this.ze.get(e);return t||(t=new WE,this.ze.set(e,t)),t}Rt(e){let t=this.Je.get(e);return t||(t=new Xt(We),this.Je=this.Je.insert(e,t)),t}It(e){let t=this.He.get(e);return t||(t=new Xt(We),this.He=this.He.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||Se("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new WE),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function Qd(){return new bt(Ie.comparator)}function QE(){return new bt(Ie.comparator)}const tV={asc:"ASCENDING",desc:"DESCENDING"},nV={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},iV={and:"AND",or:"OR"};class sV{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function bg(n,e){return n.useProto3Json||lh(e)?e:{value:e}}function qf(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function C1(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function rV(n,e){return qf(n,e.toTimestamp())}function as(n){return ot(!!n,49232),Le.fromTimestamp((function(t){const i=Fr(t);return new _t(i.seconds,i.nanos)})(n))}function Ry(n,e){return Ag(n,e).canonicalString()}function Ag(n,e){const t=(function(r){return new gt(["projects",r.projectId,"databases",r.database])})(n).child("documents");return e===void 0?t:t.child(e)}function w1(n){const e=gt.fromString(n);return ot(D1(e),10190,{key:e.toString()}),e}function Cg(n,e){return Ry(n.databaseId,e.path)}function Km(n,e){const t=w1(e);if(t.get(1)!==n.databaseId.projectId)throw new Te(ce.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Te(ce.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ie(N1(t))}function I1(n,e){return Ry(n.databaseId,e)}function oV(n){const e=w1(n);return e.length===4?gt.emptyPath():N1(e)}function wg(n){return new gt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function N1(n){return ot(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function XE(n,e,t){return{name:Cg(n,e),fields:t.value.mapValue.fields}}function aV(n,e){let t;if("targetChange"in e){e.targetChange;const i=(function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:Me(39313,{state:h})})(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],a=(function(h,v){return h.useProto3Json?(ot(v===void 0||typeof v=="string",58123),hn.fromBase64String(v||"")):(ot(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),hn.fromUint8Array(v||new Uint8Array))})(n,e.targetChange.resumeToken),u=e.targetChange.cause,d=u&&(function(h){const v=h.code===void 0?ce.UNKNOWN:S1(h.code);return new Te(v,h.message||"")})(u);t=new A1(i,r,a,d||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const r=Km(n,i.document.name),a=as(i.document.updateTime),u=i.document.createTime?as(i.document.createTime):Le.min(),d=new kn({mapValue:{fields:i.document.fields}}),p=yn.newFoundDocument(r,a,u,d),h=i.targetIds||[],v=i.removedTargetIds||[];t=new _f(h,v,p.key,p)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const r=Km(n,i.document),a=i.readTime?as(i.readTime):Le.min(),u=yn.newNoDocument(r,a),d=i.removedTargetIds||[];t=new _f([],d,u.key,u)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const r=Km(n,i.document),a=i.removedTargetIds||[];t=new _f([],a,r,null)}else{if(!("filter"in e))return Me(11601,{Vt:e});{e.filter;const i=e.filter;i.targetId;const{count:r=0,unchangedNames:a}=i,u=new WL(r,a),d=i.targetId;t=new b1(d,u)}}return t}function lV(n,e){let t;if(e instanceof hc)t={update:XE(n,e.key,e.value)};else if(e instanceof wy)t={delete:Cg(n,e.key)};else if(e instanceof Yr)t={update:XE(n,e.key,e.data),updateMask:yV(e.fieldMask)};else{if(!(e instanceof JL))return Me(16599,{dt:e.type});t={verify:Cg(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((i=>(function(a,u){const d=u.transform;if(d instanceof Ff)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof tl)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Wu)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof jf)return{fieldPath:u.field.canonicalString(),increment:d.Ae};throw Me(20930,{transform:u.transform})})(0,i)))),e.precondition.isNone||(t.currentDocument=(function(r,a){return a.updateTime!==void 0?{updateTime:rV(r,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Me(27497)})(n,e.precondition)),t}function uV(n,e){return n&&n.length>0?(ot(e!==void 0,14353),n.map((t=>(function(r,a){let u=r.updateTime?as(r.updateTime):as(a);return u.isEqual(Le.min())&&(u=as(a)),new GL(u,r.transformResults||[])})(t,e)))):[]}function cV(n,e){return{documents:[I1(n,e.path)]}}function dV(n,e){const t={structuredQuery:{}},i=e.path;let r;e.collectionGroup!==null?(r=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=I1(n,r);const a=(function(h){if(h.length!==0)return M1(Di.create(h,"and"))})(e.filters);a&&(t.structuredQuery.where=a);const u=(function(h){if(h.length!==0)return h.map((v=>(function(T){return{field:La(T.field),direction:pV(T.dir)}})(v)))})(e.orderBy);u&&(t.structuredQuery.orderBy=u);const d=bg(n,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=(function(h){return{before:h.inclusive,values:h.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(h){return{before:!h.inclusive,values:h.position}})(e.endAt)),{ft:t,parent:r}}function fV(n){let e=oV(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let r=null;if(i>0){ot(i===1,65062);const v=t.from[0];v.allDescendants?r=v.collectionId:e=e.child(v.collectionId)}let a=[];t.where&&(a=(function(E){const T=R1(E);return T instanceof Di&&o1(T)?T.getFilters():[T]})(t.where));let u=[];t.orderBy&&(u=(function(E){return E.map((T=>(function(M){return new zf(Va(M.field),(function(w){switch(w){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(M.direction))})(T)))})(t.orderBy));let d=null;t.limit&&(d=(function(E){let T;return T=typeof E=="object"?E.value:E,lh(T)?null:T})(t.limit));let p=null;t.startAt&&(p=(function(E){const T=!!E.before,A=E.values||[];return new Of(A,T)})(t.startAt));let h=null;return t.endAt&&(h=(function(E){const T=!E.before,A=E.values||[];return new Of(A,T)})(t.endAt)),NL(e,r,u,a,d,"F",p,h)}function hV(n,e){const t=(function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Me(28987,{purpose:r})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function R1(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=Va(t.unaryFilter.field);return Gt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=Va(t.unaryFilter.field);return Gt.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Va(t.unaryFilter.field);return Gt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Va(t.unaryFilter.field);return Gt.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Me(61313);default:return Me(60726)}})(n):n.fieldFilter!==void 0?(function(t){return Gt.create(Va(t.fieldFilter.field),(function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Me(58110);default:return Me(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return Di.create(t.compositeFilter.filters.map((i=>R1(i))),(function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return Me(1026)}})(t.compositeFilter.op))})(n):Me(30097,{filter:n})}function pV(n){return tV[n]}function mV(n){return nV[n]}function gV(n){return iV[n]}function La(n){return{fieldPath:n.canonicalString()}}function Va(n){return fn.fromServerFormat(n.fieldPath)}function M1(n){return n instanceof Gt?(function(t){if(t.op==="=="){if(zE(t.value))return{unaryFilter:{field:La(t.field),op:"IS_NAN"}};if(OE(t.value))return{unaryFilter:{field:La(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(zE(t.value))return{unaryFilter:{field:La(t.field),op:"IS_NOT_NAN"}};if(OE(t.value))return{unaryFilter:{field:La(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:La(t.field),op:mV(t.op),value:t.value}}})(n):n instanceof Di?(function(t){const i=t.getFilters().map((r=>M1(r)));return i.length===1?i[0]:{compositeFilter:{op:gV(t.op),filters:i}}})(n):Me(54877,{filter:n})}function yV(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function D1(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}function k1(n){return!!n&&typeof n._toProto=="function"&&n._protoValueType==="ProtoValue"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr{constructor(e,t,i,r,a=Le.min(),u=Le.min(),d=hn.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=d,this.expectedCount=p}withSequenceNumber(e){return new Nr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Nr(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Nr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Nr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vV{constructor(e){this.yt=e}}function _V(n){const e=fV({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Sg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xV{constructor(){this.Sn=new EV}addToCollectionParentIndex(e,t){return this.Sn.add(t),de.resolve()}getCollectionParents(e,t){return de.resolve(this.Sn.getEntries(t))}addFieldIndex(e,t){return de.resolve()}deleteFieldIndex(e,t){return de.resolve()}deleteAllFieldIndexes(e){return de.resolve()}createTargetIndexes(e,t){return de.resolve()}getDocumentsMatchingTarget(e,t){return de.resolve(null)}getIndexType(e,t){return de.resolve(0)}getFieldIndexes(e,t){return de.resolve([])}getNextCollectionGroupToUpdate(e){return de.resolve(null)}getMinOffset(e,t){return de.resolve(zr.min())}getMinOffsetFromCollectionGroup(e,t){return de.resolve(zr.min())}updateCollectionGroup(e,t,i){return de.resolve()}updateIndexEntries(e,t){return de.resolve()}}class EV{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t]||new Xt(gt.comparator),a=!r.has(i);return this.index[t]=r.add(i),a}has(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t];return r&&r.has(i)}getEntries(e){return(this.index[e]||new Xt(gt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},P1=41943040;class Dn{static withCacheSize(e){return new Dn(e,Dn.DEFAULT_COLLECTION_PERCENTILE,Dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Dn.DEFAULT_COLLECTION_PERCENTILE=10,Dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Dn.DEFAULT=new Dn(P1,Dn.DEFAULT_COLLECTION_PERCENTILE,Dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Dn.DISABLED=new Dn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nl{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new nl(0)}static ar(){return new nl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eT="LruGarbageCollector",TV=1048576;function tT([n,e],[t,i]){const r=We(n,t);return r===0?We(e,i):r}class SV{constructor(e){this.Pr=e,this.buffer=new Xt(tT),this.Tr=0}Ir(){return++this.Tr}Er(e){const t=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();tT(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class bV{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){Se(eT,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){hl(t)?Se(eT,"Ignoring IndexedDB error during garbage collection: ",t):await fl(t)}await this.Ar(3e5)}))}}class AV{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.dr(e).next((i=>Math.floor(t/100*i)))}nthSequenceNumber(e,t){if(t===0)return de.resolve(ah.ce);const i=new SV(t);return this.Vr.forEachTarget(e,(r=>i.Er(r.sequenceNumber))).next((()=>this.Vr.mr(e,(r=>i.Er(r))))).next((()=>i.maxValue))}removeTargets(e,t,i){return this.Vr.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Se("LruGarbageCollector","Garbage collection skipped; disabled"),de.resolve(ZE)):this.getCacheSize(e).next((i=>i<this.params.cacheSizeCollectionThreshold?(Se("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ZE):this.gr(e,t)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,t){let i,r,a,u,d,p,h;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((E=>(E>this.params.maximumSequenceNumbersToCollect?(Se("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),r=this.params.maximumSequenceNumbersToCollect):r=E,u=Date.now(),this.nthSequenceNumber(e,r)))).next((E=>(i=E,d=Date.now(),this.removeTargets(e,i,t)))).next((E=>(a=E,p=Date.now(),this.removeOrphanedDocuments(e,i)))).next((E=>(h=Date.now(),ka()<=Ye.DEBUG&&Se("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-v}ms
	Determined least recently used ${r} in `+(d-u)+`ms
	Removed ${a} targets in `+(p-d)+`ms
	Removed ${E} documents in `+(h-p)+`ms
Total Duration: ${h-v}ms`),de.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:a,documentsRemoved:E}))))}}function CV(n,e){return new AV(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wV{constructor(){this.changes=new Ho((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,yn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?de.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IV{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NV{constructor(e,t,i,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(i=r,this.remoteDocumentCache.getEntry(e,t)))).next((r=>(i!==null&&Fu(i.mutation,r,Hn.empty(),_t.now()),r)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((i=>this.getLocalViewOfDocuments(e,i,Qe()).next((()=>i))))}getLocalViewOfDocuments(e,t,i=Qe()){const r=Ro();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,i).next((a=>{let u=Mu();return a.forEach(((d,p)=>{u=u.insert(d,p.overlayedDocument)})),u}))))}getOverlayedDocuments(e,t){const i=Ro();return this.populateOverlays(e,i,t).next((()=>this.computeViews(e,t,i,Qe())))}populateOverlays(e,t,i){const r=[];return i.forEach((a=>{t.has(a)||r.push(a)})),this.documentOverlayCache.getOverlays(e,r).next((a=>{a.forEach(((u,d)=>{t.set(u,d)}))}))}computeViews(e,t,i,r){let a=Os();const u=zu(),d=(function(){return zu()})();return t.forEach(((p,h)=>{const v=i.get(h.key);r.has(h.key)&&(v===void 0||v.mutation instanceof Yr)?a=a.insert(h.key,h):v!==void 0?(u.set(h.key,v.mutation.getFieldMask()),Fu(v.mutation,h,v.mutation.getFieldMask(),_t.now())):u.set(h.key,Hn.empty())})),this.recalculateAndSaveOverlays(e,a).next((p=>(p.forEach(((h,v)=>u.set(h,v))),t.forEach(((h,v)=>d.set(h,new IV(v,u.get(h)??null)))),d)))}recalculateAndSaveOverlays(e,t){const i=zu();let r=new bt(((u,d)=>u-d)),a=Qe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((u=>{for(const d of u)d.keys().forEach((p=>{const h=t.get(p);if(h===null)return;let v=i.get(p)||Hn.empty();v=d.applyToLocalView(h,v),i.set(p,v);const E=(r.get(d.batchId)||Qe()).add(p);r=r.insert(d.batchId,E)}))})).next((()=>{const u=[],d=r.getReverseIterator();for(;d.hasNext();){const p=d.getNext(),h=p.key,v=p.value,E=m1();v.forEach((T=>{if(!a.has(T)){const A=E1(t.get(T),i.get(T));A!==null&&E.set(T,A),a=a.add(T)}})),u.push(this.documentOverlayCache.saveOverlays(e,h,E))}return de.waitFor(u)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((i=>this.recalculateAndSaveOverlays(e,i)))}getDocumentsMatchingQuery(e,t,i,r){return RL(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):c1(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,r):this.getDocumentsMatchingCollectionQuery(e,t,i,r)}getNextDocuments(e,t,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,r).next((a=>{const u=r-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,r-a.size):de.resolve(Ro());let d=$u,p=a;return u.next((h=>de.forEach(h,((v,E)=>(d<E.largestBatchId&&(d=E.largestBatchId),a.get(v)?de.resolve():this.remoteDocumentCache.getEntry(e,v).next((T=>{p=p.insert(v,T)}))))).next((()=>this.populateOverlays(e,h,a))).next((()=>this.computeViews(e,p,h,Qe()))).next((v=>({batchId:d,changes:p1(v)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ie(t)).next((i=>{let r=Mu();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r}))}getDocumentsMatchingCollectionGroupQuery(e,t,i,r){const a=t.collectionGroup;let u=Mu();return this.indexManager.getCollectionParents(e,a).next((d=>de.forEach(d,(p=>{const h=(function(E,T){return new fc(T,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)})(t,p.child(a));return this.getDocumentsMatchingCollectionQuery(e,h,i,r).next((v=>{v.forEach(((E,T)=>{u=u.insert(E,T)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,t,i,r){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next((u=>(a=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,a,r)))).next((u=>{a.forEach(((p,h)=>{const v=h.getKey();u.get(v)===null&&(u=u.insert(v,yn.newInvalidDocument(v)))}));let d=Mu();return u.forEach(((p,h)=>{const v=a.get(p);v!==void 0&&Fu(v.mutation,h,Hn.empty(),_t.now()),fh(t,h)&&(d=d.insert(p,h))})),d}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RV{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,t){return de.resolve(this.Nr.get(t))}saveBundleMetadata(e,t){return this.Nr.set(t.id,(function(r){return{id:r.id,version:r.version,createTime:as(r.createTime)}})(t)),de.resolve()}getNamedQuery(e,t){return de.resolve(this.Br.get(t))}saveNamedQuery(e,t){return this.Br.set(t.name,(function(r){return{name:r.name,query:_V(r.bundledQuery),readTime:as(r.readTime)}})(t)),de.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MV{constructor(){this.overlays=new bt(Ie.comparator),this.Lr=new Map}getOverlay(e,t){return de.resolve(this.overlays.get(t))}getOverlays(e,t){const i=Ro();return de.forEach(t,(r=>this.getOverlay(e,r).next((a=>{a!==null&&i.set(r,a)})))).next((()=>i))}saveOverlays(e,t,i){return i.forEach(((r,a)=>{this.bt(e,t,a)})),de.resolve()}removeOverlaysForBatchId(e,t,i){const r=this.Lr.get(i);return r!==void 0&&(r.forEach((a=>this.overlays=this.overlays.remove(a))),this.Lr.delete(i)),de.resolve()}getOverlaysForCollection(e,t,i){const r=Ro(),a=t.length+1,u=new Ie(t.child("")),d=this.overlays.getIteratorFrom(u);for(;d.hasNext();){const p=d.getNext().value,h=p.getKey();if(!t.isPrefixOf(h.path))break;h.path.length===a&&p.largestBatchId>i&&r.set(p.getKey(),p)}return de.resolve(r)}getOverlaysForCollectionGroup(e,t,i,r){let a=new bt(((h,v)=>h-v));const u=this.overlays.getIterator();for(;u.hasNext();){const h=u.getNext().value;if(h.getKey().getCollectionGroup()===t&&h.largestBatchId>i){let v=a.get(h.largestBatchId);v===null&&(v=Ro(),a=a.insert(h.largestBatchId,v)),v.set(h.getKey(),h)}}const d=Ro(),p=a.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((h,v)=>d.set(h,v))),!(d.size()>=r)););return de.resolve(d)}bt(e,t,i){const r=this.overlays.get(i.key);if(r!==null){const u=this.Lr.get(r.largestBatchId).delete(i.key);this.Lr.set(r.largestBatchId,u)}this.overlays=this.overlays.insert(i.key,new YL(t,i));let a=this.Lr.get(t);a===void 0&&(a=Qe(),this.Lr.set(t,a)),this.Lr.set(t,a.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DV{constructor(){this.sessionToken=hn.EMPTY_BYTE_STRING}getSessionToken(e){return de.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,de.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class My{constructor(){this.kr=new Xt(nn.Kr),this.qr=new Xt(nn.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,t){const i=new nn(e,t);this.kr=this.kr.add(i),this.qr=this.qr.add(i)}$r(e,t){e.forEach((i=>this.addReference(i,t)))}removeReference(e,t){this.Wr(new nn(e,t))}Qr(e,t){e.forEach((i=>this.removeReference(i,t)))}Gr(e){const t=new Ie(new gt([])),i=new nn(t,e),r=new nn(t,e+1),a=[];return this.qr.forEachInRange([i,r],(u=>{this.Wr(u),a.push(u.key)})),a}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const t=new Ie(new gt([])),i=new nn(t,e),r=new nn(t,e+1);let a=Qe();return this.qr.forEachInRange([i,r],(u=>{a=a.add(u.key)})),a}containsKey(e){const t=new nn(e,0),i=this.kr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class nn{constructor(e,t){this.key=e,this.Hr=t}static Kr(e,t){return Ie.comparator(e.key,t.key)||We(e.Hr,t.Hr)}static Ur(e,t){return We(e.Hr,t.Hr)||Ie.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kV{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Yn=1,this.Jr=new Xt(nn.Kr)}checkEmpty(e){return de.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,r){const a=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new KL(a,t,i,r);this.mutationQueue.push(u);for(const d of r)this.Jr=this.Jr.add(new nn(d.key,a)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return de.resolve(u)}lookupMutationBatch(e,t){return de.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,r=this.Xr(i),a=r<0?0:r;return de.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return de.resolve(this.mutationQueue.length===0?Ey:this.Yn-1)}getAllMutationBatches(e){return de.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new nn(t,0),r=new nn(t,Number.POSITIVE_INFINITY),a=[];return this.Jr.forEachInRange([i,r],(u=>{const d=this.Zr(u.Hr);a.push(d)})),de.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Xt(We);return t.forEach((r=>{const a=new nn(r,0),u=new nn(r,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([a,u],(d=>{i=i.add(d.Hr)}))})),de.resolve(this.Yr(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1;let a=i;Ie.isDocumentKey(a)||(a=a.child(""));const u=new nn(new Ie(a),0);let d=new Xt(We);return this.Jr.forEachWhile((p=>{const h=p.key.path;return!!i.isPrefixOf(h)&&(h.length===r&&(d=d.add(p.Hr)),!0)}),u),de.resolve(this.Yr(d))}Yr(e){const t=[];return e.forEach((i=>{const r=this.Zr(i);r!==null&&t.push(r)})),t}removeMutationBatch(e,t){ot(this.ei(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Jr;return de.forEach(t.mutations,(r=>{const a=new nn(r.key,t.batchId);return i=i.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.Jr=i}))}nr(e){}containsKey(e,t){const i=new nn(t,0),r=this.Jr.firstAfterOrEqual(i);return de.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,de.resolve()}ei(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PV{constructor(e){this.ti=e,this.docs=(function(){return new bt(Ie.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,r=this.docs.get(i),a=r?r.size:0,u=this.ti(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:u}),this.size+=u-a,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return de.resolve(i?i.document.mutableCopy():yn.newInvalidDocument(t))}getEntries(e,t){let i=Os();return t.forEach((r=>{const a=this.docs.get(r);i=i.insert(r,a?a.document.mutableCopy():yn.newInvalidDocument(r))})),de.resolve(i)}getDocumentsMatchingQuery(e,t,i,r){let a=Os();const u=t.path,d=new Ie(u.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(d);for(;p.hasNext();){const{key:h,value:{document:v}}=p.getNext();if(!u.isPrefixOf(h.path))break;h.path.length>u.length+1||oL(rL(v),i)<=0||(r.has(v.key)||fh(t,v))&&(a=a.insert(v.key,v.mutableCopy()))}return de.resolve(a)}getAllFromCollectionGroup(e,t,i,r){Me(9500)}ni(e,t){return de.forEach(this.docs,(i=>t(i)))}newChangeBuffer(e){return new LV(this)}getSize(e){return de.resolve(this.size)}}class LV extends wV{constructor(e){super(),this.Mr=e}applyChanges(e){const t=[];return this.changes.forEach(((i,r)=>{r.isValidDocument()?t.push(this.Mr.addEntry(e,r)):this.Mr.removeEntry(i)})),de.waitFor(t)}getFromCache(e,t){return this.Mr.getEntry(e,t)}getAllFromCache(e,t){return this.Mr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VV{constructor(e){this.persistence=e,this.ri=new Ho((t=>by(t)),Ay),this.lastRemoteSnapshotVersion=Le.min(),this.highestTargetId=0,this.ii=0,this.si=new My,this.targetCount=0,this.oi=nl._r()}forEachTarget(e,t){return this.ri.forEach(((i,r)=>t(r))),de.resolve()}getLastRemoteSnapshotVersion(e){return de.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return de.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),de.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.ii&&(this.ii=t),de.resolve()}lr(e){this.ri.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.oi=new nl(t),this.highestTargetId=t),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,t){return this.lr(t),this.targetCount+=1,de.resolve()}updateTargetData(e,t){return this.lr(t),de.resolve()}removeTargetData(e,t){return this.ri.delete(t.target),this.si.Gr(t.targetId),this.targetCount-=1,de.resolve()}removeTargets(e,t,i){let r=0;const a=[];return this.ri.forEach(((u,d)=>{d.sequenceNumber<=t&&i.get(d.targetId)===null&&(this.ri.delete(u),a.push(this.removeMatchingKeysForTargetId(e,d.targetId)),r++)})),de.waitFor(a).next((()=>r))}getTargetCount(e){return de.resolve(this.targetCount)}getTargetData(e,t){const i=this.ri.get(t)||null;return de.resolve(i)}addMatchingKeys(e,t,i){return this.si.$r(t,i),de.resolve()}removeMatchingKeys(e,t,i){this.si.Qr(t,i);const r=this.persistence.referenceDelegate,a=[];return r&&t.forEach((u=>{a.push(r.markPotentiallyOrphaned(e,u))})),de.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.si.Gr(t),de.resolve()}getMatchingKeysForTargetId(e,t){const i=this.si.jr(t);return de.resolve(i)}containsKey(e,t){return de.resolve(this.si.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L1{constructor(e,t){this._i={},this.overlays={},this.ai=new ah(0),this.ui=!1,this.ui=!0,this.ci=new DV,this.referenceDelegate=e(this),this.li=new VV(this),this.indexManager=new xV,this.remoteDocumentCache=(function(r){return new PV(r)})((i=>this.referenceDelegate.hi(i))),this.serializer=new vV(t),this.Pi=new RV(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new MV,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this._i[e.toKey()];return i||(i=new kV(t,this.referenceDelegate),this._i[e.toKey()]=i),i}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,t,i){Se("MemoryPersistence","Starting transaction:",e);const r=new UV(this.ai.next());return this.referenceDelegate.Ti(),i(r).next((a=>this.referenceDelegate.Ii(r).next((()=>a)))).toPromise().then((a=>(r.raiseOnCommittedEvent(),a)))}Ei(e,t){return de.or(Object.values(this._i).map((i=>()=>i.containsKey(e,t))))}}class UV extends lL{constructor(e){super(),this.currentSequenceNumber=e}}class Dy{constructor(e){this.persistence=e,this.Ri=new My,this.Ai=null}static Vi(e){return new Dy(e)}get di(){if(this.Ai)return this.Ai;throw Me(60996)}addReference(e,t,i){return this.Ri.addReference(i,t),this.di.delete(i.toString()),de.resolve()}removeReference(e,t,i){return this.Ri.removeReference(i,t),this.di.add(i.toString()),de.resolve()}markPotentiallyOrphaned(e,t){return this.di.add(t.toString()),de.resolve()}removeTarget(e,t){this.Ri.Gr(t.targetId).forEach((r=>this.di.add(r.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next((r=>{r.forEach((a=>this.di.add(a.toString())))})).next((()=>i.removeTargetData(e,t)))}Ti(){this.Ai=new Set}Ii(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return de.forEach(this.di,(i=>{const r=Ie.fromPath(i);return this.mi(e,r).next((a=>{a||t.removeEntry(r,Le.min())}))})).next((()=>(this.Ai=null,t.apply(e))))}updateLimboDocument(e,t){return this.mi(e,t).next((i=>{i?this.di.delete(t.toString()):this.di.add(t.toString())}))}hi(e){return 0}mi(e,t){return de.or([()=>de.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class Hf{constructor(e,t){this.persistence=e,this.fi=new Ho((i=>dL(i.path)),((i,r)=>i.isEqual(r))),this.garbageCollector=CV(this,t)}static Vi(e,t){return new Hf(e,t)}Ti(){}Ii(e){return de.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}dr(e){const t=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((i=>t.next((r=>i+r))))}pr(e){let t=0;return this.mr(e,(i=>{t++})).next((()=>t))}mr(e,t){return de.forEach(this.fi,((i,r)=>this.wr(e,i,r).next((a=>a?de.resolve():t(r)))))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const r=this.persistence.getRemoteDocumentCache(),a=r.newChangeBuffer();return r.ni(e,(u=>this.wr(e,u,t).next((d=>{d||(i++,a.removeEntry(u,Le.min()))})))).next((()=>a.apply(e))).next((()=>i))}markPotentiallyOrphaned(e,t){return this.fi.set(t,e.currentSequenceNumber),de.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.fi.set(i,e.currentSequenceNumber),de.resolve()}removeReference(e,t,i){return this.fi.set(i,e.currentSequenceNumber),de.resolve()}updateLimboDocument(e,t){return this.fi.set(t,e.currentSequenceNumber),de.resolve()}hi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=gf(e.data.value)),t}wr(e,t,i){return de.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const r=this.fi.get(t);return de.resolve(r!==void 0&&r>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ky{constructor(e,t,i,r){this.targetId=e,this.fromCache=t,this.Ts=i,this.Is=r}static Es(e,t){let i=Qe(),r=Qe();for(const a of t.docChanges)switch(a.type){case 0:i=i.add(a.doc.key);break;case 1:r=r.add(a.doc.key)}return new ky(e,t.fromCache,i,r)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OV{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zV{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return fD()?8:uL(_n())>0?6:4})()}initialize(e,t){this.fs=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,i,r){const a={result:null};return this.gs(e,t).next((u=>{a.result=u})).next((()=>{if(!a.result)return this.ps(e,t,r,i).next((u=>{a.result=u}))})).next((()=>{if(a.result)return;const u=new OV;return this.ys(e,t,u).next((d=>{if(a.result=d,this.As)return this.ws(e,t,u,d.size)}))})).next((()=>a.result))}ws(e,t,i,r){return i.documentReadCount<this.Vs?(ka()<=Ye.DEBUG&&Se("QueryEngine","SDK will not create cache indexes for query:",Pa(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),de.resolve()):(ka()<=Ye.DEBUG&&Se("QueryEngine","Query:",Pa(t),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.ds*r?(ka()<=Ye.DEBUG&&Se("QueryEngine","The SDK decides to create cache indexes for query:",Pa(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,os(t))):de.resolve())}gs(e,t){if(HE(t))return de.resolve(null);let i=os(t);return this.indexManager.getIndexType(e,i).next((r=>r===0?null:(t.limit!==null&&r===1&&(t=Sg(t,null,"F"),i=os(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next((a=>{const u=Qe(...a);return this.fs.getDocuments(e,u).next((d=>this.indexManager.getMinOffset(e,i).next((p=>{const h=this.bs(t,d);return this.Ss(t,h,u,p.readTime)?this.gs(e,Sg(t,null,"F")):this.Ds(e,h,t,p)}))))})))))}ps(e,t,i,r){return HE(t)||r.isEqual(Le.min())?de.resolve(null):this.fs.getDocuments(e,i).next((a=>{const u=this.bs(t,a);return this.Ss(t,u,i,r)?de.resolve(null):(ka()<=Ye.DEBUG&&Se("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Pa(t)),this.Ds(e,u,t,sL(r,$u)).next((d=>d)))}))}bs(e,t){let i=new Xt(f1(e));return t.forEach(((r,a)=>{fh(e,a)&&(i=i.add(a))})),i}Ss(e,t,i,r){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(r)>0)}ys(e,t,i){return ka()<=Ye.DEBUG&&Se("QueryEngine","Using full collection scan to execute query:",Pa(t)),this.fs.getDocumentsMatchingQuery(e,t,zr.min(),i)}Ds(e,t,i,r){return this.fs.getDocumentsMatchingQuery(e,i,r).next((a=>(t.forEach((u=>{a=a.insert(u.key,u)})),a)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Py="LocalStore",FV=3e8;class jV{constructor(e,t,i,r){this.persistence=e,this.Cs=t,this.serializer=r,this.vs=new bt(We),this.Fs=new Ho((a=>by(a)),Ay),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(i)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new NV(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.vs)))}}function qV(n,e,t,i){return new jV(n,e,t,i)}async function V1(n,e){const t=Ue(n);return await t.persistence.runTransaction("Handle user change","readonly",(i=>{let r;return t.mutationQueue.getAllMutationBatches(i).next((a=>(r=a,t.Os(e),t.mutationQueue.getAllMutationBatches(i)))).next((a=>{const u=[],d=[];let p=Qe();for(const h of r){u.push(h.batchId);for(const v of h.mutations)p=p.add(v.key)}for(const h of a){d.push(h.batchId);for(const v of h.mutations)p=p.add(v.key)}return t.localDocuments.getDocuments(i,p).next((h=>({Ns:h,removedBatchIds:u,addedBatchIds:d})))}))}))}function HV(n,e){const t=Ue(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const r=e.batch.keys(),a=t.xs.newChangeBuffer({trackRemovals:!0});return(function(d,p,h,v){const E=h.batch,T=E.keys();let A=de.resolve();return T.forEach((M=>{A=A.next((()=>v.getEntry(p,M))).next((V=>{const w=h.docVersions.get(M);ot(w!==null,48541),V.version.compareTo(w)<0&&(E.applyToRemoteDocument(V,h),V.isValidDocument()&&(V.setReadTime(h.commitVersion),v.addEntry(V)))}))})),A.next((()=>d.mutationQueue.removeMutationBatch(p,E)))})(t,i,e,a).next((()=>a.apply(i))).next((()=>t.mutationQueue.performConsistencyCheck(i))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(d){let p=Qe();for(let h=0;h<d.mutationResults.length;++h)d.mutationResults[h].transformResults.length>0&&(p=p.add(d.batch.mutations[h].key));return p})(e)))).next((()=>t.localDocuments.getDocuments(i,r)))}))}function U1(n){const e=Ue(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.li.getLastRemoteSnapshotVersion(t)))}function GV(n,e){const t=Ue(n),i=e.snapshotVersion;let r=t.vs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const u=t.xs.newChangeBuffer({trackRemovals:!0});r=t.vs;const d=[];e.targetChanges.forEach(((v,E)=>{const T=r.get(E);if(!T)return;d.push(t.li.removeMatchingKeys(a,v.removedDocuments,E).next((()=>t.li.addMatchingKeys(a,v.addedDocuments,E))));let A=T.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(E)!==null?A=A.withResumeToken(hn.EMPTY_BYTE_STRING,Le.min()).withLastLimboFreeSnapshotVersion(Le.min()):v.resumeToken.approximateByteSize()>0&&(A=A.withResumeToken(v.resumeToken,i)),r=r.insert(E,A),(function(V,w,z){return V.resumeToken.approximateByteSize()===0||w.snapshotVersion.toMicroseconds()-V.snapshotVersion.toMicroseconds()>=FV?!0:z.addedDocuments.size+z.modifiedDocuments.size+z.removedDocuments.size>0})(T,A,v)&&d.push(t.li.updateTargetData(a,A))}));let p=Os(),h=Qe();if(e.documentUpdates.forEach((v=>{e.resolvedLimboDocuments.has(v)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(a,v))})),d.push(BV(a,u,e.documentUpdates).next((v=>{p=v.Bs,h=v.Ls}))),!i.isEqual(Le.min())){const v=t.li.getLastRemoteSnapshotVersion(a).next((E=>t.li.setTargetsMetadata(a,a.currentSequenceNumber,i)));d.push(v)}return de.waitFor(d).next((()=>u.apply(a))).next((()=>t.localDocuments.getLocalViewOfDocuments(a,p,h))).next((()=>p))})).then((a=>(t.vs=r,a)))}function BV(n,e,t){let i=Qe(),r=Qe();return t.forEach((a=>i=i.add(a))),e.getEntries(n,i).next((a=>{let u=Os();return t.forEach(((d,p)=>{const h=a.get(d);p.isFoundDocument()!==h.isFoundDocument()&&(r=r.add(d)),p.isNoDocument()&&p.version.isEqual(Le.min())?(e.removeEntry(d,p.readTime),u=u.insert(d,p)):!h.isValidDocument()||p.version.compareTo(h.version)>0||p.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(p),u=u.insert(d,p)):Se(Py,"Ignoring outdated watch update for ",d,". Current version:",h.version," Watch version:",p.version)})),{Bs:u,Ls:r}}))}function $V(n,e){const t=Ue(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(i=>(e===void 0&&(e=Ey),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e))))}function JV(n,e){const t=Ue(n);return t.persistence.runTransaction("Allocate target","readwrite",(i=>{let r;return t.li.getTargetData(i,e).next((a=>a?(r=a,de.resolve(r)):t.li.allocateTargetId(i).next((u=>(r=new Nr(e,u,"TargetPurposeListen",i.currentSequenceNumber),t.li.addTargetData(i,r).next((()=>r)))))))})).then((i=>{const r=t.vs.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.vs=t.vs.insert(i.targetId,i),t.Fs.set(e,i.targetId)),i}))}async function Ig(n,e,t){const i=Ue(n),r=i.vs.get(e),a=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",a,(u=>i.persistence.referenceDelegate.removeTarget(u,r)))}catch(u){if(!hl(u))throw u;Se(Py,`Failed to update sequence numbers for target ${e}: ${u}`)}i.vs=i.vs.remove(e),i.Fs.delete(r.target)}function nT(n,e,t){const i=Ue(n);let r=Le.min(),a=Qe();return i.persistence.runTransaction("Execute query","readwrite",(u=>(function(p,h,v){const E=Ue(p),T=E.Fs.get(v);return T!==void 0?de.resolve(E.vs.get(T)):E.li.getTargetData(h,v)})(i,u,os(e)).next((d=>{if(d)return r=d.lastLimboFreeSnapshotVersion,i.li.getMatchingKeysForTargetId(u,d.targetId).next((p=>{a=p}))})).next((()=>i.Cs.getDocumentsMatchingQuery(u,e,t?r:Le.min(),t?a:Qe()))).next((d=>(KV(i,DL(e),d),{documents:d,ks:a})))))}function KV(n,e,t){let i=n.Ms.get(e)||Le.min();t.forEach(((r,a)=>{a.readTime.compareTo(i)>0&&(i=a.readTime)})),n.Ms.set(e,i)}class iT{constructor(){this.activeTargetIds=OL()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class YV{constructor(){this.vo=new iT,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,t,i){this.Fo[e]=t}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new iT,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WV{Mo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sT="ConnectivityMonitor";class rT{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){Se(sT,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){Se(sT,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xd=null;function Ng(){return Xd===null?Xd=(function(){return 268435456+Math.round(2147483648*Math.random())})():Xd++,"0x"+Xd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ym="RestConnection",QV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class XV{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.qo=t+"://"+e.host,this.Uo=`projects/${i}/databases/${r}`,this.$o=this.databaseId.database===Vf?`project_id=${i}`:`project_id=${i}&database_id=${r}`}Wo(e,t,i,r,a){const u=Ng(),d=this.Qo(e,t.toUriEncodedString());Se(Ym,`Sending RPC '${e}' ${u}:`,d,i);const p={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(p,r,a);const{host:h}=new URL(d),v=ll(h);return this.zo(e,d,p,i,v).then((E=>(Se(Ym,`Received RPC '${e}' ${u}: `,E),E)),(E=>{throw Qa(Ym,`RPC '${e}' ${u} failed with error: `,E,"url: ",d,"request:",i),E}))}jo(e,t,i,r,a,u){return this.Wo(e,t,i,r,a)}Go(e,t,i){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+dl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((r,a)=>e[a]=r)),i&&i.headers.forEach(((r,a)=>e[a]=r))}Qo(e,t){const i=QV[e];let r=`${this.qo}/v1/${t}:${i}`;return this.databaseInfo.apiKey&&(r=`${r}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),r}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZV{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mn="WebChannelConnection",Au=(n,e,t)=>{n.listen(e,(i=>{try{t(i)}catch(r){setTimeout((()=>{throw r}),0)}}))};class Ba extends XV{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!Ba.c_){const e=qA();Au(e,jA.STAT_EVENT,(t=>{t.stat===gg.PROXY?Se(mn,"STAT_EVENT: detected buffering proxy"):t.stat===gg.NOPROXY&&Se(mn,"STAT_EVENT: detected no buffering proxy")})),Ba.c_=!0}}zo(e,t,i,r,a){const u=Ng();return new Promise(((d,p)=>{const h=new zA;h.setWithCredentials(!0),h.listenOnce(FA.COMPLETE,(()=>{try{switch(h.getLastErrorCode()){case mf.NO_ERROR:const E=h.getResponseJson();Se(mn,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(E)),d(E);break;case mf.TIMEOUT:Se(mn,`RPC '${e}' ${u} timed out`),p(new Te(ce.DEADLINE_EXCEEDED,"Request time out"));break;case mf.HTTP_ERROR:const T=h.getStatus();if(Se(mn,`RPC '${e}' ${u} failed with status:`,T,"response text:",h.getResponseText()),T>0){let A=h.getResponseJson();Array.isArray(A)&&(A=A[0]);const M=A==null?void 0:A.error;if(M&&M.status&&M.message){const V=(function(z){const G=z.toLowerCase().replace(/_/g,"-");return Object.values(ce).indexOf(G)>=0?G:ce.UNKNOWN})(M.status);p(new Te(V,M.message))}else p(new Te(ce.UNKNOWN,"Server responded with status "+h.getStatus()))}else p(new Te(ce.UNAVAILABLE,"Connection failed."));break;default:Me(9055,{l_:e,streamId:u,h_:h.getLastErrorCode(),P_:h.getLastError()})}}finally{Se(mn,`RPC '${e}' ${u} completed.`)}}));const v=JSON.stringify(r);Se(mn,`RPC '${e}' ${u} sending request:`,r),h.send(t,"POST",v,i,15)}))}T_(e,t,i){const r=Ng(),a=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=this.createWebChannelTransport(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(d.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(d.useFetchStreams=!0),this.Go(d.initMessageHeaders,t,i),d.encodeInitMessageHeaders=!0;const h=a.join("");Se(mn,`Creating RPC '${e}' stream ${r}: ${h}`,d);const v=u.createWebChannel(h,d);this.I_(v);let E=!1,T=!1;const A=new ZV({Ho:M=>{T?Se(mn,`Not sending because RPC '${e}' stream ${r} is closed:`,M):(E||(Se(mn,`Opening RPC '${e}' stream ${r} transport.`),v.open(),E=!0),Se(mn,`RPC '${e}' stream ${r} sending:`,M),v.send(M))},Jo:()=>v.close()});return Au(v,Ru.EventType.OPEN,(()=>{T||(Se(mn,`RPC '${e}' stream ${r} transport opened.`),A.i_())})),Au(v,Ru.EventType.CLOSE,(()=>{T||(T=!0,Se(mn,`RPC '${e}' stream ${r} transport closed`),A.o_(),this.E_(v))})),Au(v,Ru.EventType.ERROR,(M=>{T||(T=!0,Qa(mn,`RPC '${e}' stream ${r} transport errored. Name:`,M.name,"Message:",M.message),A.o_(new Te(ce.UNAVAILABLE,"The operation could not be completed")))})),Au(v,Ru.EventType.MESSAGE,(M=>{var V;if(!T){const w=M.data[0];ot(!!w,16349);const z=w,G=(z==null?void 0:z.error)||((V=z[0])==null?void 0:V.error);if(G){Se(mn,`RPC '${e}' stream ${r} received error:`,G);const q=G.status;let W=(function(U){const L=Ht[U];if(L!==void 0)return S1(L)})(q),B=G.message;W===void 0&&(W=ce.INTERNAL,B="Unknown error status: "+q+" with message "+G.message),T=!0,A.o_(new Te(W,B)),v.close()}else Se(mn,`RPC '${e}' stream ${r} received:`,w),A.__(w)}})),Ba.u_(),setTimeout((()=>{A.s_()}),0),A}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((t=>t===e))}Go(e,t,i){super.Go(e,t,i),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return HA()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eU(n){return new Ba(n)}function Wm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gh(n){return new sV(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ba.c_=!1;class O1{constructor(e,t,i=1e3,r=1.5,a=6e4){this.Ci=e,this.timerId=t,this.R_=i,this.A_=r,this.V_=a,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const t=Math.floor(this.d_+this.y_()),i=Math.max(0,Date.now()-this.f_),r=Math.max(0,t-i);r>0&&Se("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.d_} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,r,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oT="PersistentStream";class z1{constructor(e,t,i,r,a,u,d,p){this.Ci=e,this.b_=i,this.S_=r,this.connection=a,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=d,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new O1(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===ce.RESOURCE_EXHAUSTED?(Us(t.toString()),Us("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===ce.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(t)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,r])=>{this.D_===t&&this.G_(i,r)}),(i=>{e((()=>{const r=new Te(ce.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(r)}))}))}G_(e,t){const i=this.Q_(this.D_);this.stream=this.j_(e,t),this.stream.Zo((()=>{i((()=>this.listener.Zo()))})),this.stream.Yo((()=>{i((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((r=>{i((()=>this.z_(r)))})),this.stream.onMessage((r=>{i((()=>++this.F_==1?this.H_(r):this.onNext(r)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Se(oT,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return t=>{this.Ci.enqueueAndForget((()=>this.D_===e?t():(Se(oT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class tU extends z1{constructor(e,t,i,r,a,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,r,u),this.serializer=a}j_(e,t){return this.connection.T_("Listen",e,t)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=aV(this.serializer,e),i=(function(a){if(!("targetChange"in a))return Le.min();const u=a.targetChange;return u.targetIds&&u.targetIds.length?Le.min():u.readTime?as(u.readTime):Le.min()})(e);return this.listener.J_(t,i)}Z_(e){const t={};t.database=wg(this.serializer),t.addTarget=(function(a,u){let d;const p=u.target;if(d=Eg(p)?{documents:cV(a,p)}:{query:dV(a,p).ft},d.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){d.resumeToken=C1(a,u.resumeToken);const h=bg(a,u.expectedCount);h!==null&&(d.expectedCount=h)}else if(u.snapshotVersion.compareTo(Le.min())>0){d.readTime=qf(a,u.snapshotVersion.toTimestamp());const h=bg(a,u.expectedCount);h!==null&&(d.expectedCount=h)}return d})(this.serializer,e);const i=hV(this.serializer,e);i&&(t.labels=i),this.K_(t)}X_(e){const t={};t.database=wg(this.serializer),t.removeTarget=e,this.K_(t)}}class nU extends z1{constructor(e,t,i,r,a,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,r,u),this.serializer=a}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}H_(e){return ot(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ot(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){ot(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=uV(e.writeResults,e.commitTime),i=as(e.commitTime);return this.listener.na(i,t)}ra(){const e={};e.database=wg(this.serializer),this.K_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((i=>lV(this.serializer,i)))};this.K_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iU{}class sU extends iU{constructor(e,t,i,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=r,this.ia=!1}sa(){if(this.ia)throw new Te(ce.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,i,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,u])=>this.connection.Wo(e,Ag(t,i),r,a,u))).catch((a=>{throw a.name==="FirebaseError"?(a.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Te(ce.UNKNOWN,a.toString())}))}jo(e,t,i,r,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,d])=>this.connection.jo(e,Ag(t,i),r,u,d,a))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Te(ce.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function rU(n,e,t,i){return new sU(n,e,t,i)}class oU{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Us(t),this.aa=!1):Se("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uo="RemoteStore";class aU{constructor(e,t,i,r,a){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=a,this.Aa.Mo((u=>{i.enqueueAndForget((async()=>{Go(this)&&(Se(Uo,"Restarting streams for network reachability change."),await(async function(p){const h=Ue(p);h.Ea.add(4),await mc(h),h.Va.set("Unknown"),h.Ea.delete(4),await yh(h)})(this))}))})),this.Va=new oU(i,r)}}async function yh(n){if(Go(n))for(const e of n.Ra)await e(!0)}async function mc(n){for(const e of n.Ra)await e(!1)}function F1(n,e){const t=Ue(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),Oy(t)?Uy(t):pl(t).O_()&&Vy(t,e))}function Ly(n,e){const t=Ue(n),i=pl(t);t.Ia.delete(e),i.O_()&&j1(t,e),t.Ia.size===0&&(i.O_()?i.L_():Go(t)&&t.Va.set("Unknown"))}function Vy(n,e){if(n.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Le.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}pl(n).Z_(e)}function j1(n,e){n.da.$e(e),pl(n).X_(e)}function Uy(n){n.da=new eV({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),pl(n).start(),n.Va.ua()}function Oy(n){return Go(n)&&!pl(n).x_()&&n.Ia.size>0}function Go(n){return Ue(n).Ea.size===0}function q1(n){n.da=void 0}async function lU(n){n.Va.set("Online")}async function uU(n){n.Ia.forEach(((e,t)=>{Vy(n,e)}))}async function cU(n,e){q1(n),Oy(n)?(n.Va.ha(e),Uy(n)):n.Va.set("Unknown")}async function dU(n,e,t){if(n.Va.set("Online"),e instanceof A1&&e.state===2&&e.cause)try{await(async function(r,a){const u=a.cause;for(const d of a.targetIds)r.Ia.has(d)&&(await r.remoteSyncer.rejectListen(d,u),r.Ia.delete(d),r.da.removeTarget(d))})(n,e)}catch(i){Se(Uo,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Gf(n,i)}else if(e instanceof _f?n.da.Xe(e):e instanceof b1?n.da.st(e):n.da.tt(e),!t.isEqual(Le.min()))try{const i=await U1(n.localStore);t.compareTo(i)>=0&&await(function(a,u){const d=a.da.Tt(u);return d.targetChanges.forEach(((p,h)=>{if(p.resumeToken.approximateByteSize()>0){const v=a.Ia.get(h);v&&a.Ia.set(h,v.withResumeToken(p.resumeToken,u))}})),d.targetMismatches.forEach(((p,h)=>{const v=a.Ia.get(p);if(!v)return;a.Ia.set(p,v.withResumeToken(hn.EMPTY_BYTE_STRING,v.snapshotVersion)),j1(a,p);const E=new Nr(v.target,p,h,v.sequenceNumber);Vy(a,E)})),a.remoteSyncer.applyRemoteEvent(d)})(n,t)}catch(i){Se(Uo,"Failed to raise snapshot:",i),await Gf(n,i)}}async function Gf(n,e,t){if(!hl(e))throw e;n.Ea.add(1),await mc(n),n.Va.set("Offline"),t||(t=()=>U1(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{Se(Uo,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await yh(n)}))}function H1(n,e){return e().catch((t=>Gf(n,t,e)))}async function vh(n){const e=Ue(n),t=Hr(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Ey;for(;fU(e);)try{const r=await $V(e.localStore,i);if(r===null){e.Ta.length===0&&t.L_();break}i=r.batchId,hU(e,r)}catch(r){await Gf(e,r)}G1(e)&&B1(e)}function fU(n){return Go(n)&&n.Ta.length<10}function hU(n,e){n.Ta.push(e);const t=Hr(n);t.O_()&&t.Y_&&t.ea(e.mutations)}function G1(n){return Go(n)&&!Hr(n).x_()&&n.Ta.length>0}function B1(n){Hr(n).start()}async function pU(n){Hr(n).ra()}async function mU(n){const e=Hr(n);for(const t of n.Ta)e.ea(t.mutations)}async function gU(n,e,t){const i=n.Ta.shift(),r=Iy.from(i,e,t);await H1(n,(()=>n.remoteSyncer.applySuccessfulWrite(r))),await vh(n)}async function yU(n,e){e&&Hr(n).Y_&&await(async function(i,r){if((function(u){return QL(u)&&u!==ce.ABORTED})(r.code)){const a=i.Ta.shift();Hr(i).B_(),await H1(i,(()=>i.remoteSyncer.rejectFailedWrite(a.batchId,r))),await vh(i)}})(n,e),G1(n)&&B1(n)}async function aT(n,e){const t=Ue(n);t.asyncQueue.verifyOperationInProgress(),Se(Uo,"RemoteStore received new credentials");const i=Go(t);t.Ea.add(3),await mc(t),i&&t.Va.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await yh(t)}async function vU(n,e){const t=Ue(n);e?(t.Ea.delete(2),await yh(t)):e||(t.Ea.add(2),await mc(t),t.Va.set("Unknown"))}function pl(n){return n.ma||(n.ma=(function(t,i,r){const a=Ue(t);return a.sa(),new tU(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,r)})(n.datastore,n.asyncQueue,{Zo:lU.bind(null,n),Yo:uU.bind(null,n),t_:cU.bind(null,n),J_:dU.bind(null,n)}),n.Ra.push((async e=>{e?(n.ma.B_(),Oy(n)?Uy(n):n.Va.set("Unknown")):(await n.ma.stop(),q1(n))}))),n.ma}function Hr(n){return n.fa||(n.fa=(function(t,i,r){const a=Ue(t);return a.sa(),new nU(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,r)})(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),Yo:pU.bind(null,n),t_:yU.bind(null,n),ta:mU.bind(null,n),na:gU.bind(null,n)}),n.Ra.push((async e=>{e?(n.fa.B_(),await vh(n)):(await n.fa.stop(),n.Ta.length>0&&(Se(Uo,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zy{constructor(e,t,i,r,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=r,this.removalCallback=a,this.deferred=new Lr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,r,a){const u=Date.now()+i,d=new zy(e,t,u,r,a);return d.start(i),d}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Te(ce.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Fy(n,e){if(Us("AsyncQueue",`${e}: ${n}`),hl(n))return new Te(ce.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a{static emptySet(e){return new $a(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||Ie.comparator(t.key,i.key):(t,i)=>Ie.comparator(t.key,i.key),this.keyedMap=Mu(),this.sortedSet=new bt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,i)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof $a)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const r=t.getNext().key,a=i.getNext().key;if(!r.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new $a;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lT{constructor(){this.ga=new bt(Ie.comparator)}track(e){const t=e.doc.key,i=this.ga.get(t);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(t,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(t):e.type===1&&i.type===2?this.ga=this.ga.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Me(63341,{Vt:e,pa:i}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,i)=>{e.push(i)})),e}}class il{constructor(e,t,i,r,a,u,d,p,h){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=a,this.fromCache=u,this.syncStateChanged=d,this.excludesMetadataChanges=p,this.hasCachedResults=h}static fromInitialDocuments(e,t,i,r,a){const u=[];return t.forEach((d=>{u.push({type:0,doc:d})})),new il(e,t,$a.emptySet(t),u,i,r,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&dh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==i[r].type||!t[r].doc.isEqual(i[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _U{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class xU{constructor(){this.queries=uT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,i){const r=Ue(t),a=r.queries;r.queries=uT(),a.forEach(((u,d)=>{for(const p of d.ba)p.onError(i)}))})(this,new Te(ce.ABORTED,"Firestore shutting down"))}}function uT(){return new Ho((n=>d1(n)),dh)}async function $1(n,e){const t=Ue(n);let i=3;const r=e.query;let a=t.queries.get(r);a?!a.Sa()&&e.Da()&&(i=2):(a=new _U,i=e.Da()?0:1);try{switch(i){case 0:a.wa=await t.onListen(r,!0);break;case 1:a.wa=await t.onListen(r,!1);break;case 2:await t.onFirstRemoteStoreListen(r)}}catch(u){const d=Fy(u,`Initialization of query '${Pa(e.query)}' failed`);return void e.onError(d)}t.queries.set(r,a),a.ba.push(e),e.va(t.onlineState),a.wa&&e.Fa(a.wa)&&jy(t)}async function J1(n,e){const t=Ue(n),i=e.query;let r=3;const a=t.queries.get(i);if(a){const u=a.ba.indexOf(e);u>=0&&(a.ba.splice(u,1),a.ba.length===0?r=e.Da()?0:1:!a.Sa()&&e.Da()&&(r=2))}switch(r){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function EU(n,e){const t=Ue(n);let i=!1;for(const r of e){const a=r.query,u=t.queries.get(a);if(u){for(const d of u.ba)d.Fa(r)&&(i=!0);u.wa=r}}i&&jy(t)}function TU(n,e,t){const i=Ue(n),r=i.queries.get(e);if(r)for(const a of r.ba)a.onError(t);i.queries.delete(e)}function jy(n){n.Ca.forEach((e=>{e.next()}))}var Rg,cT;(cT=Rg||(Rg={})).Ma="default",cT.Cache="cache";class K1{constructor(e,t,i){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)r.type!==3&&i.push(r);e=new il(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const i=t!=="Offline";return(!this.options.Ka||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=il.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Rg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y1{constructor(e){this.key=e}}class W1{constructor(e){this.key=e}}class SU{constructor(e,t){this.query=e,this.Za=t,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Qe(),this.mutatedKeys=Qe(),this.eu=f1(e),this.tu=new $a(this.eu)}get nu(){return this.Za}ru(e,t){const i=t?t.iu:new lT,r=t?t.tu:this.tu;let a=t?t.mutatedKeys:this.mutatedKeys,u=r,d=!1;const p=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,h=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((v,E)=>{const T=r.get(v),A=fh(this.query,E)?E:null,M=!!T&&this.mutatedKeys.has(T.key),V=!!A&&(A.hasLocalMutations||this.mutatedKeys.has(A.key)&&A.hasCommittedMutations);let w=!1;T&&A?T.data.isEqual(A.data)?M!==V&&(i.track({type:3,doc:A}),w=!0):this.su(T,A)||(i.track({type:2,doc:A}),w=!0,(p&&this.eu(A,p)>0||h&&this.eu(A,h)<0)&&(d=!0)):!T&&A?(i.track({type:0,doc:A}),w=!0):T&&!A&&(i.track({type:1,doc:T}),w=!0,(p||h)&&(d=!0)),w&&(A?(u=u.add(A),a=V?a.add(v):a.delete(v)):(u=u.delete(v),a=a.delete(v)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const v=this.query.limitType==="F"?u.last():u.first();u=u.delete(v.key),a=a.delete(v.key),i.track({type:1,doc:v})}return{tu:u,iu:i,Ss:d,mutatedKeys:a}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,r){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((v,E)=>(function(A,M){const V=w=>{switch(w){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Me(20277,{Vt:w})}};return V(A)-V(M)})(v.type,E.type)||this.eu(v.doc,E.doc))),this.ou(i),r=r??!1;const d=t&&!r?this._u():[],p=this.Ya.size===0&&this.current&&!r?1:0,h=p!==this.Xa;return this.Xa=p,u.length!==0||h?{snapshot:new il(this.query,e.tu,a,u,e.mutatedKeys,p===0,h,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new lT,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Za=this.Za.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Za=this.Za.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Qe(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Ya=this.Ya.add(i.key))}));const t=[];return e.forEach((i=>{this.Ya.has(i)||t.push(new W1(i))})),this.Ya.forEach((i=>{e.has(i)||t.push(new Y1(i))})),t}cu(e){this.Za=e.ks,this.Ya=Qe();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return il.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const qy="SyncEngine";class bU{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class AU{constructor(e){this.key=e,this.hu=!1}}class CU{constructor(e,t,i,r,a,u){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=r,this.currentUser=a,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new Ho((d=>d1(d)),dh),this.Iu=new Map,this.Eu=new Set,this.Ru=new bt(Ie.comparator),this.Au=new Map,this.Vu=new My,this.du={},this.mu=new Map,this.fu=nl.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function wU(n,e,t=!0){const i=nC(n);let r;const a=i.Tu.get(e);return a?(i.sharedClientState.addLocalQueryTarget(a.targetId),r=a.view.lu()):r=await Q1(i,e,t,!0),r}async function IU(n,e){const t=nC(n);await Q1(t,e,!0,!1)}async function Q1(n,e,t,i){const r=await JV(n.localStore,os(e)),a=r.targetId,u=n.sharedClientState.addLocalQueryTarget(a,t);let d;return i&&(d=await NU(n,e,a,u==="current",r.resumeToken)),n.isPrimaryClient&&t&&F1(n.remoteStore,r),d}async function NU(n,e,t,i,r){n.pu=(E,T,A)=>(async function(V,w,z,G){let q=w.view.ru(z);q.Ss&&(q=await nT(V.localStore,w.query,!1).then((({documents:U})=>w.view.ru(U,q))));const W=G&&G.targetChanges.get(w.targetId),B=G&&G.targetMismatches.get(w.targetId)!=null,ae=w.view.applyChanges(q,V.isPrimaryClient,W,B);return fT(V,w.targetId,ae.au),ae.snapshot})(n,E,T,A);const a=await nT(n.localStore,e,!0),u=new SU(e,a.ks),d=u.ru(a.documents),p=pc.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",r),h=u.applyChanges(d,n.isPrimaryClient,p);fT(n,t,h.au);const v=new bU(e,t,u);return n.Tu.set(e,v),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),h.snapshot}async function RU(n,e,t){const i=Ue(n),r=i.Tu.get(e),a=i.Iu.get(r.targetId);if(a.length>1)return i.Iu.set(r.targetId,a.filter((u=>!dh(u,e)))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||await Ig(i.localStore,r.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(r.targetId),t&&Ly(i.remoteStore,r.targetId),Mg(i,r.targetId)})).catch(fl)):(Mg(i,r.targetId),await Ig(i.localStore,r.targetId,!0))}async function MU(n,e){const t=Ue(n),i=t.Tu.get(e),r=t.Iu.get(i.targetId);t.isPrimaryClient&&r.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),Ly(t.remoteStore,i.targetId))}async function DU(n,e,t){const i=zU(n);try{const r=await(function(u,d){const p=Ue(u),h=_t.now(),v=d.reduce(((A,M)=>A.add(M.key)),Qe());let E,T;return p.persistence.runTransaction("Locally write mutations","readwrite",(A=>{let M=Os(),V=Qe();return p.xs.getEntries(A,v).next((w=>{M=w,M.forEach(((z,G)=>{G.isValidDocument()||(V=V.add(z))}))})).next((()=>p.localDocuments.getOverlayedDocuments(A,M))).next((w=>{E=w;const z=[];for(const G of d){const q=$L(G,E.get(G.key).overlayedDocument);q!=null&&z.push(new Yr(G.key,q,i1(q.value.mapValue),wi.exists(!0)))}return p.mutationQueue.addMutationBatch(A,h,z,d)})).next((w=>{T=w;const z=w.applyToLocalDocumentSet(E,V);return p.documentOverlayCache.saveOverlays(A,w.batchId,z)}))})).then((()=>({batchId:T.batchId,changes:p1(E)})))})(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),(function(u,d,p){let h=u.du[u.currentUser.toKey()];h||(h=new bt(We)),h=h.insert(d,p),u.du[u.currentUser.toKey()]=h})(i,r.batchId,t),await gc(i,r.changes),await vh(i.remoteStore)}catch(r){const a=Fy(r,"Failed to persist write");t.reject(a)}}async function X1(n,e){const t=Ue(n);try{const i=await GV(t.localStore,e);e.targetChanges.forEach(((r,a)=>{const u=t.Au.get(a);u&&(ot(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1,22616),r.addedDocuments.size>0?u.hu=!0:r.modifiedDocuments.size>0?ot(u.hu,14607):r.removedDocuments.size>0&&(ot(u.hu,42227),u.hu=!1))})),await gc(t,i,e)}catch(i){await fl(i)}}function dT(n,e,t){const i=Ue(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const r=[];i.Tu.forEach(((a,u)=>{const d=u.view.va(e);d.snapshot&&r.push(d.snapshot)})),(function(u,d){const p=Ue(u);p.onlineState=d;let h=!1;p.queries.forEach(((v,E)=>{for(const T of E.ba)T.va(d)&&(h=!0)})),h&&jy(p)})(i.eventManager,e),r.length&&i.Pu.J_(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function kU(n,e,t){const i=Ue(n);i.sharedClientState.updateQueryState(e,"rejected",t);const r=i.Au.get(e),a=r&&r.key;if(a){let u=new bt(Ie.comparator);u=u.insert(a,yn.newNoDocument(a,Le.min()));const d=Qe().add(a),p=new mh(Le.min(),new Map,new bt(We),u,d);await X1(i,p),i.Ru=i.Ru.remove(a),i.Au.delete(e),Hy(i)}else await Ig(i.localStore,e,!1).then((()=>Mg(i,e,t))).catch(fl)}async function PU(n,e){const t=Ue(n),i=e.batch.batchId;try{const r=await HV(t.localStore,e);eC(t,i,null),Z1(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await gc(t,r)}catch(r){await fl(r)}}async function LU(n,e,t){const i=Ue(n);try{const r=await(function(u,d){const p=Ue(u);return p.persistence.runTransaction("Reject batch","readwrite-primary",(h=>{let v;return p.mutationQueue.lookupMutationBatch(h,d).next((E=>(ot(E!==null,37113),v=E.keys(),p.mutationQueue.removeMutationBatch(h,E)))).next((()=>p.mutationQueue.performConsistencyCheck(h))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(h,v,d))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,v))).next((()=>p.localDocuments.getDocuments(h,v)))}))})(i.localStore,e);eC(i,e,t),Z1(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await gc(i,r)}catch(r){await fl(r)}}function Z1(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function eC(n,e,t){const i=Ue(n);let r=i.du[i.currentUser.toKey()];if(r){const a=r.get(e);a&&(t?a.reject(t):a.resolve(),r=r.remove(e)),i.du[i.currentUser.toKey()]=r}}function Mg(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.Iu.get(e))n.Tu.delete(i),t&&n.Pu.yu(i,t);n.Iu.delete(e),n.isPrimaryClient&&n.Vu.Gr(e).forEach((i=>{n.Vu.containsKey(i)||tC(n,i)}))}function tC(n,e){n.Eu.delete(e.path.canonicalString());const t=n.Ru.get(e);t!==null&&(Ly(n.remoteStore,t),n.Ru=n.Ru.remove(e),n.Au.delete(t),Hy(n))}function fT(n,e,t){for(const i of t)i instanceof Y1?(n.Vu.addReference(i.key,e),VU(n,i)):i instanceof W1?(Se(qy,"Document no longer in limbo: "+i.key),n.Vu.removeReference(i.key,e),n.Vu.containsKey(i.key)||tC(n,i.key)):Me(19791,{wu:i})}function VU(n,e){const t=e.key,i=t.path.canonicalString();n.Ru.get(t)||n.Eu.has(i)||(Se(qy,"New document in limbo: "+t),n.Eu.add(i),Hy(n))}function Hy(n){for(;n.Eu.size>0&&n.Ru.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new Ie(gt.fromString(e)),i=n.fu.next();n.Au.set(i,new AU(t)),n.Ru=n.Ru.insert(t,i),F1(n.remoteStore,new Nr(os(ch(t.path)),i,"TargetPurposeLimboResolution",ah.ce))}}async function gc(n,e,t){const i=Ue(n),r=[],a=[],u=[];i.Tu.isEmpty()||(i.Tu.forEach(((d,p)=>{u.push(i.pu(p,e,t).then((h=>{var v;if((h||t)&&i.isPrimaryClient){const E=h?!h.fromCache:(v=t==null?void 0:t.targetChanges.get(p.targetId))==null?void 0:v.current;i.sharedClientState.updateQueryState(p.targetId,E?"current":"not-current")}if(h){r.push(h);const E=ky.Es(p.targetId,h);a.push(E)}})))})),await Promise.all(u),i.Pu.J_(r),await(async function(p,h){const v=Ue(p);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(E=>de.forEach(h,(T=>de.forEach(T.Ts,(A=>v.persistence.referenceDelegate.addReference(E,T.targetId,A))).next((()=>de.forEach(T.Is,(A=>v.persistence.referenceDelegate.removeReference(E,T.targetId,A)))))))))}catch(E){if(!hl(E))throw E;Se(Py,"Failed to update sequence numbers: "+E)}for(const E of h){const T=E.targetId;if(!E.fromCache){const A=v.vs.get(T),M=A.snapshotVersion,V=A.withLastLimboFreeSnapshotVersion(M);v.vs=v.vs.insert(T,V)}}})(i.localStore,a))}async function UU(n,e){const t=Ue(n);if(!t.currentUser.isEqual(e)){Se(qy,"User change. New user:",e.toKey());const i=await V1(t.localStore,e);t.currentUser=e,(function(a,u){a.mu.forEach((d=>{d.forEach((p=>{p.reject(new Te(ce.CANCELLED,u))}))})),a.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await gc(t,i.Ns)}}function OU(n,e){const t=Ue(n),i=t.Au.get(e);if(i&&i.hu)return Qe().add(i.key);{let r=Qe();const a=t.Iu.get(e);if(!a)return r;for(const u of a){const d=t.Tu.get(u);r=r.unionWith(d.view.nu)}return r}}function nC(n){const e=Ue(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=X1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=OU.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=kU.bind(null,e),e.Pu.J_=EU.bind(null,e.eventManager),e.Pu.yu=TU.bind(null,e.eventManager),e}function zU(n){const e=Ue(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=PU.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=LU.bind(null,e),e}class Bf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=gh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return qV(this.persistence,new zV,e.initialUser,this.serializer)}Cu(e){return new L1(Dy.Vi,this.serializer)}Du(e){return new YV}async terminate(){var e,t;(e=this.gcScheduler)==null||e.stop(),(t=this.indexBackfillerScheduler)==null||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Bf.provider={build:()=>new Bf};class FU extends Bf{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){ot(this.persistence.referenceDelegate instanceof Hf,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new bV(i,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?Dn.withCacheSize(this.cacheSizeBytes):Dn.DEFAULT;return new L1((i=>Hf.Vi(i,t)),this.serializer)}}class Dg{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>dT(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=UU.bind(null,this.syncEngine),await vU(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new xU})()}createDatastore(e){const t=gh(e.databaseInfo.databaseId),i=eU(e.databaseInfo);return rU(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return(function(i,r,a,u,d){return new aU(i,r,a,u,d)})(this.localStore,this.datastore,e.asyncQueue,(t=>dT(this.syncEngine,t,0)),(function(){return rT.v()?new rT:new WV})())}createSyncEngine(e,t){return(function(r,a,u,d,p,h,v){const E=new CU(r,a,u,d,p,h);return v&&(E.gu=!0),E})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await(async function(r){const a=Ue(r);Se(Uo,"RemoteStore shutting down."),a.Ea.add(5),await mc(a),a.Aa.shutdown(),a.Va.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(t=this.eventManager)==null||t.terminate()}}Dg.provider={build:()=>new Dg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iC{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Us("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gr="FirestoreClient";class jU{constructor(e,t,i,r,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this._databaseInfo=r,this.user=gn.UNAUTHENTICATED,this.clientId=xy.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(i,(async u=>{Se(Gr,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(i,(u=>(Se(Gr,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Lr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=Fy(t,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}async function Qm(n,e){n.asyncQueue.verifyOperationInProgress(),Se(Gr,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener((async r=>{i.isEqual(r)||(await V1(e.localStore,r),i=r)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function hT(n,e){n.asyncQueue.verifyOperationInProgress();const t=await qU(n);Se(Gr,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((i=>aT(e.remoteStore,i))),n.setAppCheckTokenChangeListener(((i,r)=>aT(e.remoteStore,r))),n._onlineComponents=e}async function qU(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Se(Gr,"Using user provided OfflineComponentProvider");try{await Qm(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(r){return r.name==="FirebaseError"?r.code===ce.FAILED_PRECONDITION||r.code===ce.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11})(t))throw t;Qa("Error using user provided cache. Falling back to memory cache: "+t),await Qm(n,new Bf)}}else Se(Gr,"Using default OfflineComponentProvider"),await Qm(n,new FU(void 0));return n._offlineComponents}async function sC(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Se(Gr,"Using user provided OnlineComponentProvider"),await hT(n,n._uninitializedComponentsProvider._online)):(Se(Gr,"Using default OnlineComponentProvider"),await hT(n,new Dg))),n._onlineComponents}function HU(n){return sC(n).then((e=>e.syncEngine))}async function kg(n){const e=await sC(n),t=e.eventManager;return t.onListen=wU.bind(null,e.syncEngine),t.onUnlisten=RU.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=IU.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=MU.bind(null,e.syncEngine),t}function GU(n,e,t,i){const r=new iC(i),a=new K1(e,r,t);return n.asyncQueue.enqueueAndForget((async()=>$1(await kg(n),a))),()=>{r.Nu(),n.asyncQueue.enqueueAndForget((async()=>J1(await kg(n),a)))}}function BU(n,e,t={}){const i=new Lr;return n.asyncQueue.enqueueAndForget((async()=>(function(a,u,d,p,h){const v=new iC({next:T=>{v.Nu(),u.enqueueAndForget((()=>J1(a,E)));const A=T.docs.has(d);!A&&T.fromCache?h.reject(new Te(ce.UNAVAILABLE,"Failed to get document because the client is offline.")):A&&T.fromCache&&p&&p.source==="server"?h.reject(new Te(ce.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(T)},error:T=>h.reject(T)}),E=new K1(ch(d.path),v,{includeMetadataChanges:!0,Ka:!0});return $1(a,E)})(await kg(n),n.asyncQueue,e,t,i))),i.promise}function $U(n,e){const t=new Lr;return n.asyncQueue.enqueueAndForget((async()=>DU(await HU(n),e,t))),t.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rC(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JU="ComponentProvider",pT=new Map;function KU(n,e,t,i,r){return new pL(n,e,t,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,rC(r.experimentalLongPollingOptions),r.useFetchStreams,r.isUsingEmulator,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oC="firestore.googleapis.com",mT=!0;class gT{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Te(ce.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=oC,this.ssl=mT}else this.host=e.host,this.ssl=e.ssl??mT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=P1;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<TV)throw new Te(ce.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}iL("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=rC(e.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new Te(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new Te(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new Te(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(i,r){return i.timeoutSeconds===r.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class _h{constructor(e,t,i,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new gT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Te(ce.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Te(ce.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new gT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new J4;switch(i.type){case"firstParty":return new Q4(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new Te(ce.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const i=pT.get(t);i&&(Se(JU,"Removing Datastore"),pT.delete(t),i.terminate())})(this),Promise.resolve()}}function YU(n,e,t,i={}){var h;n=Ci(n,_h);const r=ll(e),a=n._getSettings(),u={...a,emulatorOptions:n._getEmulatorOptions()},d=`${e}:${t}`;r&&(Wb(`https://${d}`),Qb("Firestore",!0)),a.host!==oC&&a.host!==d&&Qa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...a,host:d,ssl:r,emulatorOptions:i};if(!Or(p,u)&&(n._setSettings(p),i.mockUserToken)){let v,E;if(typeof i.mockUserToken=="string")v=i.mockUserToken,E=gn.MOCK_USER;else{v=iD(i.mockUserToken,(h=n._app)==null?void 0:h.options.projectId);const T=i.mockUserToken.sub||i.mockUserToken.user_id;if(!T)throw new Te(ce.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new gn(T)}n._authCredentials=new K4(new BA(v,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ml{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new ml(this.firestore,e,this._query)}}class wt{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Vr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new wt(this.firestore,e,this._key)}toJSON(){return{type:wt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,i){if(dc(t,wt._jsonSchema))return new wt(e,i||null,new Ie(gt.fromString(t.referencePath)))}}wt._jsonSchemaVersion="firestore/documentReference/1.0",wt._jsonSchema={type:Bt("string",wt._jsonSchemaVersion),referencePath:Bt("string")};class Vr extends ml{constructor(e,t,i){super(e,t,ch(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new wt(this.firestore,null,new Ie(e))}withConverter(e){return new Vr(this.firestore,e,this._path)}}function aC(n,e,...t){if(n=Jt(n),$A("collection","path",e),n instanceof _h){const i=gt.fromString(e,...t);return NE(i),new Vr(n,null,i)}{if(!(n instanceof wt||n instanceof Vr))throw new Te(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(gt.fromString(e,...t));return NE(i),new Vr(n.firestore,null,i)}}function sl(n,e,...t){if(n=Jt(n),arguments.length===1&&(e=xy.newId()),$A("doc","path",e),n instanceof _h){const i=gt.fromString(e,...t);return IE(i),new wt(n,null,new Ie(i))}{if(!(n instanceof wt||n instanceof Vr))throw new Te(ce.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(gt.fromString(e,...t));return IE(i),new wt(n.firestore,n instanceof Vr?n.converter:null,new Ie(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yT="AsyncQueue";class vT{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new O1(this,"async_queue_retry"),this._c=()=>{const i=Wm();i&&Se(yT,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const t=Wm();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Wm();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new Lr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!hl(e))throw e;Se(yT,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((i=>{throw this.nc=i,this.rc=!1,Us("INTERNAL UNHANDLED ERROR: ",_T(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=t,t}enqueueAfterDelay(e,t,i){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const r=zy.createAndSchedule(this,e,t,i,(a=>this.hc(a)));return this.tc.push(r),r}uc(){this.nc&&Me(47125,{Pc:_T(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,i)=>t.targetTimeMs-i.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function _T(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class Oo extends _h{constructor(e,t,i,r){super(e,t,i,r),this.type="firestore",this._queue=new vT,this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new vT(e),this._firestoreClient=void 0,await e}}}function WU(n,e){const t=typeof n=="object"?n:tA(),i=typeof n=="string"?n:Vf,r=uy(t,"firestore").getImmediate({identifier:i});if(!r._initialized){const a=tD("firestore");a&&YU(r,...a)}return r}function Gy(n){if(n._terminated)throw new Te(ce.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||QU(n),n._firestoreClient}function QU(n){var i,r,a,u;const e=n._freezeSettings(),t=KU(n._databaseId,((i=n._app)==null?void 0:i.options.appId)||"",n._persistenceKey,(r=n._app)==null?void 0:r.options.apiKey,e);n._componentsProvider||(a=e.localCache)!=null&&a._offlineComponentProvider&&((u=e.localCache)!=null&&u._onlineComponentProvider)&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new jU(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(p){const h=p==null?void 0:p._online.build();return{_offline:p==null?void 0:p._offline.build(h),_online:h}})(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new oi(hn.fromBase64String(e))}catch(t){throw new Te(ce.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new oi(hn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:oi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(dc(e,oi._jsonSchema))return oi.fromBase64String(e.bytes)}}oi._jsonSchemaVersion="firestore/bytes/1.0",oi._jsonSchema={type:Bt("string",oi._jsonSchemaVersion),bytes:Bt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class By{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Te(ce.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new fn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Te(ce.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Te(ce.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return We(this._lat,e._lat)||We(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ls._jsonSchemaVersion}}static fromJSON(e){if(dc(e,ls._jsonSchema))return new ls(e.latitude,e.longitude)}}ls._jsonSchemaVersion="firestore/geoPoint/1.0",ls._jsonSchema={type:Bt("string",ls._jsonSchemaVersion),latitude:Bt("number"),longitude:Bt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ii{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(i,r){if(i.length!==r.length)return!1;for(let a=0;a<i.length;++a)if(i[a]!==r[a])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ii._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(dc(e,Ii._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new Ii(e.vectorValues);throw new Te(ce.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ii._jsonSchemaVersion="firestore/vectorValue/1.0",Ii._jsonSchema={type:Bt("string",Ii._jsonSchemaVersion),vectorValues:Bt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XU=/^__.*__$/;class ZU{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new Yr(e,this.data,this.fieldMask,t,this.fieldTransforms):new hc(e,this.data,t,this.fieldTransforms)}}class lC{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new Yr(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function uC(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Me(40011,{dataSource:n})}}class Eh{constructor(e,t,i,r,a,u){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=r,a===void 0&&this.validatePath(),this.fieldTransforms=a||[],this.fieldMask=u||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new Eh({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){var r;const t=(r=this.path)==null?void 0:r.child(e),i=this.contextWith({path:t,arrayElement:!1});return i.validatePathSegment(e),i}childContextForFieldPath(e){var r;const t=(r=this.path)==null?void 0:r.child(e),i=this.contextWith({path:t,arrayElement:!1});return i.validatePath(),i}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return $f(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(uC(this.dataSource)&&XU.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class e5{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||gh(e)}createContext(e,t,i,r=!1){return new Eh({dataSource:e,methodName:t,targetDoc:i,path:fn.emptyPath(),arrayElement:!1,hasConverter:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function $y(n){const e=n._freezeSettings(),t=gh(n._databaseId);return new e5(n._databaseId,!!e.ignoreUndefinedProperties,t)}function t5(n,e,t,i,r,a={}){const u=n.createContext(a.merge||a.mergeFields?2:0,e,t,r);Ky("Data must be an object, but it was:",u,i);const d=cC(i,u);let p,h;if(a.merge)p=new Hn(u.fieldMask),h=u.fieldTransforms;else if(a.mergeFields){const v=[];for(const E of a.mergeFields){const T=rl(e,E,t);if(!u.contains(T))throw new Te(ce.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);hC(v,T)||v.push(T)}p=new Hn(v),h=u.fieldTransforms.filter((E=>p.covers(E.field)))}else p=null,h=u.fieldTransforms;return new ZU(new kn(d),p,h)}class Th extends xh{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Th}}function n5(n,e,t){return new Eh({dataSource:3,targetDoc:e.settings.targetDoc,methodName:n._methodName,arrayElement:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Jy extends xh{constructor(e,t){super(e),this.Ac=t}_toFieldTransform(e){const t=n5(this,e,!0),i=this.Ac.map((a=>gl(a,t))),r=new tl(i);return new qL(e.path,r)}isEqual(e){return e instanceof Jy&&Or(this.Ac,e.Ac)}}function i5(n,e,t,i){const r=n.createContext(1,e,t);Ky("Data must be an object, but it was:",r,i);const a=[],u=kn.empty();Kr(i,((p,h)=>{const v=fC(e,p,t);h=Jt(h);const E=r.childContextForFieldPath(v);if(h instanceof Th)a.push(v);else{const T=gl(h,E);T!=null&&(a.push(v),u.set(v,T))}}));const d=new Hn(a);return new lC(u,d,r.fieldTransforms)}function s5(n,e,t,i,r,a){const u=n.createContext(1,e,t),d=[rl(e,i,t)],p=[r];if(a.length%2!=0)throw new Te(ce.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let T=0;T<a.length;T+=2)d.push(rl(e,a[T])),p.push(a[T+1]);const h=[],v=kn.empty();for(let T=d.length-1;T>=0;--T)if(!hC(h,d[T])){const A=d[T];let M=p[T];M=Jt(M);const V=u.childContextForFieldPath(A);if(M instanceof Th)h.push(A);else{const w=gl(M,V);w!=null&&(h.push(A),v.set(A,w))}}const E=new Hn(h);return new lC(v,E,u.fieldTransforms)}function r5(n,e,t,i=!1){return gl(t,n.createContext(i?4:3,e))}function gl(n,e){if(dC(n=Jt(n)))return Ky("Unsupported field value:",e,n),cC(n,e);if(n instanceof xh)return(function(i,r){if(!uC(r.dataSource))throw r.createError(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.createError(`${i._methodName}() is not currently supported inside arrays`);const a=i._toFieldTransform(r);a&&r.fieldTransforms.push(a)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(i,r){const a=[];let u=0;for(const d of i){let p=gl(d,r.childContextForArray(u));p==null&&(p={nullValue:"NULL_VALUE"}),a.push(p),u++}return{arrayValue:{values:a}}})(n,e)}return(function(i,r){if((i=Jt(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return zL(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const a=_t.fromDate(i);return{timestampValue:qf(r.serializer,a)}}if(i instanceof _t){const a=new _t(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:qf(r.serializer,a)}}if(i instanceof ls)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof oi)return{bytesValue:C1(r.serializer,i._byteString)};if(i instanceof wt){const a=r.databaseId,u=i.firestore._databaseId;if(!u.isEqual(a))throw r.createError(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:Ry(i.firestore._databaseId||r.databaseId,i._key.path)}}if(i instanceof Ii)return(function(u,d){const p=u instanceof Ii?u.toArray():u;return{mapValue:{fields:{[t1]:{stringValue:n1},[Uf]:{arrayValue:{values:p.map((v=>{if(typeof v!="number")throw d.createError("VectorValues must only contain numeric values.");return Cy(d.serializer,v)}))}}}}}})(i,r);if(k1(i))return i._toProto(r.serializer);throw r.createError(`Unsupported field value: ${oh(i)}`)})(n,e)}function cC(n,e){const t={};return YA(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Kr(n,((i,r)=>{const a=gl(r,e.childContextForField(i));a!=null&&(t[i]=a)})),{mapValue:{fields:t}}}function dC(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof _t||n instanceof ls||n instanceof oi||n instanceof wt||n instanceof xh||n instanceof Ii||k1(n))}function Ky(n,e,t){if(!dC(t)||!JA(t)){const i=oh(t);throw i==="an object"?e.createError(n+" a custom object"):e.createError(n+" "+i)}}function rl(n,e,t){if((e=Jt(e))instanceof By)return e._internalPath;if(typeof e=="string")return fC(n,e);throw $f("Field path arguments must be of type string or ",n,!1,void 0,t)}const o5=new RegExp("[~\\*/\\[\\]]");function fC(n,e,t){if(e.search(o5)>=0)throw $f(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new By(...e.split("."))._internalPath}catch{throw $f(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function $f(n,e,t,i,r){const a=i&&!i.isEmpty(),u=r!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let p="";return(a||u)&&(p+=" (found",a&&(p+=` in field ${i}`),u&&(p+=` in document ${r}`),p+=")"),new Te(ce.INVALID_ARGUMENT,d+n+p)}function hC(n,e){return n.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a5{convertValue(e,t="none"){switch(qr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return kt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(jr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Me(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return Kr(e,((r,a)=>{i[r]=this.convertValue(a,t)})),i}convertVectorValue(e){var i,r,a;const t=(a=(r=(i=e.fields)==null?void 0:i[Uf].arrayValue)==null?void 0:r.values)==null?void 0:a.map((u=>kt(u.doubleValue)));return new Ii(t)}convertGeoPoint(e){return new ls(kt(e.latitude),kt(e.longitude))}convertArray(e,t){return(e.values||[]).map((i=>this.convertValue(i,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const i=uh(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Ju(e));default:return null}}convertTimestamp(e){const t=Fr(e);return new _t(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=gt.fromString(e);ot(D1(i),9688,{name:e});const r=new Ku(i.get(1),i.get(3)),a=new Ie(i.popFirst(5));return r.isEqual(t)||Us(`Document ${a} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pC extends a5{constructor(e){super(),this.firestore=e}convertBytes(e){return new oi(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new wt(this.firestore,null,t)}}function l5(...n){return new Jy("arrayUnion",n)}const xT="@firebase/firestore",ET="4.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TT(n){return(function(t,i){if(typeof t!="object"||t===null)return!1;const r=t;for(const a of i)if(a in r&&typeof r[a]=="function")return!0;return!1})(n,["next","error","complete"])}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mC{constructor(e,t,i,r,a){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=r,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new wt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new u5(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){var e;return((e=this._document)==null?void 0:e.data.clone().value.mapValue.fields)??void 0}get(e){if(this._document){const t=this._document.data.field(rl("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class u5 extends mC{data(){return super.data()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c5(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new Te(ce.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Yy{}class d5 extends Yy{}function gC(n,e,...t){let i=[];e instanceof Yy&&i.push(e),i=i.concat(t),(function(a){const u=a.filter((p=>p instanceof Wy)).length,d=a.filter((p=>p instanceof Sh)).length;if(u>1||u>0&&d>0)throw new Te(ce.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(i);for(const r of i)n=r._apply(n);return n}class Sh extends d5{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new Sh(e,t,i)}_apply(e){const t=this._parse(e);return vC(e._query,t),new ml(e.firestore,e.converter,Tg(e._query,t))}_parse(e){const t=$y(e.firestore);return(function(a,u,d,p,h,v,E){let T;if(h.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new Te(ce.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){bT(E,v);const M=[];for(const V of E)M.push(ST(p,a,V));T={arrayValue:{values:M}}}else T=ST(p,a,E)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||bT(E,v),T=r5(d,u,E,v==="in"||v==="not-in");return Gt.create(h,v,T)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function yC(n,e,t){const i=e,r=rl("where",n);return Sh._create(r,i,t)}class Wy extends Yy{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Wy(e,t)}_parse(e){const t=this._queryConstraints.map((i=>i._parse(e))).filter((i=>i.getFilters().length>0));return t.length===1?t[0]:Di.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(r,a){let u=r;const d=a.getFlattenedFilters();for(const p of d)vC(u,p),u=Tg(u,p)})(e._query,t),new ml(e.firestore,e.converter,Tg(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function ST(n,e,t){if(typeof(t=Jt(t))=="string"){if(t==="")throw new Te(ce.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!c1(e)&&t.indexOf("/")!==-1)throw new Te(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(gt.fromString(t));if(!Ie.isDocumentKey(i))throw new Te(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return UE(n,new Ie(i))}if(t instanceof wt)return UE(n,t._key);throw new Te(ce.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${oh(t)}.`)}function bT(n,e){if(!Array.isArray(n)||n.length===0)throw new Te(ce.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function vC(n,e){const t=(function(r,a){for(const u of r)for(const d of u.getFlattenedFilters())if(a.indexOf(d.op)>=0)return d.op;return null})(n.filters,(function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new Te(ce.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Te(ce.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function f5(n,e,t){let i;return i=n?n.toFirestore(e):e,i}class ku{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Do extends mC{constructor(e,t,i,r,a,u){super(e,t,i,r,u),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new xf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(rl("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Te(ce.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Do._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Do._jsonSchemaVersion="firestore/documentSnapshot/1.0",Do._jsonSchema={type:Bt("string",Do._jsonSchemaVersion),bundleSource:Bt("string","DocumentSnapshot"),bundleName:Bt("string"),bundle:Bt("string")};class xf extends Do{data(e={}){return super.data(e)}}class Ja{constructor(e,t,i,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new ku(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((i=>{e.call(t,new xf(this._firestore,this._userDataWriter,i.key,i,new ku(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Te(ce.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(r,a){if(r._snapshot.oldDocs.isEmpty()){let u=0;return r._snapshot.docChanges.map((d=>{const p=new xf(r._firestore,r._userDataWriter,d.doc.key,d.doc,new ku(r._snapshot.mutatedKeys.has(d.doc.key),r._snapshot.fromCache),r.query.converter);return d.doc,{type:"added",doc:p,oldIndex:-1,newIndex:u++}}))}{let u=r._snapshot.oldDocs;return r._snapshot.docChanges.filter((d=>a||d.type!==3)).map((d=>{const p=new xf(r._firestore,r._userDataWriter,d.doc.key,d.doc,new ku(r._snapshot.mutatedKeys.has(d.doc.key),r._snapshot.fromCache),r.query.converter);let h=-1,v=-1;return d.type!==0&&(h=u.indexOf(d.doc.key),u=u.delete(d.doc.key)),d.type!==1&&(u=u.add(d.doc),v=u.indexOf(d.doc.key)),{type:h5(d.type),doc:p,oldIndex:h,newIndex:v}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Te(ce.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ja._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=xy.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],i=[],r=[];return this.docs.forEach((a=>{a._document!==null&&(t.push(a._document),i.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),r.push(a.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function h5(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Me(61501,{type:n})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ja._jsonSchemaVersion="firestore/querySnapshot/1.0",Ja._jsonSchema={type:Bt("string",Ja._jsonSchemaVersion),bundleSource:Bt("string","QuerySnapshot"),bundleName:Bt("string"),bundle:Bt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p5(n){n=Ci(n,wt);const e=Ci(n.firestore,Oo),t=Gy(e);return BU(t,n._key).then((i=>xC(e,n,i)))}function m5(n,e,t){n=Ci(n,wt);const i=Ci(n.firestore,Oo),r=f5(n.converter,e),a=$y(i);return Qy(i,[t5(a,"setDoc",n._key,r,n.converter!==null,t).toMutation(n._key,wi.none())])}function _C(n,e,t,...i){n=Ci(n,wt);const r=Ci(n.firestore,Oo),a=$y(r);let u;return u=typeof(e=Jt(e))=="string"||e instanceof By?s5(a,"updateDoc",n._key,e,t,i):i5(a,"updateDoc",n._key,e),Qy(r,[u.toMutation(n._key,wi.exists(!0))])}function g5(n){return Qy(Ci(n.firestore,Oo),[new wy(n._key,wi.none())])}function Pg(n,...e){var h,v,E;n=Jt(n);let t={includeMetadataChanges:!1,source:"default"},i=0;typeof e[i]!="object"||TT(e[i])||(t=e[i++]);const r={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(TT(e[i])){const T=e[i];e[i]=(h=T.next)==null?void 0:h.bind(T),e[i+1]=(v=T.error)==null?void 0:v.bind(T),e[i+2]=(E=T.complete)==null?void 0:E.bind(T)}let a,u,d;if(n instanceof wt)u=Ci(n.firestore,Oo),d=ch(n._key.path),a={next:T=>{e[i]&&e[i](xC(u,n,T))},error:e[i+1],complete:e[i+2]};else{const T=Ci(n,ml);u=Ci(T.firestore,Oo),d=T._query;const A=new pC(u);a={next:M=>{e[i]&&e[i](new Ja(u,A,T,M))},error:e[i+1],complete:e[i+2]},c5(n._query)}const p=Gy(u);return GU(p,d,r,a)}function Qy(n,e){const t=Gy(n);return $U(t,e)}function xC(n,e,t){const i=t.docs.get(e._key),r=new pC(n);return new Do(n,r,e._key,i,new ku(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){$4(ul),Wa(new ko("firestore",((i,{instanceIdentifier:r,options:a})=>{const u=i.getProvider("app").getImmediate(),d=new Oo(new Y4(i.getProvider("auth-internal")),new X4(u,i.getProvider("app-check-internal")),mL(u,r),u);return a={useFetchStreams:t,...a},d._setSettings(a),d}),"PUBLIC").setMultipleInstances(!0)),kr(xT,ET,e),kr(xT,ET,"esm2020")})();const y5={apiKey:"AIzaSyByNONVUc8GTaEO7hGvgHvWgPYEOH2JKLI",authDomain:"self-mentor-48cab.firebaseapp.com",projectId:"self-mentor-48cab",storageBucket:"self-mentor-48cab.firebasestorage.app",messagingSenderId:"986723544185",appId:"1:986723544185:web:0a175e1aba35697e27b8a8",measurementId:"G-STELF493GJ"},EC=eA(y5),br=G4(EC),Ur=WU(EC),TC=j.createContext(void 0),v5=({children:n})=>{const[e,t]=j.useState(null),[i,r]=j.useState(null),[a,u]=j.useState(!0),[d,p]=j.useState([]),[h,v]=j.useState(null);j.useEffect(()=>{const T=PP(br,A=>{var M;if(t(A),A){const V=sl(Ur,"users",A.uid),w=Pg(V,q=>{q.exists()?r(q.data()):r(null)}),z=gC(aC(Ur,"users"),yC("mentors","array-contains",(M=A.email)==null?void 0:M.toLowerCase())),G=Pg(z,q=>{const W=q.docs.map(B=>B.data());p(W),u(!1)},q=>{console.error("Mentees fetch error:",q),u(!1)});return()=>{w(),G()}}else r(null),p([]),v(null),u(!1)});return()=>T()},[]);const E=async()=>{try{await ff(br)}catch(T){console.error("Logout failed:",T)}};return m.jsx(TC.Provider,{value:{isAdmin:(i==null?void 0:i.role)==="admin",currentUser:e,userProfile:i,loading:a,logout:E,mentees:d,viewingStudent:h,setViewingStudent:v,isReadOnly:!!h},children:n})},bh=()=>{const n=j.useContext(TC);if(n===void 0)throw new Error("useApp must be used within an AppProvider");return n};var _5={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let x5,E5;function T5(){return{geminiUrl:x5,vertexUrl:E5}}function S5(n,e,t,i){var r,a;if(!(n!=null&&n.baseUrl)){const u=T5();return e?(r=u.vertexUrl)!==null&&r!==void 0?r:t:(a=u.geminiUrl)!==null&&a!==void 0?a:i}return n.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class js{}function xe(n,e){const t=/\{([^}]+)\}/g;return n.replace(t,(i,r)=>{if(Object.prototype.hasOwnProperty.call(e,r)){const a=e[r];return a!=null?String(a):""}else throw new Error(`Key '${r}' not found in valueMap.`)})}function g(n,e,t){for(let a=0;a<e.length-1;a++){const u=e[a];if(u.endsWith("[]")){const d=u.slice(0,-2);if(!(d in n))if(Array.isArray(t))n[d]=Array.from({length:t.length},()=>({}));else throw new Error(`Value must be a list given an array path ${u}`);if(Array.isArray(n[d])){const p=n[d];if(Array.isArray(t))for(let h=0;h<p.length;h++){const v=p[h];g(v,e.slice(a+1),t[h])}else for(const h of p)g(h,e.slice(a+1),t)}return}else if(u.endsWith("[0]")){const d=u.slice(0,-3);d in n||(n[d]=[{}]);const p=n[d];g(p[0],e.slice(a+1),t);return}(!n[u]||typeof n[u]!="object")&&(n[u]={}),n=n[u]}const i=e[e.length-1],r=n[i];if(r!==void 0){if(!t||typeof t=="object"&&Object.keys(t).length===0||t===r)return;if(typeof r=="object"&&typeof t=="object"&&r!==null&&t!==null)Object.assign(r,t);else throw new Error(`Cannot set value for an existing key. Key: ${i}`)}else i==="_self"&&typeof t=="object"&&t!==null&&!Array.isArray(t)?Object.assign(n,t):n[i]=t}function f(n,e,t=void 0){try{if(e.length===1&&e[0]==="_self")return n;for(let i=0;i<e.length;i++){if(typeof n!="object"||n===null)return t;const r=e[i];if(r.endsWith("[]")){const a=r.slice(0,-2);if(a in n){const u=n[a];return Array.isArray(u)?u.map(d=>f(d,e.slice(i+1),t)):t}else return t}else n=n[r]}return n}catch(i){if(i instanceof TypeError)return t;throw i}}function b5(n,e){for(const[t,i]of Object.entries(e)){const r=t.split("."),a=i.split("."),u=new Set;let d=-1;for(let p=0;p<r.length;p++)if(r[p]==="*"){d=p;break}if(d!==-1&&a.length>d)for(let p=d;p<a.length;p++){const h=a[p];h!=="*"&&!h.endsWith("[]")&&!h.endsWith("[0]")&&u.add(h)}Lg(n,r,a,0,u)}}function Lg(n,e,t,i,r){if(i>=e.length||typeof n!="object"||n===null)return;const a=e[i];if(a.endsWith("[]")){const u=a.slice(0,-2),d=n;if(u in d&&Array.isArray(d[u]))for(const p of d[u])Lg(p,e,t,i+1,r)}else if(a==="*"){if(typeof n=="object"&&n!==null&&!Array.isArray(n)){const u=n,d=Object.keys(u).filter(h=>!h.startsWith("_")&&!r.has(h)),p={};for(const h of d)p[h]=u[h];for(const[h,v]of Object.entries(p)){const E=[];for(const T of t.slice(i))T==="*"?E.push(h):E.push(T);g(u,E,v)}for(const h of d)delete u[h]}}else{const u=n;a in u&&Lg(u[a],e,t,i+1,r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Xy(n){if(typeof n!="string")throw new Error("fromImageBytes must be a string");return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function A5(n){const e={},t=f(n,["operationName"]);t!=null&&g(e,["operationName"],t);const i=f(n,["resourceName"]);return i!=null&&g(e,["_url","resourceName"],i),e}function C5(n){const e={},t=f(n,["name"]);t!=null&&g(e,["name"],t);const i=f(n,["metadata"]);i!=null&&g(e,["metadata"],i);const r=f(n,["done"]);r!=null&&g(e,["done"],r);const a=f(n,["error"]);a!=null&&g(e,["error"],a);const u=f(n,["response","generateVideoResponse"]);return u!=null&&g(e,["response"],I5(u)),e}function w5(n){const e={},t=f(n,["name"]);t!=null&&g(e,["name"],t);const i=f(n,["metadata"]);i!=null&&g(e,["metadata"],i);const r=f(n,["done"]);r!=null&&g(e,["done"],r);const a=f(n,["error"]);a!=null&&g(e,["error"],a);const u=f(n,["response"]);return u!=null&&g(e,["response"],N5(u)),e}function I5(n){const e={},t=f(n,["generatedSamples"]);if(t!=null){let a=t;Array.isArray(a)&&(a=a.map(u=>R5(u))),g(e,["generatedVideos"],a)}const i=f(n,["raiMediaFilteredCount"]);i!=null&&g(e,["raiMediaFilteredCount"],i);const r=f(n,["raiMediaFilteredReasons"]);return r!=null&&g(e,["raiMediaFilteredReasons"],r),e}function N5(n){const e={},t=f(n,["videos"]);if(t!=null){let a=t;Array.isArray(a)&&(a=a.map(u=>M5(u))),g(e,["generatedVideos"],a)}const i=f(n,["raiMediaFilteredCount"]);i!=null&&g(e,["raiMediaFilteredCount"],i);const r=f(n,["raiMediaFilteredReasons"]);return r!=null&&g(e,["raiMediaFilteredReasons"],r),e}function R5(n){const e={},t=f(n,["video"]);return t!=null&&g(e,["video"],U5(t)),e}function M5(n){const e={},t=f(n,["_self"]);return t!=null&&g(e,["video"],O5(t)),e}function D5(n){const e={},t=f(n,["operationName"]);return t!=null&&g(e,["_url","operationName"],t),e}function k5(n){const e={},t=f(n,["operationName"]);return t!=null&&g(e,["_url","operationName"],t),e}function P5(n){const e={},t=f(n,["name"]);t!=null&&g(e,["name"],t);const i=f(n,["metadata"]);i!=null&&g(e,["metadata"],i);const r=f(n,["done"]);r!=null&&g(e,["done"],r);const a=f(n,["error"]);a!=null&&g(e,["error"],a);const u=f(n,["response"]);return u!=null&&g(e,["response"],L5(u)),e}function L5(n){const e={},t=f(n,["sdkHttpResponse"]);t!=null&&g(e,["sdkHttpResponse"],t);const i=f(n,["parent"]);i!=null&&g(e,["parent"],i);const r=f(n,["documentName"]);return r!=null&&g(e,["documentName"],r),e}function SC(n){const e={},t=f(n,["name"]);t!=null&&g(e,["name"],t);const i=f(n,["metadata"]);i!=null&&g(e,["metadata"],i);const r=f(n,["done"]);r!=null&&g(e,["done"],r);const a=f(n,["error"]);a!=null&&g(e,["error"],a);const u=f(n,["response"]);return u!=null&&g(e,["response"],V5(u)),e}function V5(n){const e={},t=f(n,["sdkHttpResponse"]);t!=null&&g(e,["sdkHttpResponse"],t);const i=f(n,["parent"]);i!=null&&g(e,["parent"],i);const r=f(n,["documentName"]);return r!=null&&g(e,["documentName"],r),e}function U5(n){const e={},t=f(n,["uri"]);t!=null&&g(e,["uri"],t);const i=f(n,["encodedVideo"]);i!=null&&g(e,["videoBytes"],Xy(i));const r=f(n,["encoding"]);return r!=null&&g(e,["mimeType"],r),e}function O5(n){const e={},t=f(n,["gcsUri"]);t!=null&&g(e,["uri"],t);const i=f(n,["bytesBase64Encoded"]);i!=null&&g(e,["videoBytes"],Xy(i));const r=f(n,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var AT;(function(n){n.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",n.OUTCOME_OK="OUTCOME_OK",n.OUTCOME_FAILED="OUTCOME_FAILED",n.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(AT||(AT={}));var CT;(function(n){n.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",n.PYTHON="PYTHON"})(CT||(CT={}));var wT;(function(n){n.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",n.SILENT="SILENT",n.WHEN_IDLE="WHEN_IDLE",n.INTERRUPT="INTERRUPT"})(wT||(wT={}));var Rr;(function(n){n.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",n.STRING="STRING",n.NUMBER="NUMBER",n.INTEGER="INTEGER",n.BOOLEAN="BOOLEAN",n.ARRAY="ARRAY",n.OBJECT="OBJECT",n.NULL="NULL"})(Rr||(Rr={}));var IT;(function(n){n.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",n.SIMPLE_SEARCH="SIMPLE_SEARCH",n.ELASTIC_SEARCH="ELASTIC_SEARCH"})(IT||(IT={}));var NT;(function(n){n.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",n.NO_AUTH="NO_AUTH",n.API_KEY_AUTH="API_KEY_AUTH",n.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",n.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",n.OAUTH="OAUTH",n.OIDC_AUTH="OIDC_AUTH"})(NT||(NT={}));var RT;(function(n){n.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",n.HTTP_IN_QUERY="HTTP_IN_QUERY",n.HTTP_IN_HEADER="HTTP_IN_HEADER",n.HTTP_IN_PATH="HTTP_IN_PATH",n.HTTP_IN_BODY="HTTP_IN_BODY",n.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(RT||(RT={}));var MT;(function(n){n.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",n.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",n.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",n.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(MT||(MT={}));var DT;(function(n){n.UNSPECIFIED="UNSPECIFIED",n.BLOCKING="BLOCKING",n.NON_BLOCKING="NON_BLOCKING"})(DT||(DT={}));var kT;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(kT||(kT={}));var PT;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.AUTO="AUTO",n.ANY="ANY",n.NONE="NONE",n.VALIDATED="VALIDATED"})(PT||(PT={}));var LT;(function(n){n.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",n.LOW="LOW",n.MEDIUM="MEDIUM",n.HIGH="HIGH",n.MINIMAL="MINIMAL"})(LT||(LT={}));var VT;(function(n){n.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",n.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",n.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",n.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",n.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",n.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",n.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",n.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",n.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(VT||(VT={}));var UT;(function(n){n.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",n.SEVERITY="SEVERITY",n.PROBABILITY="PROBABILITY"})(UT||(UT={}));var OT;(function(n){n.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE",n.OFF="OFF"})(OT||(OT={}));var zT;(function(n){n.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",n.STOP="STOP",n.MAX_TOKENS="MAX_TOKENS",n.SAFETY="SAFETY",n.RECITATION="RECITATION",n.LANGUAGE="LANGUAGE",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.SPII="SPII",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.IMAGE_SAFETY="IMAGE_SAFETY",n.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",n.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",n.NO_IMAGE="NO_IMAGE",n.IMAGE_RECITATION="IMAGE_RECITATION",n.IMAGE_OTHER="IMAGE_OTHER"})(zT||(zT={}));var FT;(function(n){n.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",n.NEGLIGIBLE="NEGLIGIBLE",n.LOW="LOW",n.MEDIUM="MEDIUM",n.HIGH="HIGH"})(FT||(FT={}));var jT;(function(n){n.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",n.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",n.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",n.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",n.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(jT||(jT={}));var qT;(function(n){n.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",n.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",n.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",n.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",n.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(qT||(qT={}));var HT;(function(n){n.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",n.SAFETY="SAFETY",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.IMAGE_SAFETY="IMAGE_SAFETY",n.MODEL_ARMOR="MODEL_ARMOR",n.JAILBREAK="JAILBREAK"})(HT||(HT={}));var GT;(function(n){n.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",n.ON_DEMAND="ON_DEMAND",n.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(GT||(GT={}));var Jf;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.AUDIO="AUDIO"})(Jf||(Jf={}));var BT;(function(n){n.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",n.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",n.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",n.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(BT||(BT={}));var $T;(function(n){n.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",n.TUNING_MODE_FULL="TUNING_MODE_FULL",n.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})($T||($T={}));var JT;(function(n){n.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",n.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",n.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",n.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",n.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",n.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",n.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(JT||(JT={}));var Vg;(function(n){n.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",n.JOB_STATE_QUEUED="JOB_STATE_QUEUED",n.JOB_STATE_PENDING="JOB_STATE_PENDING",n.JOB_STATE_RUNNING="JOB_STATE_RUNNING",n.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",n.JOB_STATE_FAILED="JOB_STATE_FAILED",n.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",n.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",n.JOB_STATE_PAUSED="JOB_STATE_PAUSED",n.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",n.JOB_STATE_UPDATING="JOB_STATE_UPDATING",n.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Vg||(Vg={}));var KT;(function(n){n.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",n.TUNING_TASK_I2V="TUNING_TASK_I2V",n.TUNING_TASK_T2V="TUNING_TASK_T2V",n.TUNING_TASK_R2V="TUNING_TASK_R2V"})(KT||(KT={}));var YT;(function(n){n.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",n.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",n.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",n.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",n.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(YT||(YT={}));var Ug;(function(n){n.COLLECTION="COLLECTION"})(Ug||(Ug={}));var WT;(function(n){n.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",n.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",n.BALANCED="BALANCED",n.PRIORITIZE_COST="PRIORITIZE_COST"})(WT||(WT={}));var QT;(function(n){n.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",n.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(QT||(QT={}));var XT;(function(n){n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE"})(XT||(XT={}));var ZT;(function(n){n.DONT_ALLOW="DONT_ALLOW",n.ALLOW_ADULT="ALLOW_ADULT",n.ALLOW_ALL="ALLOW_ALL"})(ZT||(ZT={}));var eS;(function(n){n.auto="auto",n.en="en",n.ja="ja",n.ko="ko",n.hi="hi",n.zh="zh",n.pt="pt",n.es="es"})(eS||(eS={}));var tS;(function(n){n.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",n.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",n.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",n.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",n.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(tS||(tS={}));var nS;(function(n){n.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",n.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",n.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",n.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(nS||(nS={}));var iS;(function(n){n.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",n.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",n.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",n.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(iS||(iS={}));var sS;(function(n){n.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",n.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",n.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",n.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",n.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",n.EDIT_MODE_STYLE="EDIT_MODE_STYLE",n.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",n.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(sS||(sS={}));var rS;(function(n){n.FOREGROUND="FOREGROUND",n.BACKGROUND="BACKGROUND",n.PROMPT="PROMPT",n.SEMANTIC="SEMANTIC",n.INTERACTIVE="INTERACTIVE"})(rS||(rS={}));var oS;(function(n){n.ASSET="ASSET",n.STYLE="STYLE"})(oS||(oS={}));var aS;(function(n){n.INSERT="INSERT",n.REMOVE="REMOVE",n.REMOVE_STATIC="REMOVE_STATIC",n.OUTPAINT="OUTPAINT"})(aS||(aS={}));var lS;(function(n){n.OPTIMIZED="OPTIMIZED",n.LOSSLESS="LOSSLESS"})(lS||(lS={}));var uS;(function(n){n.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",n.PREFERENCE_TUNING="PREFERENCE_TUNING",n.DISTILLATION="DISTILLATION"})(uS||(uS={}));var cS;(function(n){n.STATE_UNSPECIFIED="STATE_UNSPECIFIED",n.STATE_PENDING="STATE_PENDING",n.STATE_ACTIVE="STATE_ACTIVE",n.STATE_FAILED="STATE_FAILED"})(cS||(cS={}));var dS;(function(n){n.STATE_UNSPECIFIED="STATE_UNSPECIFIED",n.PROCESSING="PROCESSING",n.ACTIVE="ACTIVE",n.FAILED="FAILED"})(dS||(dS={}));var fS;(function(n){n.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",n.UPLOADED="UPLOADED",n.GENERATED="GENERATED",n.REGISTERED="REGISTERED"})(fS||(fS={}));var hS;(function(n){n.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.RESPONSE_REJECTED="RESPONSE_REJECTED",n.NEED_MORE_INPUT="NEED_MORE_INPUT"})(hS||(hS={}));var pS;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.VIDEO="VIDEO",n.AUDIO="AUDIO",n.DOCUMENT="DOCUMENT"})(pS||(pS={}));var mS;(function(n){n.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",n.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",n.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(mS||(mS={}));var gS;(function(n){n.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",n.ACTIVITY_START="ACTIVITY_START",n.ACTIVITY_END="ACTIVITY_END"})(gS||(gS={}));var yS;(function(n){n.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",n.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",n.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(yS||(yS={}));var vS;(function(n){n.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",n.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",n.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(vS||(vS={}));var _S;(function(n){n.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",n.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",n.NO_INTERRUPTION="NO_INTERRUPTION"})(_S||(_S={}));var xS;(function(n){n.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",n.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",n.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(xS||(xS={}));var ES;(function(n){n.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",n.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",n.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",n.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",n.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",n.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",n.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",n.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",n.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",n.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",n.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",n.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",n.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(ES||(ES={}));var TS;(function(n){n.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",n.QUALITY="QUALITY",n.DIVERSITY="DIVERSITY",n.VOCALIZATION="VOCALIZATION"})(TS||(TS={}));var za;(function(n){n.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",n.PLAY="PLAY",n.PAUSE="PAUSE",n.STOP="STOP",n.RESET_CONTEXT="RESET_CONTEXT"})(za||(za={}));class Og{constructor(e){const t={};for(const i of e.headers.entries())t[i[0]]=i[1];this.headers=t,this.responseInternal=e}json(){return this.responseInternal.json()}}class Cu{get text(){var e,t,i,r,a,u,d,p;if(((r=(i=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||i===void 0?void 0:i.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let h="",v=!1;const E=[];for(const T of(p=(d=(u=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||u===void 0?void 0:u.content)===null||d===void 0?void 0:d.parts)!==null&&p!==void 0?p:[]){for(const[A,M]of Object.entries(T))A!=="text"&&A!=="thought"&&A!=="thoughtSignature"&&(M!==null||M!==void 0)&&E.push(A);if(typeof T.text=="string"){if(typeof T.thought=="boolean"&&T.thought)continue;v=!0,h+=T.text}}return E.length>0&&console.warn(`there are non-text parts ${E} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),v?h:void 0}get data(){var e,t,i,r,a,u,d,p;if(((r=(i=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||i===void 0?void 0:i.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let h="";const v=[];for(const E of(p=(d=(u=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||u===void 0?void 0:u.content)===null||d===void 0?void 0:d.parts)!==null&&p!==void 0?p:[]){for(const[T,A]of Object.entries(E))T!=="inlineData"&&(A!==null||A!==void 0)&&v.push(T);E.inlineData&&typeof E.inlineData.data=="string"&&(h+=atob(E.inlineData.data))}return v.length>0&&console.warn(`there are non-data parts ${v} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),h.length>0?btoa(h):void 0}get functionCalls(){var e,t,i,r,a,u,d,p;if(((r=(i=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||i===void 0?void 0:i.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const h=(p=(d=(u=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||u===void 0?void 0:u.content)===null||d===void 0?void 0:d.parts)===null||p===void 0?void 0:p.filter(v=>v.functionCall).map(v=>v.functionCall).filter(v=>v!==void 0);if((h==null?void 0:h.length)!==0)return h}get executableCode(){var e,t,i,r,a,u,d,p,h;if(((r=(i=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||i===void 0?void 0:i.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const v=(p=(d=(u=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||u===void 0?void 0:u.content)===null||d===void 0?void 0:d.parts)===null||p===void 0?void 0:p.filter(E=>E.executableCode).map(E=>E.executableCode).filter(E=>E!==void 0);if((v==null?void 0:v.length)!==0)return(h=v==null?void 0:v[0])===null||h===void 0?void 0:h.code}get codeExecutionResult(){var e,t,i,r,a,u,d,p,h;if(((r=(i=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||i===void 0?void 0:i.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const v=(p=(d=(u=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||u===void 0?void 0:u.content)===null||d===void 0?void 0:d.parts)===null||p===void 0?void 0:p.filter(E=>E.codeExecutionResult).map(E=>E.codeExecutionResult).filter(E=>E!==void 0);if((v==null?void 0:v.length)!==0)return(h=v==null?void 0:v[0])===null||h===void 0?void 0:h.output}}class SS{}class bS{}class z5{}class F5{}class j5{}class q5{}class AS{}class CS{}class wS{}class H5{}class Kf{_fromAPIResponse({apiResponse:e,_isVertexAI:t}){const i=new Kf;let r;const a=e;return t?r=w5(a):r=C5(a),Object.assign(i,r),i}}class IS{}class NS{}class RS{}class MS{}class G5{}class B5{}class $5{}class Zy{_fromAPIResponse({apiResponse:e,_isVertexAI:t}){const i=new Zy,a=P5(e);return Object.assign(i,a),i}}class J5{}class K5{}class Y5{}class W5{}class DS{}class Q5{get text(){var e,t,i;let r="",a=!1;const u=[];for(const d of(i=(t=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||t===void 0?void 0:t.parts)!==null&&i!==void 0?i:[]){for(const[p,h]of Object.entries(d))p!=="text"&&p!=="thought"&&h!==null&&u.push(p);if(typeof d.text=="string"){if(typeof d.thought=="boolean"&&d.thought)continue;a=!0,r+=d.text}}return u.length>0&&console.warn(`there are non-text parts ${u} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),a?r:void 0}get data(){var e,t,i;let r="";const a=[];for(const u of(i=(t=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||t===void 0?void 0:t.parts)!==null&&i!==void 0?i:[]){for(const[d,p]of Object.entries(u))d!=="inlineData"&&p!==null&&a.push(d);u.inlineData&&typeof u.inlineData.data=="string"&&(r+=atob(u.inlineData.data))}return a.length>0&&console.warn(`there are non-data parts ${a} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),r.length>0?btoa(r):void 0}}class X5{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class e0{_fromAPIResponse({apiResponse:e,_isVertexAI:t}){const i=new e0,a=SC(e);return Object.assign(i,a),i}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function nt(n,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(n.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const t=e.split("/",2);return`publishers/${t[0]}/models/${t[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function bC(n,e){const t=nt(n,e);return t?t.startsWith("publishers/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/${t}`:t.startsWith("models/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/publishers/google/${t}`:t:""}function AC(n){return Array.isArray(n)?n.map(e=>Yf(e)):[Yf(n)]}function Yf(n){if(typeof n=="object"&&n!==null)return n;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof n}`)}function CC(n){const e=Yf(n);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function wC(n){const e=Yf(n);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function kS(n){if(n==null)throw new Error("PartUnion is required");if(typeof n=="object")return n;if(typeof n=="string")return{text:n};throw new Error(`Unsupported part type: ${typeof n}`)}function IC(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("PartListUnion is required");return Array.isArray(n)?n.map(e=>kS(e)):[kS(n)]}function zg(n){return n!=null&&typeof n=="object"&&"parts"in n&&Array.isArray(n.parts)}function PS(n){return n!=null&&typeof n=="object"&&"functionCall"in n}function LS(n){return n!=null&&typeof n=="object"&&"functionResponse"in n}function vn(n){if(n==null)throw new Error("ContentUnion is required");return zg(n)?n:{role:"user",parts:IC(n)}}function t0(n,e){if(!e)return[];if(n.isVertexAI()&&Array.isArray(e))return e.flatMap(t=>{const i=vn(t);return i.parts&&i.parts.length>0&&i.parts[0].text!==void 0?[i.parts[0].text]:[]});if(n.isVertexAI()){const t=vn(e);return t.parts&&t.parts.length>0&&t.parts[0].text!==void 0?[t.parts[0].text]:[]}return Array.isArray(e)?e.map(t=>vn(t)):[vn(e)]}function ai(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("contents are required");if(!Array.isArray(n)){if(PS(n)||LS(n))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[vn(n)]}const e=[],t=[],i=zg(n[0]);for(const r of n){const a=zg(r);if(a!=i)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(a)e.push(r);else{if(PS(r)||LS(r))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");t.push(r)}}return i||e.push({role:"user",parts:IC(t)}),e}function Z5(n,e){n.includes("null")&&(e.nullable=!0);const t=n.filter(i=>i!=="null");if(t.length===1)e.type=Object.values(Rr).includes(t[0].toUpperCase())?t[0].toUpperCase():Rr.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const i of t)e.anyOf.push({type:Object.values(Rr).includes(i.toUpperCase())?i.toUpperCase():Rr.TYPE_UNSPECIFIED})}}function Ka(n){const e={},t=["items"],i=["anyOf"],r=["properties"];if(n.type&&n.anyOf)throw new Error("type and anyOf cannot be both populated.");const a=n.anyOf;a!=null&&a.length==2&&(a[0].type==="null"?(e.nullable=!0,n=a[1]):a[1].type==="null"&&(e.nullable=!0,n=a[0])),n.type instanceof Array&&Z5(n.type,e);for(const[u,d]of Object.entries(n))if(d!=null)if(u=="type"){if(d==="null")throw new Error("type: null can not be the only possible type for the field.");if(d instanceof Array)continue;e.type=Object.values(Rr).includes(d.toUpperCase())?d.toUpperCase():Rr.TYPE_UNSPECIFIED}else if(t.includes(u))e[u]=Ka(d);else if(i.includes(u)){const p=[];for(const h of d){if(h.type=="null"){e.nullable=!0;continue}p.push(Ka(h))}e[u]=p}else if(r.includes(u)){const p={};for(const[h,v]of Object.entries(d))p[h]=Ka(v);e[u]=p}else{if(u==="additionalProperties")continue;e[u]=d}return e}function n0(n){return Ka(n)}function i0(n){if(typeof n=="object")return n;if(typeof n=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:n}}};throw new Error(`Unsupported speechConfig type: ${typeof n}`)}function s0(n){if("multiSpeakerVoiceConfig"in n)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return n}function yl(n){if(n.functionDeclarations)for(const e of n.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=Ka(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=Ka(e.response));return n}function vl(n){if(n==null)throw new Error("tools is required");if(!Array.isArray(n))throw new Error("tools is required and must be an array of Tools");const e=[];for(const t of n)e.push(t);return e}function e6(n,e,t,i=1){const r=!e.startsWith(`${t}/`)&&e.split("/").length===i;return n.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${n.getProject()}/${e}`:e.startsWith(`${t}/`)?`projects/${n.getProject()}/locations/${n.getLocation()}/${e}`:r?`projects/${n.getProject()}/locations/${n.getLocation()}/${t}/${e}`:e:r?`${t}/${e}`:e}function qs(n,e){if(typeof e!="string")throw new Error("name must be a string");return e6(n,e,"cachedContents")}function NC(n){switch(n){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return n}}function Wr(n){return Xy(n)}function t6(n){return n!=null&&typeof n=="object"&&"name"in n}function n6(n){return n!=null&&typeof n=="object"&&"video"in n}function i6(n){return n!=null&&typeof n=="object"&&"uri"in n}function RC(n){var e;let t;if(t6(n)&&(t=n.name),!(i6(n)&&(t=n.uri,t===void 0))&&!(n6(n)&&(t=(e=n.video)===null||e===void 0?void 0:e.uri,t===void 0))){if(typeof n=="string"&&(t=n),t===void 0)throw new Error("Could not extract file name from the provided input.");if(t.startsWith("https://")){const r=t.split("files/")[1].match(/[a-z0-9]+/);if(r===null)throw new Error(`Could not extract file name from URI ${t}`);t=r[0]}else t.startsWith("files/")&&(t=t.split("files/")[1]);return t}}function MC(n,e){let t;return n.isVertexAI()?t=e?"publishers/google/models":"models":t=e?"models":"tunedModels",t}function DC(n){for(const e of["models","tunedModels","publisherModels"])if(s6(n,e))return n[e];return[]}function s6(n,e){return n!==null&&typeof n=="object"&&e in n}function r6(n,e={}){const t=n,i={name:t.name,description:t.description,parametersJsonSchema:t.inputSchema};return t.outputSchema&&(i.responseJsonSchema=t.outputSchema),e.behavior&&(i.behavior=e.behavior),{functionDeclarations:[i]}}function o6(n,e={}){const t=[],i=new Set;for(const r of n){const a=r.name;if(i.has(a))throw new Error(`Duplicate function name ${a} found in MCP tools. Please ensure function names are unique.`);i.add(a);const u=r6(r,e);u.functionDeclarations&&t.push(...u.functionDeclarations)}return{functionDeclarations:t}}function kC(n,e){let t;if(typeof e=="string")if(n.isVertexAI())if(e.startsWith("gs://"))t={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))t={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))t={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(n.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");t={inlinedRequests:e}}else t=e;const i=[t.gcsUri,t.bigqueryUri].filter(Boolean).length,r=[t.inlinedRequests,t.fileName].filter(Boolean).length;if(n.isVertexAI()){if(r>0||i!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(i>0||r!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return t}function a6(n){if(typeof n!="string")return n;const e=n;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function PC(n){if(typeof n!="object"||n===null)return{};const e=n,t=e.inlinedResponses;if(typeof t!="object"||t===null)return n;const r=t.inlinedResponses;if(!Array.isArray(r)||r.length===0)return n;let a=!1;for(const u of r){if(typeof u!="object"||u===null)continue;const p=u.response;if(typeof p!="object"||p===null)continue;if(p.embedding!==void 0){a=!0;break}}return a&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),n}function _l(n,e){const t=e;if(!n.isVertexAI()){if(/batches\/[^/]+$/.test(t))return t.split("/").pop();throw new Error(`Invalid batch job name: ${t}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(t))return t.split("/").pop();if(/^\d+$/.test(t))return t;throw new Error(`Invalid batch job name: ${t}.`)}function LC(n){const e=n;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function l6(n){const e={},t=f(n,["responsesFile"]);t!=null&&g(e,["fileName"],t);const i=f(n,["inlinedResponses","inlinedResponses"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(u=>q6(u))),g(e,["inlinedResponses"],a)}const r=f(n,["inlinedEmbedContentResponses","inlinedResponses"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(u=>u)),g(e,["inlinedEmbedContentResponses"],a)}return e}function u6(n){const e={},t=f(n,["predictionsFormat"]);t!=null&&g(e,["format"],t);const i=f(n,["gcsDestination","outputUriPrefix"]);i!=null&&g(e,["gcsUri"],i);const r=f(n,["bigqueryDestination","outputUri"]);return r!=null&&g(e,["bigqueryUri"],r),e}function c6(n){const e={},t=f(n,["format"]);t!=null&&g(e,["predictionsFormat"],t);const i=f(n,["gcsUri"]);i!=null&&g(e,["gcsDestination","outputUriPrefix"],i);const r=f(n,["bigqueryUri"]);if(r!=null&&g(e,["bigqueryDestination","outputUri"],r),f(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(f(n,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(f(n,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function Ef(n){const e={},t=f(n,["name"]);t!=null&&g(e,["name"],t);const i=f(n,["metadata","displayName"]);i!=null&&g(e,["displayName"],i);const r=f(n,["metadata","state"]);r!=null&&g(e,["state"],LC(r));const a=f(n,["metadata","createTime"]);a!=null&&g(e,["createTime"],a);const u=f(n,["metadata","endTime"]);u!=null&&g(e,["endTime"],u);const d=f(n,["metadata","updateTime"]);d!=null&&g(e,["updateTime"],d);const p=f(n,["metadata","model"]);p!=null&&g(e,["model"],p);const h=f(n,["metadata","output"]);return h!=null&&g(e,["dest"],l6(PC(h))),e}function Fg(n){const e={},t=f(n,["name"]);t!=null&&g(e,["name"],t);const i=f(n,["displayName"]);i!=null&&g(e,["displayName"],i);const r=f(n,["state"]);r!=null&&g(e,["state"],LC(r));const a=f(n,["error"]);a!=null&&g(e,["error"],a);const u=f(n,["createTime"]);u!=null&&g(e,["createTime"],u);const d=f(n,["startTime"]);d!=null&&g(e,["startTime"],d);const p=f(n,["endTime"]);p!=null&&g(e,["endTime"],p);const h=f(n,["updateTime"]);h!=null&&g(e,["updateTime"],h);const v=f(n,["model"]);v!=null&&g(e,["model"],v);const E=f(n,["inputConfig"]);E!=null&&g(e,["src"],d6(E));const T=f(n,["outputConfig"]);T!=null&&g(e,["dest"],u6(PC(T)));const A=f(n,["completionStats"]);return A!=null&&g(e,["completionStats"],A),e}function d6(n){const e={},t=f(n,["instancesFormat"]);t!=null&&g(e,["format"],t);const i=f(n,["gcsSource","uris"]);i!=null&&g(e,["gcsUri"],i);const r=f(n,["bigquerySource","inputUri"]);return r!=null&&g(e,["bigqueryUri"],r),e}function f6(n,e){const t={};if(f(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(f(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(f(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const i=f(e,["fileName"]);i!=null&&g(t,["fileName"],i);const r=f(e,["inlinedRequests"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(u=>j6(n,u))),g(t,["requests","requests"],a)}return t}function h6(n){const e={},t=f(n,["format"]);t!=null&&g(e,["instancesFormat"],t);const i=f(n,["gcsUri"]);i!=null&&g(e,["gcsSource","uris"],i);const r=f(n,["bigqueryUri"]);if(r!=null&&g(e,["bigquerySource","inputUri"],r),f(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(f(n,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function p6(n){const e={},t=f(n,["data"]);if(t!=null&&g(e,["data"],t),f(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=f(n,["mimeType"]);return i!=null&&g(e,["mimeType"],i),e}function m6(n,e){const t={},i=f(e,["name"]);return i!=null&&g(t,["_url","name"],_l(n,i)),t}function g6(n,e){const t={},i=f(e,["name"]);return i!=null&&g(t,["_url","name"],_l(n,i)),t}function y6(n){const e={},t=f(n,["content"]);t!=null&&g(e,["content"],t);const i=f(n,["citationMetadata"]);i!=null&&g(e,["citationMetadata"],v6(i));const r=f(n,["tokenCount"]);r!=null&&g(e,["tokenCount"],r);const a=f(n,["finishReason"]);a!=null&&g(e,["finishReason"],a);const u=f(n,["avgLogprobs"]);u!=null&&g(e,["avgLogprobs"],u);const d=f(n,["groundingMetadata"]);d!=null&&g(e,["groundingMetadata"],d);const p=f(n,["index"]);p!=null&&g(e,["index"],p);const h=f(n,["logprobsResult"]);h!=null&&g(e,["logprobsResult"],h);const v=f(n,["safetyRatings"]);if(v!=null){let T=v;Array.isArray(T)&&(T=T.map(A=>A)),g(e,["safetyRatings"],T)}const E=f(n,["urlContextMetadata"]);return E!=null&&g(e,["urlContextMetadata"],E),e}function v6(n){const e={},t=f(n,["citationSources"]);if(t!=null){let i=t;Array.isArray(i)&&(i=i.map(r=>r)),g(e,["citations"],i)}return e}function VC(n){const e={},t=f(n,["parts"]);if(t!=null){let r=t;Array.isArray(r)&&(r=r.map(a=>Y6(a))),g(e,["parts"],r)}const i=f(n,["role"]);return i!=null&&g(e,["role"],i),e}function _6(n,e){const t={},i=f(n,["displayName"]);if(e!==void 0&&i!=null&&g(e,["batch","displayName"],i),f(n,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return t}function x6(n,e){const t={},i=f(n,["displayName"]);e!==void 0&&i!=null&&g(e,["displayName"],i);const r=f(n,["dest"]);return e!==void 0&&r!=null&&g(e,["outputConfig"],c6(a6(r))),t}function VS(n,e){const t={},i=f(e,["model"]);i!=null&&g(t,["_url","model"],nt(n,i));const r=f(e,["src"]);r!=null&&g(t,["batch","inputConfig"],f6(n,kC(n,r)));const a=f(e,["config"]);return a!=null&&_6(a,t),t}function E6(n,e){const t={},i=f(e,["model"]);i!=null&&g(t,["model"],nt(n,i));const r=f(e,["src"]);r!=null&&g(t,["inputConfig"],h6(kC(n,r)));const a=f(e,["config"]);return a!=null&&x6(a,t),t}function T6(n,e){const t={},i=f(n,["displayName"]);return e!==void 0&&i!=null&&g(e,["batch","displayName"],i),t}function S6(n,e){const t={},i=f(e,["model"]);i!=null&&g(t,["_url","model"],nt(n,i));const r=f(e,["src"]);r!=null&&g(t,["batch","inputConfig"],R6(n,r));const a=f(e,["config"]);return a!=null&&T6(a,t),t}function b6(n,e){const t={},i=f(e,["name"]);return i!=null&&g(t,["_url","name"],_l(n,i)),t}function A6(n,e){const t={},i=f(e,["name"]);return i!=null&&g(t,["_url","name"],_l(n,i)),t}function C6(n){const e={},t=f(n,["sdkHttpResponse"]);t!=null&&g(e,["sdkHttpResponse"],t);const i=f(n,["name"]);i!=null&&g(e,["name"],i);const r=f(n,["done"]);r!=null&&g(e,["done"],r);const a=f(n,["error"]);return a!=null&&g(e,["error"],a),e}function w6(n){const e={},t=f(n,["sdkHttpResponse"]);t!=null&&g(e,["sdkHttpResponse"],t);const i=f(n,["name"]);i!=null&&g(e,["name"],i);const r=f(n,["done"]);r!=null&&g(e,["done"],r);const a=f(n,["error"]);return a!=null&&g(e,["error"],a),e}function I6(n,e){const t={},i=f(e,["contents"]);if(i!=null){let a=t0(n,i);Array.isArray(a)&&(a=a.map(u=>u)),g(t,["requests[]","request","content"],a)}const r=f(e,["config"]);return r!=null&&(g(t,["_self"],N6(r,t)),b5(t,{"requests[].*":"requests[].request.*"})),t}function N6(n,e){const t={},i=f(n,["taskType"]);e!==void 0&&i!=null&&g(e,["requests[]","taskType"],i);const r=f(n,["title"]);e!==void 0&&r!=null&&g(e,["requests[]","title"],r);const a=f(n,["outputDimensionality"]);if(e!==void 0&&a!=null&&g(e,["requests[]","outputDimensionality"],a),f(n,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(f(n,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return t}function R6(n,e){const t={},i=f(e,["fileName"]);i!=null&&g(t,["file_name"],i);const r=f(e,["inlinedRequests"]);return r!=null&&g(t,["requests"],I6(n,r)),t}function M6(n){const e={};if(f(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=f(n,["fileUri"]);t!=null&&g(e,["fileUri"],t);const i=f(n,["mimeType"]);return i!=null&&g(e,["mimeType"],i),e}function D6(n){const e={},t=f(n,["id"]);t!=null&&g(e,["id"],t);const i=f(n,["args"]);i!=null&&g(e,["args"],i);const r=f(n,["name"]);if(r!=null&&g(e,["name"],r),f(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(f(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function k6(n){const e={},t=f(n,["allowedFunctionNames"]);t!=null&&g(e,["allowedFunctionNames"],t);const i=f(n,["mode"]);if(i!=null&&g(e,["mode"],i),f(n,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function P6(n,e,t){const i={},r=f(e,["systemInstruction"]);t!==void 0&&r!=null&&g(t,["systemInstruction"],VC(vn(r)));const a=f(e,["temperature"]);a!=null&&g(i,["temperature"],a);const u=f(e,["topP"]);u!=null&&g(i,["topP"],u);const d=f(e,["topK"]);d!=null&&g(i,["topK"],d);const p=f(e,["candidateCount"]);p!=null&&g(i,["candidateCount"],p);const h=f(e,["maxOutputTokens"]);h!=null&&g(i,["maxOutputTokens"],h);const v=f(e,["stopSequences"]);v!=null&&g(i,["stopSequences"],v);const E=f(e,["responseLogprobs"]);E!=null&&g(i,["responseLogprobs"],E);const T=f(e,["logprobs"]);T!=null&&g(i,["logprobs"],T);const A=f(e,["presencePenalty"]);A!=null&&g(i,["presencePenalty"],A);const M=f(e,["frequencyPenalty"]);M!=null&&g(i,["frequencyPenalty"],M);const V=f(e,["seed"]);V!=null&&g(i,["seed"],V);const w=f(e,["responseMimeType"]);w!=null&&g(i,["responseMimeType"],w);const z=f(e,["responseSchema"]);z!=null&&g(i,["responseSchema"],n0(z));const G=f(e,["responseJsonSchema"]);if(G!=null&&g(i,["responseJsonSchema"],G),f(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(f(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const q=f(e,["safetySettings"]);if(t!==void 0&&q!=null){let F=q;Array.isArray(F)&&(F=F.map(ve=>W6(ve))),g(t,["safetySettings"],F)}const W=f(e,["tools"]);if(t!==void 0&&W!=null){let F=vl(W);Array.isArray(F)&&(F=F.map(ve=>X6(yl(ve)))),g(t,["tools"],F)}const B=f(e,["toolConfig"]);if(t!==void 0&&B!=null&&g(t,["toolConfig"],Q6(B)),f(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const ae=f(e,["cachedContent"]);t!==void 0&&ae!=null&&g(t,["cachedContent"],qs(n,ae));const U=f(e,["responseModalities"]);U!=null&&g(i,["responseModalities"],U);const L=f(e,["mediaResolution"]);L!=null&&g(i,["mediaResolution"],L);const P=f(e,["speechConfig"]);if(P!=null&&g(i,["speechConfig"],i0(P)),f(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const I=f(e,["thinkingConfig"]);I!=null&&g(i,["thinkingConfig"],I);const N=f(e,["imageConfig"]);N!=null&&g(i,["imageConfig"],F6(N));const D=f(e,["enableEnhancedCivicAnswers"]);if(D!=null&&g(i,["enableEnhancedCivicAnswers"],D),f(e,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return i}function L6(n){const e={},t=f(n,["sdkHttpResponse"]);t!=null&&g(e,["sdkHttpResponse"],t);const i=f(n,["candidates"]);if(i!=null){let p=i;Array.isArray(p)&&(p=p.map(h=>y6(h))),g(e,["candidates"],p)}const r=f(n,["modelVersion"]);r!=null&&g(e,["modelVersion"],r);const a=f(n,["promptFeedback"]);a!=null&&g(e,["promptFeedback"],a);const u=f(n,["responseId"]);u!=null&&g(e,["responseId"],u);const d=f(n,["usageMetadata"]);return d!=null&&g(e,["usageMetadata"],d),e}function V6(n,e){const t={},i=f(e,["name"]);return i!=null&&g(t,["_url","name"],_l(n,i)),t}function U6(n,e){const t={},i=f(e,["name"]);return i!=null&&g(t,["_url","name"],_l(n,i)),t}function O6(n){const e={};if(f(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const t=f(n,["enableWidget"]);return t!=null&&g(e,["enableWidget"],t),e}function z6(n){const e={};if(f(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(f(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const t=f(n,["timeRangeFilter"]);return t!=null&&g(e,["timeRangeFilter"],t),e}function F6(n){const e={},t=f(n,["aspectRatio"]);t!=null&&g(e,["aspectRatio"],t);const i=f(n,["imageSize"]);if(i!=null&&g(e,["imageSize"],i),f(n,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(f(n,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(f(n,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function j6(n,e){const t={},i=f(e,["model"]);i!=null&&g(t,["request","model"],nt(n,i));const r=f(e,["contents"]);if(r!=null){let d=ai(r);Array.isArray(d)&&(d=d.map(p=>VC(p))),g(t,["request","contents"],d)}const a=f(e,["metadata"]);a!=null&&g(t,["metadata"],a);const u=f(e,["config"]);return u!=null&&g(t,["request","generationConfig"],P6(n,u,f(t,["request"],{}))),t}function q6(n){const e={},t=f(n,["response"]);t!=null&&g(e,["response"],L6(t));const i=f(n,["metadata"]);i!=null&&g(e,["metadata"],i);const r=f(n,["error"]);return r!=null&&g(e,["error"],r),e}function H6(n,e){const t={},i=f(n,["pageSize"]);e!==void 0&&i!=null&&g(e,["_query","pageSize"],i);const r=f(n,["pageToken"]);if(e!==void 0&&r!=null&&g(e,["_query","pageToken"],r),f(n,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return t}function G6(n,e){const t={},i=f(n,["pageSize"]);e!==void 0&&i!=null&&g(e,["_query","pageSize"],i);const r=f(n,["pageToken"]);e!==void 0&&r!=null&&g(e,["_query","pageToken"],r);const a=f(n,["filter"]);return e!==void 0&&a!=null&&g(e,["_query","filter"],a),t}function B6(n){const e={},t=f(n,["config"]);return t!=null&&H6(t,e),e}function $6(n){const e={},t=f(n,["config"]);return t!=null&&G6(t,e),e}function J6(n){const e={},t=f(n,["sdkHttpResponse"]);t!=null&&g(e,["sdkHttpResponse"],t);const i=f(n,["nextPageToken"]);i!=null&&g(e,["nextPageToken"],i);const r=f(n,["operations"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(u=>Ef(u))),g(e,["batchJobs"],a)}return e}function K6(n){const e={},t=f(n,["sdkHttpResponse"]);t!=null&&g(e,["sdkHttpResponse"],t);const i=f(n,["nextPageToken"]);i!=null&&g(e,["nextPageToken"],i);const r=f(n,["batchPredictionJobs"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(u=>Fg(u))),g(e,["batchJobs"],a)}return e}function Y6(n){const e={},t=f(n,["mediaResolution"]);t!=null&&g(e,["mediaResolution"],t);const i=f(n,["codeExecutionResult"]);i!=null&&g(e,["codeExecutionResult"],i);const r=f(n,["executableCode"]);r!=null&&g(e,["executableCode"],r);const a=f(n,["fileData"]);a!=null&&g(e,["fileData"],M6(a));const u=f(n,["functionCall"]);u!=null&&g(e,["functionCall"],D6(u));const d=f(n,["functionResponse"]);d!=null&&g(e,["functionResponse"],d);const p=f(n,["inlineData"]);p!=null&&g(e,["inlineData"],p6(p));const h=f(n,["text"]);h!=null&&g(e,["text"],h);const v=f(n,["thought"]);v!=null&&g(e,["thought"],v);const E=f(n,["thoughtSignature"]);E!=null&&g(e,["thoughtSignature"],E);const T=f(n,["videoMetadata"]);return T!=null&&g(e,["videoMetadata"],T),e}function W6(n){const e={},t=f(n,["category"]);if(t!=null&&g(e,["category"],t),f(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const i=f(n,["threshold"]);return i!=null&&g(e,["threshold"],i),e}function Q6(n){const e={},t=f(n,["retrievalConfig"]);t!=null&&g(e,["retrievalConfig"],t);const i=f(n,["functionCallingConfig"]);return i!=null&&g(e,["functionCallingConfig"],k6(i)),e}function X6(n){const e={};if(f(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const t=f(n,["computerUse"]);t!=null&&g(e,["computerUse"],t);const i=f(n,["fileSearch"]);i!=null&&g(e,["fileSearch"],i);const r=f(n,["codeExecution"]);if(r!=null&&g(e,["codeExecution"],r),f(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=f(n,["functionDeclarations"]);if(a!=null){let v=a;Array.isArray(v)&&(v=v.map(E=>E)),g(e,["functionDeclarations"],v)}const u=f(n,["googleMaps"]);u!=null&&g(e,["googleMaps"],O6(u));const d=f(n,["googleSearch"]);d!=null&&g(e,["googleSearch"],z6(d));const p=f(n,["googleSearchRetrieval"]);p!=null&&g(e,["googleSearchRetrieval"],p);const h=f(n,["urlContext"]);return h!=null&&g(e,["urlContext"],h),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var zs;(function(n){n.PAGED_ITEM_BATCH_JOBS="batchJobs",n.PAGED_ITEM_MODELS="models",n.PAGED_ITEM_TUNING_JOBS="tuningJobs",n.PAGED_ITEM_FILES="files",n.PAGED_ITEM_CACHED_CONTENTS="cachedContents",n.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",n.PAGED_ITEM_DOCUMENTS="documents"})(zs||(zs={}));class Bo{constructor(e,t,i,r){this.pageInternal=[],this.paramsInternal={},this.requestInternal=t,this.init(e,i,r)}init(e,t,i){var r,a;this.nameInternal=e,this.pageInternal=t[this.nameInternal]||[],this.sdkHttpResponseInternal=t==null?void 0:t.sdkHttpResponse,this.idxInternal=0;let u={config:{}};!i||Object.keys(i).length===0?u={config:{}}:typeof i=="object"?u=Object.assign({},i):u=i,u.config&&(u.config.pageToken=t.nextPageToken),this.paramsInternal=u,this.pageInternalSize=(a=(r=u.config)===null||r===void 0?void 0:r.pageSize)!==null&&a!==void 0?a:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Z6 extends js{constructor(e){super(),this.apiClient=e,this.list=async(t={})=>new Bo(zs.PAGED_ITEM_BATCH_JOBS,i=>this.listInternal(i),await this.listInternal(t),t),this.create=async t=>(this.apiClient.isVertexAI()&&(t.config=this.formatDestination(t.src,t.config)),this.createInternal(t)),this.createEmbeddings=async t=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(t)}}createInlinedGenerateContentRequest(e){const t=VS(this.apiClient,e),i=t._url,r=xe("{model}:batchGenerateContent",i),d=t.batch.inputConfig.requests,p=d.requests,h=[];for(const v of p){const E=Object.assign({},v);if(E.systemInstruction){const T=E.systemInstruction;delete E.systemInstruction;const A=E.request;A.systemInstruction=T,E.request=A}h.push(E)}return d.requests=h,delete t.config,delete t._url,delete t._query,{path:r,body:t}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,t){const i=t?Object.assign({},t):{},r=Date.now().toString();if(i.displayName||(i.displayName=`genaiBatchJob_${r}`),i.dest===void 0){const a=this.getGcsUri(e),u=this.getBigqueryUri(e);if(a)a.endsWith(".jsonl")?i.dest=`${a.slice(0,-6)}/dest`:i.dest=`${a}_dest_${r}`;else if(u)i.dest=`${u}_dest_${r}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return i}async createInternal(e){var t,i,r,a;let u,d="",p={};if(this.apiClient.isVertexAI()){const h=E6(this.apiClient,e);return d=xe("batchPredictionJobs",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json()),u.then(v=>Fg(v))}else{const h=VS(this.apiClient,e);return d=xe("{model}:batchGenerateContent",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),u.then(v=>Ef(v))}}async createEmbeddingsInternal(e){var t,i;let r,a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=S6(this.apiClient,e);return a=xe("{model}:asyncBatchEmbedContent",d._url),u=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),r.then(p=>Ef(p))}}async get(e){var t,i,r,a;let u,d="",p={};if(this.apiClient.isVertexAI()){const h=U6(this.apiClient,e);return d=xe("batchPredictionJobs/{name}",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json()),u.then(v=>Fg(v))}else{const h=V6(this.apiClient,e);return d=xe("batches/{name}",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),u.then(v=>Ef(v))}}async cancel(e){var t,i,r,a;let u="",d={};if(this.apiClient.isVertexAI()){const p=g6(this.apiClient,e);u=xe("batchPredictionJobs/{name}:cancel",p._url),d=p._query,delete p._url,delete p._query,await this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}else{const p=m6(this.apiClient,e);u=xe("batches/{name}:cancel",p._url),d=p._query,delete p._url,delete p._query,await this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(e){var t,i,r,a;let u,d="",p={};if(this.apiClient.isVertexAI()){const h=$6(e);return d=xe("batchPredictionJobs",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:v.headers},T})),u.then(v=>{const E=K6(v),T=new DS;return Object.assign(T,E),T})}else{const h=B6(e);return d=xe("batches",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:v.headers},T})),u.then(v=>{const E=J6(v),T=new DS;return Object.assign(T,E),T})}}async delete(e){var t,i,r,a;let u,d="",p={};if(this.apiClient.isVertexAI()){const h=A6(this.apiClient,e);return d=xe("batchPredictionJobs/{name}",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:v.headers},T})),u.then(v=>w6(v))}else{const h=b6(this.apiClient,e);return d=xe("batches/{name}",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:v.headers},T})),u.then(v=>C6(v))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function eO(n){const e={},t=f(n,["data"]);if(t!=null&&g(e,["data"],t),f(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=f(n,["mimeType"]);return i!=null&&g(e,["mimeType"],i),e}function US(n){const e={},t=f(n,["parts"]);if(t!=null){let r=t;Array.isArray(r)&&(r=r.map(a=>SO(a))),g(e,["parts"],r)}const i=f(n,["role"]);return i!=null&&g(e,["role"],i),e}function tO(n,e){const t={},i=f(n,["ttl"]);e!==void 0&&i!=null&&g(e,["ttl"],i);const r=f(n,["expireTime"]);e!==void 0&&r!=null&&g(e,["expireTime"],r);const a=f(n,["displayName"]);e!==void 0&&a!=null&&g(e,["displayName"],a);const u=f(n,["contents"]);if(e!==void 0&&u!=null){let v=ai(u);Array.isArray(v)&&(v=v.map(E=>US(E))),g(e,["contents"],v)}const d=f(n,["systemInstruction"]);e!==void 0&&d!=null&&g(e,["systemInstruction"],US(vn(d)));const p=f(n,["tools"]);if(e!==void 0&&p!=null){let v=p;Array.isArray(v)&&(v=v.map(E=>AO(E))),g(e,["tools"],v)}const h=f(n,["toolConfig"]);if(e!==void 0&&h!=null&&g(e,["toolConfig"],bO(h)),f(n,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return t}function nO(n,e){const t={},i=f(n,["ttl"]);e!==void 0&&i!=null&&g(e,["ttl"],i);const r=f(n,["expireTime"]);e!==void 0&&r!=null&&g(e,["expireTime"],r);const a=f(n,["displayName"]);e!==void 0&&a!=null&&g(e,["displayName"],a);const u=f(n,["contents"]);if(e!==void 0&&u!=null){let E=ai(u);Array.isArray(E)&&(E=E.map(T=>T)),g(e,["contents"],E)}const d=f(n,["systemInstruction"]);e!==void 0&&d!=null&&g(e,["systemInstruction"],vn(d));const p=f(n,["tools"]);if(e!==void 0&&p!=null){let E=p;Array.isArray(E)&&(E=E.map(T=>CO(T))),g(e,["tools"],E)}const h=f(n,["toolConfig"]);e!==void 0&&h!=null&&g(e,["toolConfig"],h);const v=f(n,["kmsKeyName"]);return e!==void 0&&v!=null&&g(e,["encryption_spec","kmsKeyName"],v),t}function iO(n,e){const t={},i=f(e,["model"]);i!=null&&g(t,["model"],bC(n,i));const r=f(e,["config"]);return r!=null&&tO(r,t),t}function sO(n,e){const t={},i=f(e,["model"]);i!=null&&g(t,["model"],bC(n,i));const r=f(e,["config"]);return r!=null&&nO(r,t),t}function rO(n,e){const t={},i=f(e,["name"]);return i!=null&&g(t,["_url","name"],qs(n,i)),t}function oO(n,e){const t={},i=f(e,["name"]);return i!=null&&g(t,["_url","name"],qs(n,i)),t}function aO(n){const e={},t=f(n,["sdkHttpResponse"]);return t!=null&&g(e,["sdkHttpResponse"],t),e}function lO(n){const e={},t=f(n,["sdkHttpResponse"]);return t!=null&&g(e,["sdkHttpResponse"],t),e}function uO(n){const e={};if(f(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=f(n,["fileUri"]);t!=null&&g(e,["fileUri"],t);const i=f(n,["mimeType"]);return i!=null&&g(e,["mimeType"],i),e}function cO(n){const e={},t=f(n,["id"]);t!=null&&g(e,["id"],t);const i=f(n,["args"]);i!=null&&g(e,["args"],i);const r=f(n,["name"]);if(r!=null&&g(e,["name"],r),f(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(f(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function dO(n){const e={},t=f(n,["allowedFunctionNames"]);t!=null&&g(e,["allowedFunctionNames"],t);const i=f(n,["mode"]);if(i!=null&&g(e,["mode"],i),f(n,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function fO(n){const e={},t=f(n,["description"]);t!=null&&g(e,["description"],t);const i=f(n,["name"]);i!=null&&g(e,["name"],i);const r=f(n,["parameters"]);r!=null&&g(e,["parameters"],r);const a=f(n,["parametersJsonSchema"]);a!=null&&g(e,["parametersJsonSchema"],a);const u=f(n,["response"]);u!=null&&g(e,["response"],u);const d=f(n,["responseJsonSchema"]);if(d!=null&&g(e,["responseJsonSchema"],d),f(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function hO(n,e){const t={},i=f(e,["name"]);return i!=null&&g(t,["_url","name"],qs(n,i)),t}function pO(n,e){const t={},i=f(e,["name"]);return i!=null&&g(t,["_url","name"],qs(n,i)),t}function mO(n){const e={};if(f(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const t=f(n,["enableWidget"]);return t!=null&&g(e,["enableWidget"],t),e}function gO(n){const e={};if(f(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(f(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const t=f(n,["timeRangeFilter"]);return t!=null&&g(e,["timeRangeFilter"],t),e}function yO(n,e){const t={},i=f(n,["pageSize"]);e!==void 0&&i!=null&&g(e,["_query","pageSize"],i);const r=f(n,["pageToken"]);return e!==void 0&&r!=null&&g(e,["_query","pageToken"],r),t}function vO(n,e){const t={},i=f(n,["pageSize"]);e!==void 0&&i!=null&&g(e,["_query","pageSize"],i);const r=f(n,["pageToken"]);return e!==void 0&&r!=null&&g(e,["_query","pageToken"],r),t}function _O(n){const e={},t=f(n,["config"]);return t!=null&&yO(t,e),e}function xO(n){const e={},t=f(n,["config"]);return t!=null&&vO(t,e),e}function EO(n){const e={},t=f(n,["sdkHttpResponse"]);t!=null&&g(e,["sdkHttpResponse"],t);const i=f(n,["nextPageToken"]);i!=null&&g(e,["nextPageToken"],i);const r=f(n,["cachedContents"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(u=>u)),g(e,["cachedContents"],a)}return e}function TO(n){const e={},t=f(n,["sdkHttpResponse"]);t!=null&&g(e,["sdkHttpResponse"],t);const i=f(n,["nextPageToken"]);i!=null&&g(e,["nextPageToken"],i);const r=f(n,["cachedContents"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(u=>u)),g(e,["cachedContents"],a)}return e}function SO(n){const e={},t=f(n,["mediaResolution"]);t!=null&&g(e,["mediaResolution"],t);const i=f(n,["codeExecutionResult"]);i!=null&&g(e,["codeExecutionResult"],i);const r=f(n,["executableCode"]);r!=null&&g(e,["executableCode"],r);const a=f(n,["fileData"]);a!=null&&g(e,["fileData"],uO(a));const u=f(n,["functionCall"]);u!=null&&g(e,["functionCall"],cO(u));const d=f(n,["functionResponse"]);d!=null&&g(e,["functionResponse"],d);const p=f(n,["inlineData"]);p!=null&&g(e,["inlineData"],eO(p));const h=f(n,["text"]);h!=null&&g(e,["text"],h);const v=f(n,["thought"]);v!=null&&g(e,["thought"],v);const E=f(n,["thoughtSignature"]);E!=null&&g(e,["thoughtSignature"],E);const T=f(n,["videoMetadata"]);return T!=null&&g(e,["videoMetadata"],T),e}function bO(n){const e={},t=f(n,["retrievalConfig"]);t!=null&&g(e,["retrievalConfig"],t);const i=f(n,["functionCallingConfig"]);return i!=null&&g(e,["functionCallingConfig"],dO(i)),e}function AO(n){const e={};if(f(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const t=f(n,["computerUse"]);t!=null&&g(e,["computerUse"],t);const i=f(n,["fileSearch"]);i!=null&&g(e,["fileSearch"],i);const r=f(n,["codeExecution"]);if(r!=null&&g(e,["codeExecution"],r),f(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=f(n,["functionDeclarations"]);if(a!=null){let v=a;Array.isArray(v)&&(v=v.map(E=>E)),g(e,["functionDeclarations"],v)}const u=f(n,["googleMaps"]);u!=null&&g(e,["googleMaps"],mO(u));const d=f(n,["googleSearch"]);d!=null&&g(e,["googleSearch"],gO(d));const p=f(n,["googleSearchRetrieval"]);p!=null&&g(e,["googleSearchRetrieval"],p);const h=f(n,["urlContext"]);return h!=null&&g(e,["urlContext"],h),e}function CO(n){const e={},t=f(n,["retrieval"]);t!=null&&g(e,["retrieval"],t);const i=f(n,["computerUse"]);if(i!=null&&g(e,["computerUse"],i),f(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const r=f(n,["codeExecution"]);r!=null&&g(e,["codeExecution"],r);const a=f(n,["enterpriseWebSearch"]);a!=null&&g(e,["enterpriseWebSearch"],a);const u=f(n,["functionDeclarations"]);if(u!=null){let E=u;Array.isArray(E)&&(E=E.map(T=>fO(T))),g(e,["functionDeclarations"],E)}const d=f(n,["googleMaps"]);d!=null&&g(e,["googleMaps"],d);const p=f(n,["googleSearch"]);p!=null&&g(e,["googleSearch"],p);const h=f(n,["googleSearchRetrieval"]);h!=null&&g(e,["googleSearchRetrieval"],h);const v=f(n,["urlContext"]);return v!=null&&g(e,["urlContext"],v),e}function wO(n,e){const t={},i=f(n,["ttl"]);e!==void 0&&i!=null&&g(e,["ttl"],i);const r=f(n,["expireTime"]);return e!==void 0&&r!=null&&g(e,["expireTime"],r),t}function IO(n,e){const t={},i=f(n,["ttl"]);e!==void 0&&i!=null&&g(e,["ttl"],i);const r=f(n,["expireTime"]);return e!==void 0&&r!=null&&g(e,["expireTime"],r),t}function NO(n,e){const t={},i=f(e,["name"]);i!=null&&g(t,["_url","name"],qs(n,i));const r=f(e,["config"]);return r!=null&&wO(r,t),t}function RO(n,e){const t={},i=f(e,["name"]);i!=null&&g(t,["_url","name"],qs(n,i));const r=f(e,["config"]);return r!=null&&IO(r,t),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class MO extends js{constructor(e){super(),this.apiClient=e,this.list=async(t={})=>new Bo(zs.PAGED_ITEM_CACHED_CONTENTS,i=>this.listInternal(i),await this.listInternal(t),t)}async create(e){var t,i,r,a;let u,d="",p={};if(this.apiClient.isVertexAI()){const h=sO(this.apiClient,e);return d=xe("cachedContents",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json()),u.then(v=>v)}else{const h=iO(this.apiClient,e);return d=xe("cachedContents",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),u.then(v=>v)}}async get(e){var t,i,r,a;let u,d="",p={};if(this.apiClient.isVertexAI()){const h=pO(this.apiClient,e);return d=xe("{name}",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json()),u.then(v=>v)}else{const h=hO(this.apiClient,e);return d=xe("{name}",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),u.then(v=>v)}}async delete(e){var t,i,r,a;let u,d="",p={};if(this.apiClient.isVertexAI()){const h=oO(this.apiClient,e);return d=xe("{name}",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:v.headers},T})),u.then(v=>{const E=lO(v),T=new RS;return Object.assign(T,E),T})}else{const h=rO(this.apiClient,e);return d=xe("{name}",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:v.headers},T})),u.then(v=>{const E=aO(v),T=new RS;return Object.assign(T,E),T})}}async update(e){var t,i,r,a;let u,d="",p={};if(this.apiClient.isVertexAI()){const h=RO(this.apiClient,e);return d=xe("{name}",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json()),u.then(v=>v)}else{const h=NO(this.apiClient,e);return d=xe("{name}",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),u.then(v=>v)}}async listInternal(e){var t,i,r,a;let u,d="",p={};if(this.apiClient.isVertexAI()){const h=xO(e);return d=xe("cachedContents",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:v.headers},T})),u.then(v=>{const E=TO(v),T=new MS;return Object.assign(T,E),T})}else{const h=_O(e);return d=xe("cachedContents",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:v.headers},T})),u.then(v=>{const E=EO(v),T=new MS;return Object.assign(T,E),T})}}}function Wf(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t}function OS(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],i=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Pe(n){return this instanceof Pe?(this.v=n,this):new Pe(n)}function Ni(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=t.apply(n,e||[]),r,a=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),d("next"),d("throw"),d("return",u),r[Symbol.asyncIterator]=function(){return this},r;function u(A){return function(M){return Promise.resolve(M).then(A,E)}}function d(A,M){i[A]&&(r[A]=function(V){return new Promise(function(w,z){a.push([A,V,w,z])>1||p(A,V)})},M&&(r[A]=M(r[A])))}function p(A,M){try{h(i[A](M))}catch(V){T(a[0][3],V)}}function h(A){A.value instanceof Pe?Promise.resolve(A.value.v).then(v,E):T(a[0][2],A)}function v(A){p("next",A)}function E(A){p("throw",A)}function T(A,M){A(M),a.shift(),a.length&&p(a[0][0],a[0][1])}}function Ri(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof OS=="function"?OS(n):n[Symbol.iterator](),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(a){t[a]=n[a]&&function(u){return new Promise(function(d,p){u=n[a](u),r(d,p,u.done,u.value)})}}function r(a,u,d,p){Promise.resolve(p).then(function(h){a({value:h,done:d})},u)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function DO(n){var e;if(n.candidates==null||n.candidates.length===0)return!1;const t=(e=n.candidates[0])===null||e===void 0?void 0:e.content;return t===void 0?!1:UC(t)}function UC(n){if(n.parts===void 0||n.parts.length===0)return!1;for(const e of n.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function kO(n){if(n.length!==0){for(const e of n)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function zS(n){if(n===void 0||n.length===0)return[];const e=[],t=n.length;let i=0;for(;i<t;)if(n[i].role==="user")e.push(n[i]),i++;else{const r=[];let a=!0;for(;i<t&&n[i].role==="model";)r.push(n[i]),a&&!UC(n[i])&&(a=!1),i++;a?e.push(...r):e.pop()}return e}class PO{constructor(e,t){this.modelsModule=e,this.apiClient=t}create(e){return new LO(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class LO{constructor(e,t,i,r={},a=[]){this.apiClient=e,this.modelsModule=t,this.model=i,this.config=r,this.history=a,this.sendPromise=Promise.resolve(),kO(a)}async sendMessage(e){var t;await this.sendPromise;const i=vn(e.message),r=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(i),config:(t=e.config)!==null&&t!==void 0?t:this.config});return this.sendPromise=(async()=>{var a,u,d;const p=await r,h=(u=(a=p.candidates)===null||a===void 0?void 0:a[0])===null||u===void 0?void 0:u.content,v=p.automaticFunctionCallingHistory,E=this.getHistory(!0).length;let T=[];v!=null&&(T=(d=v.slice(E))!==null&&d!==void 0?d:[]);const A=h?[h]:[];this.recordHistory(i,A,T)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),r}async sendMessageStream(e){var t;await this.sendPromise;const i=vn(e.message),r=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(i),config:(t=e.config)!==null&&t!==void 0?t:this.config});this.sendPromise=r.then(()=>{}).catch(()=>{});const a=await r;return this.processStreamResponse(a,i)}getHistory(e=!1){const t=e?zS(this.history):this.history;return structuredClone(t)}processStreamResponse(e,t){return Ni(this,arguments,function*(){var r,a,u,d,p,h;const v=[];try{for(var E=!0,T=Ri(e),A;A=yield Pe(T.next()),r=A.done,!r;E=!0){d=A.value,E=!1;const M=d;if(DO(M)){const V=(h=(p=M.candidates)===null||p===void 0?void 0:p[0])===null||h===void 0?void 0:h.content;V!==void 0&&v.push(V)}yield yield Pe(M)}}catch(M){a={error:M}}finally{try{!E&&!r&&(u=T.return)&&(yield Pe(u.call(T)))}finally{if(a)throw a.error}}this.recordHistory(t,v)})}recordHistory(e,t,i){let r=[];t.length>0&&t.every(a=>a.role!==void 0)?r=t:r.push({role:"model",parts:[]}),i&&i.length>0?this.history.push(...zS(i)):this.history.push(e),this.history.push(...r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Qu extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,Qu.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function VO(n){const e={},t=f(n,["file"]);return t!=null&&g(e,["file"],t),e}function UO(n){const e={},t=f(n,["sdkHttpResponse"]);return t!=null&&g(e,["sdkHttpResponse"],t),e}function OO(n){const e={},t=f(n,["name"]);return t!=null&&g(e,["_url","file"],RC(t)),e}function zO(n){const e={},t=f(n,["sdkHttpResponse"]);return t!=null&&g(e,["sdkHttpResponse"],t),e}function FO(n){const e={},t=f(n,["name"]);return t!=null&&g(e,["_url","file"],RC(t)),e}function jO(n){const e={},t=f(n,["uris"]);return t!=null&&g(e,["uris"],t),e}function qO(n,e){const t={},i=f(n,["pageSize"]);e!==void 0&&i!=null&&g(e,["_query","pageSize"],i);const r=f(n,["pageToken"]);return e!==void 0&&r!=null&&g(e,["_query","pageToken"],r),t}function HO(n){const e={},t=f(n,["config"]);return t!=null&&qO(t,e),e}function GO(n){const e={},t=f(n,["sdkHttpResponse"]);t!=null&&g(e,["sdkHttpResponse"],t);const i=f(n,["nextPageToken"]);i!=null&&g(e,["nextPageToken"],i);const r=f(n,["files"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(u=>u)),g(e,["files"],a)}return e}function BO(n){const e={},t=f(n,["sdkHttpResponse"]);t!=null&&g(e,["sdkHttpResponse"],t);const i=f(n,["files"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(a=>a)),g(e,["files"],r)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class $O extends js{constructor(e){super(),this.apiClient=e,this.list=async(t={})=>new Bo(zs.PAGED_ITEM_FILES,i=>this.listInternal(i),await this.listInternal(t),t)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(t=>t)}async download(e){await this.apiClient.downloadFile(e)}async registerFiles(e){throw new Error("registerFiles is only supported in Node.js environments.")}async _registerFiles(e){return this.registerFilesInternal(e)}async listInternal(e){var t,i;let r,a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=HO(e);return a=xe("files",d._url),u=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:p.headers},v})),r.then(p=>{const h=GO(p),v=new J5;return Object.assign(v,h),v})}}async createInternal(e){var t,i;let r,a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=VO(e);return a=xe("upload/v1beta/files",d._url),u=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),r.then(p=>{const h=UO(p),v=new K5;return Object.assign(v,h),v})}}async get(e){var t,i;let r,a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=FO(e);return a=xe("files/{file}",d._url),u=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),r.then(p=>p)}}async delete(e){var t,i;let r,a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=OO(e);return a=xe("files/{file}",d._url),u=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:p.headers},v})),r.then(p=>{const h=zO(p),v=new Y5;return Object.assign(v,h),v})}}async registerFilesInternal(e){var t,i;let r,a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=jO(e);return a=xe("files:register",d._url),u=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),r.then(p=>{const h=BO(p),v=new W5;return Object.assign(v,h),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Tf(n){const e={},t=f(n,["data"]);if(t!=null&&g(e,["data"],t),f(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=f(n,["mimeType"]);return i!=null&&g(e,["mimeType"],i),e}function JO(n){const e={},t=f(n,["parts"]);if(t!=null){let r=t;Array.isArray(r)&&(r=r.map(a=>u3(a))),g(e,["parts"],r)}const i=f(n,["role"]);return i!=null&&g(e,["role"],i),e}function KO(n){const e={};if(f(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=f(n,["fileUri"]);t!=null&&g(e,["fileUri"],t);const i=f(n,["mimeType"]);return i!=null&&g(e,["mimeType"],i),e}function YO(n){const e={},t=f(n,["id"]);t!=null&&g(e,["id"],t);const i=f(n,["args"]);i!=null&&g(e,["args"],i);const r=f(n,["name"]);if(r!=null&&g(e,["name"],r),f(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(f(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function WO(n){const e={},t=f(n,["description"]);t!=null&&g(e,["description"],t);const i=f(n,["name"]);i!=null&&g(e,["name"],i);const r=f(n,["parameters"]);r!=null&&g(e,["parameters"],r);const a=f(n,["parametersJsonSchema"]);a!=null&&g(e,["parametersJsonSchema"],a);const u=f(n,["response"]);u!=null&&g(e,["response"],u);const d=f(n,["responseJsonSchema"]);if(d!=null&&g(e,["responseJsonSchema"],d),f(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function QO(n){const e={},t=f(n,["modelSelectionConfig"]);t!=null&&g(e,["modelConfig"],t);const i=f(n,["responseJsonSchema"]);i!=null&&g(e,["responseJsonSchema"],i);const r=f(n,["audioTimestamp"]);r!=null&&g(e,["audioTimestamp"],r);const a=f(n,["candidateCount"]);a!=null&&g(e,["candidateCount"],a);const u=f(n,["enableAffectiveDialog"]);u!=null&&g(e,["enableAffectiveDialog"],u);const d=f(n,["frequencyPenalty"]);d!=null&&g(e,["frequencyPenalty"],d);const p=f(n,["logprobs"]);p!=null&&g(e,["logprobs"],p);const h=f(n,["maxOutputTokens"]);h!=null&&g(e,["maxOutputTokens"],h);const v=f(n,["mediaResolution"]);v!=null&&g(e,["mediaResolution"],v);const E=f(n,["presencePenalty"]);E!=null&&g(e,["presencePenalty"],E);const T=f(n,["responseLogprobs"]);T!=null&&g(e,["responseLogprobs"],T);const A=f(n,["responseMimeType"]);A!=null&&g(e,["responseMimeType"],A);const M=f(n,["responseModalities"]);M!=null&&g(e,["responseModalities"],M);const V=f(n,["responseSchema"]);V!=null&&g(e,["responseSchema"],V);const w=f(n,["routingConfig"]);w!=null&&g(e,["routingConfig"],w);const z=f(n,["seed"]);z!=null&&g(e,["seed"],z);const G=f(n,["speechConfig"]);G!=null&&g(e,["speechConfig"],G);const q=f(n,["stopSequences"]);q!=null&&g(e,["stopSequences"],q);const W=f(n,["temperature"]);W!=null&&g(e,["temperature"],W);const B=f(n,["thinkingConfig"]);B!=null&&g(e,["thinkingConfig"],B);const ae=f(n,["topK"]);ae!=null&&g(e,["topK"],ae);const U=f(n,["topP"]);if(U!=null&&g(e,["topP"],U),f(n,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function XO(n){const e={};if(f(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const t=f(n,["enableWidget"]);return t!=null&&g(e,["enableWidget"],t),e}function ZO(n){const e={};if(f(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(f(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const t=f(n,["timeRangeFilter"]);return t!=null&&g(e,["timeRangeFilter"],t),e}function e3(n,e){const t={},i=f(n,["generationConfig"]);e!==void 0&&i!=null&&g(e,["setup","generationConfig"],i);const r=f(n,["responseModalities"]);e!==void 0&&r!=null&&g(e,["setup","generationConfig","responseModalities"],r);const a=f(n,["temperature"]);e!==void 0&&a!=null&&g(e,["setup","generationConfig","temperature"],a);const u=f(n,["topP"]);e!==void 0&&u!=null&&g(e,["setup","generationConfig","topP"],u);const d=f(n,["topK"]);e!==void 0&&d!=null&&g(e,["setup","generationConfig","topK"],d);const p=f(n,["maxOutputTokens"]);e!==void 0&&p!=null&&g(e,["setup","generationConfig","maxOutputTokens"],p);const h=f(n,["mediaResolution"]);e!==void 0&&h!=null&&g(e,["setup","generationConfig","mediaResolution"],h);const v=f(n,["seed"]);e!==void 0&&v!=null&&g(e,["setup","generationConfig","seed"],v);const E=f(n,["speechConfig"]);e!==void 0&&E!=null&&g(e,["setup","generationConfig","speechConfig"],s0(E));const T=f(n,["thinkingConfig"]);e!==void 0&&T!=null&&g(e,["setup","generationConfig","thinkingConfig"],T);const A=f(n,["enableAffectiveDialog"]);e!==void 0&&A!=null&&g(e,["setup","generationConfig","enableAffectiveDialog"],A);const M=f(n,["systemInstruction"]);e!==void 0&&M!=null&&g(e,["setup","systemInstruction"],JO(vn(M)));const V=f(n,["tools"]);if(e!==void 0&&V!=null){let ae=vl(V);Array.isArray(ae)&&(ae=ae.map(U=>d3(yl(U)))),g(e,["setup","tools"],ae)}const w=f(n,["sessionResumption"]);e!==void 0&&w!=null&&g(e,["setup","sessionResumption"],c3(w));const z=f(n,["inputAudioTranscription"]);e!==void 0&&z!=null&&g(e,["setup","inputAudioTranscription"],z);const G=f(n,["outputAudioTranscription"]);e!==void 0&&G!=null&&g(e,["setup","outputAudioTranscription"],G);const q=f(n,["realtimeInputConfig"]);e!==void 0&&q!=null&&g(e,["setup","realtimeInputConfig"],q);const W=f(n,["contextWindowCompression"]);e!==void 0&&W!=null&&g(e,["setup","contextWindowCompression"],W);const B=f(n,["proactivity"]);if(e!==void 0&&B!=null&&g(e,["setup","proactivity"],B),f(n,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return t}function t3(n,e){const t={},i=f(n,["generationConfig"]);e!==void 0&&i!=null&&g(e,["setup","generationConfig"],QO(i));const r=f(n,["responseModalities"]);e!==void 0&&r!=null&&g(e,["setup","generationConfig","responseModalities"],r);const a=f(n,["temperature"]);e!==void 0&&a!=null&&g(e,["setup","generationConfig","temperature"],a);const u=f(n,["topP"]);e!==void 0&&u!=null&&g(e,["setup","generationConfig","topP"],u);const d=f(n,["topK"]);e!==void 0&&d!=null&&g(e,["setup","generationConfig","topK"],d);const p=f(n,["maxOutputTokens"]);e!==void 0&&p!=null&&g(e,["setup","generationConfig","maxOutputTokens"],p);const h=f(n,["mediaResolution"]);e!==void 0&&h!=null&&g(e,["setup","generationConfig","mediaResolution"],h);const v=f(n,["seed"]);e!==void 0&&v!=null&&g(e,["setup","generationConfig","seed"],v);const E=f(n,["speechConfig"]);e!==void 0&&E!=null&&g(e,["setup","generationConfig","speechConfig"],s0(E));const T=f(n,["thinkingConfig"]);e!==void 0&&T!=null&&g(e,["setup","generationConfig","thinkingConfig"],T);const A=f(n,["enableAffectiveDialog"]);e!==void 0&&A!=null&&g(e,["setup","generationConfig","enableAffectiveDialog"],A);const M=f(n,["systemInstruction"]);e!==void 0&&M!=null&&g(e,["setup","systemInstruction"],vn(M));const V=f(n,["tools"]);if(e!==void 0&&V!=null){let U=vl(V);Array.isArray(U)&&(U=U.map(L=>f3(yl(L)))),g(e,["setup","tools"],U)}const w=f(n,["sessionResumption"]);e!==void 0&&w!=null&&g(e,["setup","sessionResumption"],w);const z=f(n,["inputAudioTranscription"]);e!==void 0&&z!=null&&g(e,["setup","inputAudioTranscription"],z);const G=f(n,["outputAudioTranscription"]);e!==void 0&&G!=null&&g(e,["setup","outputAudioTranscription"],G);const q=f(n,["realtimeInputConfig"]);e!==void 0&&q!=null&&g(e,["setup","realtimeInputConfig"],q);const W=f(n,["contextWindowCompression"]);e!==void 0&&W!=null&&g(e,["setup","contextWindowCompression"],W);const B=f(n,["proactivity"]);e!==void 0&&B!=null&&g(e,["setup","proactivity"],B);const ae=f(n,["explicitVadSignal"]);return e!==void 0&&ae!=null&&g(e,["setup","explicitVadSignal"],ae),t}function n3(n,e){const t={},i=f(e,["model"]);i!=null&&g(t,["setup","model"],nt(n,i));const r=f(e,["config"]);return r!=null&&g(t,["config"],e3(r,t)),t}function i3(n,e){const t={},i=f(e,["model"]);i!=null&&g(t,["setup","model"],nt(n,i));const r=f(e,["config"]);return r!=null&&g(t,["config"],t3(r,t)),t}function s3(n){const e={},t=f(n,["musicGenerationConfig"]);return t!=null&&g(e,["musicGenerationConfig"],t),e}function r3(n){const e={},t=f(n,["weightedPrompts"]);if(t!=null){let i=t;Array.isArray(i)&&(i=i.map(r=>r)),g(e,["weightedPrompts"],i)}return e}function o3(n){const e={},t=f(n,["media"]);if(t!=null){let h=AC(t);Array.isArray(h)&&(h=h.map(v=>Tf(v))),g(e,["mediaChunks"],h)}const i=f(n,["audio"]);i!=null&&g(e,["audio"],Tf(wC(i)));const r=f(n,["audioStreamEnd"]);r!=null&&g(e,["audioStreamEnd"],r);const a=f(n,["video"]);a!=null&&g(e,["video"],Tf(CC(a)));const u=f(n,["text"]);u!=null&&g(e,["text"],u);const d=f(n,["activityStart"]);d!=null&&g(e,["activityStart"],d);const p=f(n,["activityEnd"]);return p!=null&&g(e,["activityEnd"],p),e}function a3(n){const e={},t=f(n,["media"]);if(t!=null){let h=AC(t);Array.isArray(h)&&(h=h.map(v=>v)),g(e,["mediaChunks"],h)}const i=f(n,["audio"]);i!=null&&g(e,["audio"],wC(i));const r=f(n,["audioStreamEnd"]);r!=null&&g(e,["audioStreamEnd"],r);const a=f(n,["video"]);a!=null&&g(e,["video"],CC(a));const u=f(n,["text"]);u!=null&&g(e,["text"],u);const d=f(n,["activityStart"]);d!=null&&g(e,["activityStart"],d);const p=f(n,["activityEnd"]);return p!=null&&g(e,["activityEnd"],p),e}function l3(n){const e={},t=f(n,["setupComplete"]);t!=null&&g(e,["setupComplete"],t);const i=f(n,["serverContent"]);i!=null&&g(e,["serverContent"],i);const r=f(n,["toolCall"]);r!=null&&g(e,["toolCall"],r);const a=f(n,["toolCallCancellation"]);a!=null&&g(e,["toolCallCancellation"],a);const u=f(n,["usageMetadata"]);u!=null&&g(e,["usageMetadata"],h3(u));const d=f(n,["goAway"]);d!=null&&g(e,["goAway"],d);const p=f(n,["sessionResumptionUpdate"]);p!=null&&g(e,["sessionResumptionUpdate"],p);const h=f(n,["voiceActivityDetectionSignal"]);h!=null&&g(e,["voiceActivityDetectionSignal"],h);const v=f(n,["voiceActivity"]);return v!=null&&g(e,["voiceActivity"],p3(v)),e}function u3(n){const e={},t=f(n,["mediaResolution"]);t!=null&&g(e,["mediaResolution"],t);const i=f(n,["codeExecutionResult"]);i!=null&&g(e,["codeExecutionResult"],i);const r=f(n,["executableCode"]);r!=null&&g(e,["executableCode"],r);const a=f(n,["fileData"]);a!=null&&g(e,["fileData"],KO(a));const u=f(n,["functionCall"]);u!=null&&g(e,["functionCall"],YO(u));const d=f(n,["functionResponse"]);d!=null&&g(e,["functionResponse"],d);const p=f(n,["inlineData"]);p!=null&&g(e,["inlineData"],Tf(p));const h=f(n,["text"]);h!=null&&g(e,["text"],h);const v=f(n,["thought"]);v!=null&&g(e,["thought"],v);const E=f(n,["thoughtSignature"]);E!=null&&g(e,["thoughtSignature"],E);const T=f(n,["videoMetadata"]);return T!=null&&g(e,["videoMetadata"],T),e}function c3(n){const e={},t=f(n,["handle"]);if(t!=null&&g(e,["handle"],t),f(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function d3(n){const e={};if(f(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const t=f(n,["computerUse"]);t!=null&&g(e,["computerUse"],t);const i=f(n,["fileSearch"]);i!=null&&g(e,["fileSearch"],i);const r=f(n,["codeExecution"]);if(r!=null&&g(e,["codeExecution"],r),f(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=f(n,["functionDeclarations"]);if(a!=null){let v=a;Array.isArray(v)&&(v=v.map(E=>E)),g(e,["functionDeclarations"],v)}const u=f(n,["googleMaps"]);u!=null&&g(e,["googleMaps"],XO(u));const d=f(n,["googleSearch"]);d!=null&&g(e,["googleSearch"],ZO(d));const p=f(n,["googleSearchRetrieval"]);p!=null&&g(e,["googleSearchRetrieval"],p);const h=f(n,["urlContext"]);return h!=null&&g(e,["urlContext"],h),e}function f3(n){const e={},t=f(n,["retrieval"]);t!=null&&g(e,["retrieval"],t);const i=f(n,["computerUse"]);if(i!=null&&g(e,["computerUse"],i),f(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const r=f(n,["codeExecution"]);r!=null&&g(e,["codeExecution"],r);const a=f(n,["enterpriseWebSearch"]);a!=null&&g(e,["enterpriseWebSearch"],a);const u=f(n,["functionDeclarations"]);if(u!=null){let E=u;Array.isArray(E)&&(E=E.map(T=>WO(T))),g(e,["functionDeclarations"],E)}const d=f(n,["googleMaps"]);d!=null&&g(e,["googleMaps"],d);const p=f(n,["googleSearch"]);p!=null&&g(e,["googleSearch"],p);const h=f(n,["googleSearchRetrieval"]);h!=null&&g(e,["googleSearchRetrieval"],h);const v=f(n,["urlContext"]);return v!=null&&g(e,["urlContext"],v),e}function h3(n){const e={},t=f(n,["promptTokenCount"]);t!=null&&g(e,["promptTokenCount"],t);const i=f(n,["cachedContentTokenCount"]);i!=null&&g(e,["cachedContentTokenCount"],i);const r=f(n,["candidatesTokenCount"]);r!=null&&g(e,["responseTokenCount"],r);const a=f(n,["toolUsePromptTokenCount"]);a!=null&&g(e,["toolUsePromptTokenCount"],a);const u=f(n,["thoughtsTokenCount"]);u!=null&&g(e,["thoughtsTokenCount"],u);const d=f(n,["totalTokenCount"]);d!=null&&g(e,["totalTokenCount"],d);const p=f(n,["promptTokensDetails"]);if(p!=null){let A=p;Array.isArray(A)&&(A=A.map(M=>M)),g(e,["promptTokensDetails"],A)}const h=f(n,["cacheTokensDetails"]);if(h!=null){let A=h;Array.isArray(A)&&(A=A.map(M=>M)),g(e,["cacheTokensDetails"],A)}const v=f(n,["candidatesTokensDetails"]);if(v!=null){let A=v;Array.isArray(A)&&(A=A.map(M=>M)),g(e,["responseTokensDetails"],A)}const E=f(n,["toolUsePromptTokensDetails"]);if(E!=null){let A=E;Array.isArray(A)&&(A=A.map(M=>M)),g(e,["toolUsePromptTokensDetails"],A)}const T=f(n,["trafficType"]);return T!=null&&g(e,["trafficType"],T),e}function p3(n){const e={},t=f(n,["type"]);return t!=null&&g(e,["voiceActivityType"],t),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function m3(n,e){const t={},i=f(n,["data"]);if(i!=null&&g(t,["data"],i),f(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=f(n,["mimeType"]);return r!=null&&g(t,["mimeType"],r),t}function g3(n,e){const t={},i=f(n,["content"]);i!=null&&g(t,["content"],i);const r=f(n,["citationMetadata"]);r!=null&&g(t,["citationMetadata"],y3(r));const a=f(n,["tokenCount"]);a!=null&&g(t,["tokenCount"],a);const u=f(n,["finishReason"]);u!=null&&g(t,["finishReason"],u);const d=f(n,["avgLogprobs"]);d!=null&&g(t,["avgLogprobs"],d);const p=f(n,["groundingMetadata"]);p!=null&&g(t,["groundingMetadata"],p);const h=f(n,["index"]);h!=null&&g(t,["index"],h);const v=f(n,["logprobsResult"]);v!=null&&g(t,["logprobsResult"],v);const E=f(n,["safetyRatings"]);if(E!=null){let A=E;Array.isArray(A)&&(A=A.map(M=>M)),g(t,["safetyRatings"],A)}const T=f(n,["urlContextMetadata"]);return T!=null&&g(t,["urlContextMetadata"],T),t}function y3(n,e){const t={},i=f(n,["citationSources"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(a=>a)),g(t,["citations"],r)}return t}function v3(n,e,t){const i={},r=f(e,["model"]);r!=null&&g(i,["_url","model"],nt(n,r));const a=f(e,["contents"]);if(a!=null){let u=ai(a);Array.isArray(u)&&(u=u.map(d=>d)),g(i,["contents"],u)}return i}function _3(n,e){const t={},i=f(n,["sdkHttpResponse"]);i!=null&&g(t,["sdkHttpResponse"],i);const r=f(n,["tokensInfo"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(u=>u)),g(t,["tokensInfo"],a)}return t}function x3(n,e){const t={},i=f(n,["values"]);i!=null&&g(t,["values"],i);const r=f(n,["statistics"]);return r!=null&&g(t,["statistics"],E3(r)),t}function E3(n,e){const t={},i=f(n,["truncated"]);i!=null&&g(t,["truncated"],i);const r=f(n,["token_count"]);return r!=null&&g(t,["tokenCount"],r),t}function Ah(n,e){const t={},i=f(n,["parts"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(u=>R9(u))),g(t,["parts"],a)}const r=f(n,["role"]);return r!=null&&g(t,["role"],r),t}function T3(n,e){const t={},i=f(n,["controlType"]);i!=null&&g(t,["controlType"],i);const r=f(n,["enableControlImageComputation"]);return r!=null&&g(t,["computeControl"],r),t}function S3(n,e){const t={};if(f(n,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(f(n,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(f(n,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return t}function b3(n,e,t){const i={},r=f(n,["systemInstruction"]);e!==void 0&&r!=null&&g(e,["systemInstruction"],vn(r));const a=f(n,["tools"]);if(e!==void 0&&a!=null){let d=a;Array.isArray(d)&&(d=d.map(p=>jC(p))),g(e,["tools"],d)}const u=f(n,["generationConfig"]);return e!==void 0&&u!=null&&g(e,["generationConfig"],m9(u)),i}function A3(n,e,t){const i={},r=f(e,["model"]);r!=null&&g(i,["_url","model"],nt(n,r));const a=f(e,["contents"]);if(a!=null){let d=ai(a);Array.isArray(d)&&(d=d.map(p=>Ah(p))),g(i,["contents"],d)}const u=f(e,["config"]);return u!=null&&S3(u),i}function C3(n,e,t){const i={},r=f(e,["model"]);r!=null&&g(i,["_url","model"],nt(n,r));const a=f(e,["contents"]);if(a!=null){let d=ai(a);Array.isArray(d)&&(d=d.map(p=>p)),g(i,["contents"],d)}const u=f(e,["config"]);return u!=null&&b3(u,i),i}function w3(n,e){const t={},i=f(n,["sdkHttpResponse"]);i!=null&&g(t,["sdkHttpResponse"],i);const r=f(n,["totalTokens"]);r!=null&&g(t,["totalTokens"],r);const a=f(n,["cachedContentTokenCount"]);return a!=null&&g(t,["cachedContentTokenCount"],a),t}function I3(n,e){const t={},i=f(n,["sdkHttpResponse"]);i!=null&&g(t,["sdkHttpResponse"],i);const r=f(n,["totalTokens"]);return r!=null&&g(t,["totalTokens"],r),t}function N3(n,e,t){const i={},r=f(e,["model"]);return r!=null&&g(i,["_url","name"],nt(n,r)),i}function R3(n,e,t){const i={},r=f(e,["model"]);return r!=null&&g(i,["_url","name"],nt(n,r)),i}function M3(n,e){const t={},i=f(n,["sdkHttpResponse"]);return i!=null&&g(t,["sdkHttpResponse"],i),t}function D3(n,e){const t={},i=f(n,["sdkHttpResponse"]);return i!=null&&g(t,["sdkHttpResponse"],i),t}function k3(n,e,t){const i={},r=f(n,["outputGcsUri"]);e!==void 0&&r!=null&&g(e,["parameters","storageUri"],r);const a=f(n,["negativePrompt"]);e!==void 0&&a!=null&&g(e,["parameters","negativePrompt"],a);const u=f(n,["numberOfImages"]);e!==void 0&&u!=null&&g(e,["parameters","sampleCount"],u);const d=f(n,["aspectRatio"]);e!==void 0&&d!=null&&g(e,["parameters","aspectRatio"],d);const p=f(n,["guidanceScale"]);e!==void 0&&p!=null&&g(e,["parameters","guidanceScale"],p);const h=f(n,["seed"]);e!==void 0&&h!=null&&g(e,["parameters","seed"],h);const v=f(n,["safetyFilterLevel"]);e!==void 0&&v!=null&&g(e,["parameters","safetySetting"],v);const E=f(n,["personGeneration"]);e!==void 0&&E!=null&&g(e,["parameters","personGeneration"],E);const T=f(n,["includeSafetyAttributes"]);e!==void 0&&T!=null&&g(e,["parameters","includeSafetyAttributes"],T);const A=f(n,["includeRaiReason"]);e!==void 0&&A!=null&&g(e,["parameters","includeRaiReason"],A);const M=f(n,["language"]);e!==void 0&&M!=null&&g(e,["parameters","language"],M);const V=f(n,["outputMimeType"]);e!==void 0&&V!=null&&g(e,["parameters","outputOptions","mimeType"],V);const w=f(n,["outputCompressionQuality"]);e!==void 0&&w!=null&&g(e,["parameters","outputOptions","compressionQuality"],w);const z=f(n,["addWatermark"]);e!==void 0&&z!=null&&g(e,["parameters","addWatermark"],z);const G=f(n,["labels"]);e!==void 0&&G!=null&&g(e,["labels"],G);const q=f(n,["editMode"]);e!==void 0&&q!=null&&g(e,["parameters","editMode"],q);const W=f(n,["baseSteps"]);return e!==void 0&&W!=null&&g(e,["parameters","editConfig","baseSteps"],W),i}function P3(n,e,t){const i={},r=f(e,["model"]);r!=null&&g(i,["_url","model"],nt(n,r));const a=f(e,["prompt"]);a!=null&&g(i,["instances[0]","prompt"],a);const u=f(e,["referenceImages"]);if(u!=null){let p=u;Array.isArray(p)&&(p=p.map(h=>V9(h))),g(i,["instances[0]","referenceImages"],p)}const d=f(e,["config"]);return d!=null&&k3(d,i),i}function L3(n,e){const t={},i=f(n,["sdkHttpResponse"]);i!=null&&g(t,["sdkHttpResponse"],i);const r=f(n,["predictions"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(u=>Ch(u))),g(t,["generatedImages"],a)}return t}function V3(n,e,t){const i={},r=f(n,["taskType"]);e!==void 0&&r!=null&&g(e,["requests[]","taskType"],r);const a=f(n,["title"]);e!==void 0&&a!=null&&g(e,["requests[]","title"],a);const u=f(n,["outputDimensionality"]);if(e!==void 0&&u!=null&&g(e,["requests[]","outputDimensionality"],u),f(n,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(f(n,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return i}function U3(n,e,t){const i={},r=f(n,["taskType"]);e!==void 0&&r!=null&&g(e,["instances[]","task_type"],r);const a=f(n,["title"]);e!==void 0&&a!=null&&g(e,["instances[]","title"],a);const u=f(n,["outputDimensionality"]);e!==void 0&&u!=null&&g(e,["parameters","outputDimensionality"],u);const d=f(n,["mimeType"]);e!==void 0&&d!=null&&g(e,["instances[]","mimeType"],d);const p=f(n,["autoTruncate"]);return e!==void 0&&p!=null&&g(e,["parameters","autoTruncate"],p),i}function O3(n,e,t){const i={},r=f(e,["model"]);r!=null&&g(i,["_url","model"],nt(n,r));const a=f(e,["contents"]);if(a!=null){let p=t0(n,a);Array.isArray(p)&&(p=p.map(h=>h)),g(i,["requests[]","content"],p)}const u=f(e,["config"]);u!=null&&V3(u,i);const d=f(e,["model"]);return d!==void 0&&g(i,["requests[]","model"],nt(n,d)),i}function z3(n,e,t){const i={},r=f(e,["model"]);r!=null&&g(i,["_url","model"],nt(n,r));const a=f(e,["contents"]);if(a!=null){let d=t0(n,a);Array.isArray(d)&&(d=d.map(p=>p)),g(i,["instances[]","content"],d)}const u=f(e,["config"]);return u!=null&&U3(u,i),i}function F3(n,e){const t={},i=f(n,["sdkHttpResponse"]);i!=null&&g(t,["sdkHttpResponse"],i);const r=f(n,["embeddings"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(d=>d)),g(t,["embeddings"],u)}const a=f(n,["metadata"]);return a!=null&&g(t,["metadata"],a),t}function j3(n,e){const t={},i=f(n,["sdkHttpResponse"]);i!=null&&g(t,["sdkHttpResponse"],i);const r=f(n,["predictions[]","embeddings"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(d=>x3(d))),g(t,["embeddings"],u)}const a=f(n,["metadata"]);return a!=null&&g(t,["metadata"],a),t}function q3(n,e){const t={},i=f(n,["endpoint"]);i!=null&&g(t,["name"],i);const r=f(n,["deployedModelId"]);return r!=null&&g(t,["deployedModelId"],r),t}function H3(n,e){const t={};if(f(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=f(n,["fileUri"]);i!=null&&g(t,["fileUri"],i);const r=f(n,["mimeType"]);return r!=null&&g(t,["mimeType"],r),t}function G3(n,e){const t={},i=f(n,["id"]);i!=null&&g(t,["id"],i);const r=f(n,["args"]);r!=null&&g(t,["args"],r);const a=f(n,["name"]);if(a!=null&&g(t,["name"],a),f(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(f(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function B3(n,e){const t={},i=f(n,["allowedFunctionNames"]);i!=null&&g(t,["allowedFunctionNames"],i);const r=f(n,["mode"]);if(r!=null&&g(t,["mode"],r),f(n,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function $3(n,e){const t={},i=f(n,["description"]);i!=null&&g(t,["description"],i);const r=f(n,["name"]);r!=null&&g(t,["name"],r);const a=f(n,["parameters"]);a!=null&&g(t,["parameters"],a);const u=f(n,["parametersJsonSchema"]);u!=null&&g(t,["parametersJsonSchema"],u);const d=f(n,["response"]);d!=null&&g(t,["response"],d);const p=f(n,["responseJsonSchema"]);if(p!=null&&g(t,["responseJsonSchema"],p),f(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return t}function J3(n,e,t,i){const r={},a=f(e,["systemInstruction"]);t!==void 0&&a!=null&&g(t,["systemInstruction"],Ah(vn(a)));const u=f(e,["temperature"]);u!=null&&g(r,["temperature"],u);const d=f(e,["topP"]);d!=null&&g(r,["topP"],d);const p=f(e,["topK"]);p!=null&&g(r,["topK"],p);const h=f(e,["candidateCount"]);h!=null&&g(r,["candidateCount"],h);const v=f(e,["maxOutputTokens"]);v!=null&&g(r,["maxOutputTokens"],v);const E=f(e,["stopSequences"]);E!=null&&g(r,["stopSequences"],E);const T=f(e,["responseLogprobs"]);T!=null&&g(r,["responseLogprobs"],T);const A=f(e,["logprobs"]);A!=null&&g(r,["logprobs"],A);const M=f(e,["presencePenalty"]);M!=null&&g(r,["presencePenalty"],M);const V=f(e,["frequencyPenalty"]);V!=null&&g(r,["frequencyPenalty"],V);const w=f(e,["seed"]);w!=null&&g(r,["seed"],w);const z=f(e,["responseMimeType"]);z!=null&&g(r,["responseMimeType"],z);const G=f(e,["responseSchema"]);G!=null&&g(r,["responseSchema"],n0(G));const q=f(e,["responseJsonSchema"]);if(q!=null&&g(r,["responseJsonSchema"],q),f(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(f(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const W=f(e,["safetySettings"]);if(t!==void 0&&W!=null){let ve=W;Array.isArray(ve)&&(ve=ve.map(Ee=>U9(Ee))),g(t,["safetySettings"],ve)}const B=f(e,["tools"]);if(t!==void 0&&B!=null){let ve=vl(B);Array.isArray(ve)&&(ve=ve.map(Ee=>G9(yl(Ee)))),g(t,["tools"],ve)}const ae=f(e,["toolConfig"]);if(t!==void 0&&ae!=null&&g(t,["toolConfig"],H9(ae)),f(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const U=f(e,["cachedContent"]);t!==void 0&&U!=null&&g(t,["cachedContent"],qs(n,U));const L=f(e,["responseModalities"]);L!=null&&g(r,["responseModalities"],L);const P=f(e,["mediaResolution"]);P!=null&&g(r,["mediaResolution"],P);const I=f(e,["speechConfig"]);if(I!=null&&g(r,["speechConfig"],i0(I)),f(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const N=f(e,["thinkingConfig"]);N!=null&&g(r,["thinkingConfig"],N);const D=f(e,["imageConfig"]);D!=null&&g(r,["imageConfig"],x9(D));const F=f(e,["enableEnhancedCivicAnswers"]);if(F!=null&&g(r,["enableEnhancedCivicAnswers"],F),f(e,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return r}function K3(n,e,t,i){const r={},a=f(e,["systemInstruction"]);t!==void 0&&a!=null&&g(t,["systemInstruction"],vn(a));const u=f(e,["temperature"]);u!=null&&g(r,["temperature"],u);const d=f(e,["topP"]);d!=null&&g(r,["topP"],d);const p=f(e,["topK"]);p!=null&&g(r,["topK"],p);const h=f(e,["candidateCount"]);h!=null&&g(r,["candidateCount"],h);const v=f(e,["maxOutputTokens"]);v!=null&&g(r,["maxOutputTokens"],v);const E=f(e,["stopSequences"]);E!=null&&g(r,["stopSequences"],E);const T=f(e,["responseLogprobs"]);T!=null&&g(r,["responseLogprobs"],T);const A=f(e,["logprobs"]);A!=null&&g(r,["logprobs"],A);const M=f(e,["presencePenalty"]);M!=null&&g(r,["presencePenalty"],M);const V=f(e,["frequencyPenalty"]);V!=null&&g(r,["frequencyPenalty"],V);const w=f(e,["seed"]);w!=null&&g(r,["seed"],w);const z=f(e,["responseMimeType"]);z!=null&&g(r,["responseMimeType"],z);const G=f(e,["responseSchema"]);G!=null&&g(r,["responseSchema"],n0(G));const q=f(e,["responseJsonSchema"]);q!=null&&g(r,["responseJsonSchema"],q);const W=f(e,["routingConfig"]);W!=null&&g(r,["routingConfig"],W);const B=f(e,["modelSelectionConfig"]);B!=null&&g(r,["modelConfig"],B);const ae=f(e,["safetySettings"]);if(t!==void 0&&ae!=null){let fe=ae;Array.isArray(fe)&&(fe=fe.map(Ce=>Ce)),g(t,["safetySettings"],fe)}const U=f(e,["tools"]);if(t!==void 0&&U!=null){let fe=vl(U);Array.isArray(fe)&&(fe=fe.map(Ce=>jC(yl(Ce)))),g(t,["tools"],fe)}const L=f(e,["toolConfig"]);t!==void 0&&L!=null&&g(t,["toolConfig"],L);const P=f(e,["labels"]);t!==void 0&&P!=null&&g(t,["labels"],P);const I=f(e,["cachedContent"]);t!==void 0&&I!=null&&g(t,["cachedContent"],qs(n,I));const N=f(e,["responseModalities"]);N!=null&&g(r,["responseModalities"],N);const D=f(e,["mediaResolution"]);D!=null&&g(r,["mediaResolution"],D);const F=f(e,["speechConfig"]);F!=null&&g(r,["speechConfig"],i0(F));const ve=f(e,["audioTimestamp"]);ve!=null&&g(r,["audioTimestamp"],ve);const Ee=f(e,["thinkingConfig"]);Ee!=null&&g(r,["thinkingConfig"],Ee);const ne=f(e,["imageConfig"]);if(ne!=null&&g(r,["imageConfig"],E9(ne)),f(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");const pe=f(e,["modelArmorConfig"]);return t!==void 0&&pe!=null&&g(t,["modelArmorConfig"],pe),r}function FS(n,e,t){const i={},r=f(e,["model"]);r!=null&&g(i,["_url","model"],nt(n,r));const a=f(e,["contents"]);if(a!=null){let d=ai(a);Array.isArray(d)&&(d=d.map(p=>Ah(p))),g(i,["contents"],d)}const u=f(e,["config"]);return u!=null&&g(i,["generationConfig"],J3(n,u,i)),i}function jS(n,e,t){const i={},r=f(e,["model"]);r!=null&&g(i,["_url","model"],nt(n,r));const a=f(e,["contents"]);if(a!=null){let d=ai(a);Array.isArray(d)&&(d=d.map(p=>p)),g(i,["contents"],d)}const u=f(e,["config"]);return u!=null&&g(i,["generationConfig"],K3(n,u,i)),i}function qS(n,e){const t={},i=f(n,["sdkHttpResponse"]);i!=null&&g(t,["sdkHttpResponse"],i);const r=f(n,["candidates"]);if(r!=null){let h=r;Array.isArray(h)&&(h=h.map(v=>g3(v))),g(t,["candidates"],h)}const a=f(n,["modelVersion"]);a!=null&&g(t,["modelVersion"],a);const u=f(n,["promptFeedback"]);u!=null&&g(t,["promptFeedback"],u);const d=f(n,["responseId"]);d!=null&&g(t,["responseId"],d);const p=f(n,["usageMetadata"]);return p!=null&&g(t,["usageMetadata"],p),t}function HS(n,e){const t={},i=f(n,["sdkHttpResponse"]);i!=null&&g(t,["sdkHttpResponse"],i);const r=f(n,["candidates"]);if(r!=null){let v=r;Array.isArray(v)&&(v=v.map(E=>E)),g(t,["candidates"],v)}const a=f(n,["createTime"]);a!=null&&g(t,["createTime"],a);const u=f(n,["modelVersion"]);u!=null&&g(t,["modelVersion"],u);const d=f(n,["promptFeedback"]);d!=null&&g(t,["promptFeedback"],d);const p=f(n,["responseId"]);p!=null&&g(t,["responseId"],p);const h=f(n,["usageMetadata"]);return h!=null&&g(t,["usageMetadata"],h),t}function Y3(n,e,t){const i={};if(f(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(f(n,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=f(n,["numberOfImages"]);e!==void 0&&r!=null&&g(e,["parameters","sampleCount"],r);const a=f(n,["aspectRatio"]);e!==void 0&&a!=null&&g(e,["parameters","aspectRatio"],a);const u=f(n,["guidanceScale"]);if(e!==void 0&&u!=null&&g(e,["parameters","guidanceScale"],u),f(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const d=f(n,["safetyFilterLevel"]);e!==void 0&&d!=null&&g(e,["parameters","safetySetting"],d);const p=f(n,["personGeneration"]);e!==void 0&&p!=null&&g(e,["parameters","personGeneration"],p);const h=f(n,["includeSafetyAttributes"]);e!==void 0&&h!=null&&g(e,["parameters","includeSafetyAttributes"],h);const v=f(n,["includeRaiReason"]);e!==void 0&&v!=null&&g(e,["parameters","includeRaiReason"],v);const E=f(n,["language"]);e!==void 0&&E!=null&&g(e,["parameters","language"],E);const T=f(n,["outputMimeType"]);e!==void 0&&T!=null&&g(e,["parameters","outputOptions","mimeType"],T);const A=f(n,["outputCompressionQuality"]);if(e!==void 0&&A!=null&&g(e,["parameters","outputOptions","compressionQuality"],A),f(n,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(f(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const M=f(n,["imageSize"]);if(e!==void 0&&M!=null&&g(e,["parameters","sampleImageSize"],M),f(n,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return i}function W3(n,e,t){const i={},r=f(n,["outputGcsUri"]);e!==void 0&&r!=null&&g(e,["parameters","storageUri"],r);const a=f(n,["negativePrompt"]);e!==void 0&&a!=null&&g(e,["parameters","negativePrompt"],a);const u=f(n,["numberOfImages"]);e!==void 0&&u!=null&&g(e,["parameters","sampleCount"],u);const d=f(n,["aspectRatio"]);e!==void 0&&d!=null&&g(e,["parameters","aspectRatio"],d);const p=f(n,["guidanceScale"]);e!==void 0&&p!=null&&g(e,["parameters","guidanceScale"],p);const h=f(n,["seed"]);e!==void 0&&h!=null&&g(e,["parameters","seed"],h);const v=f(n,["safetyFilterLevel"]);e!==void 0&&v!=null&&g(e,["parameters","safetySetting"],v);const E=f(n,["personGeneration"]);e!==void 0&&E!=null&&g(e,["parameters","personGeneration"],E);const T=f(n,["includeSafetyAttributes"]);e!==void 0&&T!=null&&g(e,["parameters","includeSafetyAttributes"],T);const A=f(n,["includeRaiReason"]);e!==void 0&&A!=null&&g(e,["parameters","includeRaiReason"],A);const M=f(n,["language"]);e!==void 0&&M!=null&&g(e,["parameters","language"],M);const V=f(n,["outputMimeType"]);e!==void 0&&V!=null&&g(e,["parameters","outputOptions","mimeType"],V);const w=f(n,["outputCompressionQuality"]);e!==void 0&&w!=null&&g(e,["parameters","outputOptions","compressionQuality"],w);const z=f(n,["addWatermark"]);e!==void 0&&z!=null&&g(e,["parameters","addWatermark"],z);const G=f(n,["labels"]);e!==void 0&&G!=null&&g(e,["labels"],G);const q=f(n,["imageSize"]);e!==void 0&&q!=null&&g(e,["parameters","sampleImageSize"],q);const W=f(n,["enhancePrompt"]);return e!==void 0&&W!=null&&g(e,["parameters","enhancePrompt"],W),i}function Q3(n,e,t){const i={},r=f(e,["model"]);r!=null&&g(i,["_url","model"],nt(n,r));const a=f(e,["prompt"]);a!=null&&g(i,["instances[0]","prompt"],a);const u=f(e,["config"]);return u!=null&&Y3(u,i),i}function X3(n,e,t){const i={},r=f(e,["model"]);r!=null&&g(i,["_url","model"],nt(n,r));const a=f(e,["prompt"]);a!=null&&g(i,["instances[0]","prompt"],a);const u=f(e,["config"]);return u!=null&&W3(u,i),i}function Z3(n,e){const t={},i=f(n,["sdkHttpResponse"]);i!=null&&g(t,["sdkHttpResponse"],i);const r=f(n,["predictions"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(d=>d9(d))),g(t,["generatedImages"],u)}const a=f(n,["positivePromptSafetyAttributes"]);return a!=null&&g(t,["positivePromptSafetyAttributes"],zC(a)),t}function e9(n,e){const t={},i=f(n,["sdkHttpResponse"]);i!=null&&g(t,["sdkHttpResponse"],i);const r=f(n,["predictions"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(d=>Ch(d))),g(t,["generatedImages"],u)}const a=f(n,["positivePromptSafetyAttributes"]);return a!=null&&g(t,["positivePromptSafetyAttributes"],FC(a)),t}function t9(n,e,t){const i={},r=f(n,["numberOfVideos"]);if(e!==void 0&&r!=null&&g(e,["parameters","sampleCount"],r),f(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(f(n,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const a=f(n,["durationSeconds"]);if(e!==void 0&&a!=null&&g(e,["parameters","durationSeconds"],a),f(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const u=f(n,["aspectRatio"]);e!==void 0&&u!=null&&g(e,["parameters","aspectRatio"],u);const d=f(n,["resolution"]);e!==void 0&&d!=null&&g(e,["parameters","resolution"],d);const p=f(n,["personGeneration"]);if(e!==void 0&&p!=null&&g(e,["parameters","personGeneration"],p),f(n,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const h=f(n,["negativePrompt"]);e!==void 0&&h!=null&&g(e,["parameters","negativePrompt"],h);const v=f(n,["enhancePrompt"]);if(e!==void 0&&v!=null&&g(e,["parameters","enhancePrompt"],v),f(n,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const E=f(n,["lastFrame"]);e!==void 0&&E!=null&&g(e,["instances[0]","lastFrame"],wh(E));const T=f(n,["referenceImages"]);if(e!==void 0&&T!=null){let A=T;Array.isArray(A)&&(A=A.map(M=>iz(M))),g(e,["instances[0]","referenceImages"],A)}if(f(n,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(f(n,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return i}function n9(n,e,t){const i={},r=f(n,["numberOfVideos"]);e!==void 0&&r!=null&&g(e,["parameters","sampleCount"],r);const a=f(n,["outputGcsUri"]);e!==void 0&&a!=null&&g(e,["parameters","storageUri"],a);const u=f(n,["fps"]);e!==void 0&&u!=null&&g(e,["parameters","fps"],u);const d=f(n,["durationSeconds"]);e!==void 0&&d!=null&&g(e,["parameters","durationSeconds"],d);const p=f(n,["seed"]);e!==void 0&&p!=null&&g(e,["parameters","seed"],p);const h=f(n,["aspectRatio"]);e!==void 0&&h!=null&&g(e,["parameters","aspectRatio"],h);const v=f(n,["resolution"]);e!==void 0&&v!=null&&g(e,["parameters","resolution"],v);const E=f(n,["personGeneration"]);e!==void 0&&E!=null&&g(e,["parameters","personGeneration"],E);const T=f(n,["pubsubTopic"]);e!==void 0&&T!=null&&g(e,["parameters","pubsubTopic"],T);const A=f(n,["negativePrompt"]);e!==void 0&&A!=null&&g(e,["parameters","negativePrompt"],A);const M=f(n,["enhancePrompt"]);e!==void 0&&M!=null&&g(e,["parameters","enhancePrompt"],M);const V=f(n,["generateAudio"]);e!==void 0&&V!=null&&g(e,["parameters","generateAudio"],V);const w=f(n,["lastFrame"]);e!==void 0&&w!=null&&g(e,["instances[0]","lastFrame"],Pi(w));const z=f(n,["referenceImages"]);if(e!==void 0&&z!=null){let W=z;Array.isArray(W)&&(W=W.map(B=>sz(B))),g(e,["instances[0]","referenceImages"],W)}const G=f(n,["mask"]);e!==void 0&&G!=null&&g(e,["instances[0]","mask"],nz(G));const q=f(n,["compressionQuality"]);return e!==void 0&&q!=null&&g(e,["parameters","compressionQuality"],q),i}function i9(n,e){const t={},i=f(n,["name"]);i!=null&&g(t,["name"],i);const r=f(n,["metadata"]);r!=null&&g(t,["metadata"],r);const a=f(n,["done"]);a!=null&&g(t,["done"],a);const u=f(n,["error"]);u!=null&&g(t,["error"],u);const d=f(n,["response","generateVideoResponse"]);return d!=null&&g(t,["response"],a9(d)),t}function s9(n,e){const t={},i=f(n,["name"]);i!=null&&g(t,["name"],i);const r=f(n,["metadata"]);r!=null&&g(t,["metadata"],r);const a=f(n,["done"]);a!=null&&g(t,["done"],a);const u=f(n,["error"]);u!=null&&g(t,["error"],u);const d=f(n,["response"]);return d!=null&&g(t,["response"],l9(d)),t}function r9(n,e,t){const i={},r=f(e,["model"]);r!=null&&g(i,["_url","model"],nt(n,r));const a=f(e,["prompt"]);a!=null&&g(i,["instances[0]","prompt"],a);const u=f(e,["image"]);u!=null&&g(i,["instances[0]","image"],wh(u));const d=f(e,["video"]);d!=null&&g(i,["instances[0]","video"],qC(d));const p=f(e,["source"]);p!=null&&u9(p,i);const h=f(e,["config"]);return h!=null&&t9(h,i),i}function o9(n,e,t){const i={},r=f(e,["model"]);r!=null&&g(i,["_url","model"],nt(n,r));const a=f(e,["prompt"]);a!=null&&g(i,["instances[0]","prompt"],a);const u=f(e,["image"]);u!=null&&g(i,["instances[0]","image"],Pi(u));const d=f(e,["video"]);d!=null&&g(i,["instances[0]","video"],HC(d));const p=f(e,["source"]);p!=null&&c9(p,i);const h=f(e,["config"]);return h!=null&&n9(h,i),i}function a9(n,e){const t={},i=f(n,["generatedSamples"]);if(i!=null){let u=i;Array.isArray(u)&&(u=u.map(d=>h9(d))),g(t,["generatedVideos"],u)}const r=f(n,["raiMediaFilteredCount"]);r!=null&&g(t,["raiMediaFilteredCount"],r);const a=f(n,["raiMediaFilteredReasons"]);return a!=null&&g(t,["raiMediaFilteredReasons"],a),t}function l9(n,e){const t={},i=f(n,["videos"]);if(i!=null){let u=i;Array.isArray(u)&&(u=u.map(d=>p9(d))),g(t,["generatedVideos"],u)}const r=f(n,["raiMediaFilteredCount"]);r!=null&&g(t,["raiMediaFilteredCount"],r);const a=f(n,["raiMediaFilteredReasons"]);return a!=null&&g(t,["raiMediaFilteredReasons"],a),t}function u9(n,e,t){const i={},r=f(n,["prompt"]);e!==void 0&&r!=null&&g(e,["instances[0]","prompt"],r);const a=f(n,["image"]);e!==void 0&&a!=null&&g(e,["instances[0]","image"],wh(a));const u=f(n,["video"]);return e!==void 0&&u!=null&&g(e,["instances[0]","video"],qC(u)),i}function c9(n,e,t){const i={},r=f(n,["prompt"]);e!==void 0&&r!=null&&g(e,["instances[0]","prompt"],r);const a=f(n,["image"]);e!==void 0&&a!=null&&g(e,["instances[0]","image"],Pi(a));const u=f(n,["video"]);return e!==void 0&&u!=null&&g(e,["instances[0]","video"],HC(u)),i}function d9(n,e){const t={},i=f(n,["_self"]);i!=null&&g(t,["image"],T9(i));const r=f(n,["raiFilteredReason"]);r!=null&&g(t,["raiFilteredReason"],r);const a=f(n,["_self"]);return a!=null&&g(t,["safetyAttributes"],zC(a)),t}function Ch(n,e){const t={},i=f(n,["_self"]);i!=null&&g(t,["image"],OC(i));const r=f(n,["raiFilteredReason"]);r!=null&&g(t,["raiFilteredReason"],r);const a=f(n,["_self"]);a!=null&&g(t,["safetyAttributes"],FC(a));const u=f(n,["prompt"]);return u!=null&&g(t,["enhancedPrompt"],u),t}function f9(n,e){const t={},i=f(n,["_self"]);i!=null&&g(t,["mask"],OC(i));const r=f(n,["labels"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(u=>u)),g(t,["labels"],a)}return t}function h9(n,e){const t={},i=f(n,["video"]);return i!=null&&g(t,["video"],ez(i)),t}function p9(n,e){const t={},i=f(n,["_self"]);return i!=null&&g(t,["video"],tz(i)),t}function m9(n,e){const t={},i=f(n,["modelSelectionConfig"]);i!=null&&g(t,["modelConfig"],i);const r=f(n,["responseJsonSchema"]);r!=null&&g(t,["responseJsonSchema"],r);const a=f(n,["audioTimestamp"]);a!=null&&g(t,["audioTimestamp"],a);const u=f(n,["candidateCount"]);u!=null&&g(t,["candidateCount"],u);const d=f(n,["enableAffectiveDialog"]);d!=null&&g(t,["enableAffectiveDialog"],d);const p=f(n,["frequencyPenalty"]);p!=null&&g(t,["frequencyPenalty"],p);const h=f(n,["logprobs"]);h!=null&&g(t,["logprobs"],h);const v=f(n,["maxOutputTokens"]);v!=null&&g(t,["maxOutputTokens"],v);const E=f(n,["mediaResolution"]);E!=null&&g(t,["mediaResolution"],E);const T=f(n,["presencePenalty"]);T!=null&&g(t,["presencePenalty"],T);const A=f(n,["responseLogprobs"]);A!=null&&g(t,["responseLogprobs"],A);const M=f(n,["responseMimeType"]);M!=null&&g(t,["responseMimeType"],M);const V=f(n,["responseModalities"]);V!=null&&g(t,["responseModalities"],V);const w=f(n,["responseSchema"]);w!=null&&g(t,["responseSchema"],w);const z=f(n,["routingConfig"]);z!=null&&g(t,["routingConfig"],z);const G=f(n,["seed"]);G!=null&&g(t,["seed"],G);const q=f(n,["speechConfig"]);q!=null&&g(t,["speechConfig"],q);const W=f(n,["stopSequences"]);W!=null&&g(t,["stopSequences"],W);const B=f(n,["temperature"]);B!=null&&g(t,["temperature"],B);const ae=f(n,["thinkingConfig"]);ae!=null&&g(t,["thinkingConfig"],ae);const U=f(n,["topK"]);U!=null&&g(t,["topK"],U);const L=f(n,["topP"]);if(L!=null&&g(t,["topP"],L),f(n,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function g9(n,e,t){const i={},r=f(e,["model"]);return r!=null&&g(i,["_url","name"],nt(n,r)),i}function y9(n,e,t){const i={},r=f(e,["model"]);return r!=null&&g(i,["_url","name"],nt(n,r)),i}function v9(n,e){const t={};if(f(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const i=f(n,["enableWidget"]);return i!=null&&g(t,["enableWidget"],i),t}function _9(n,e){const t={};if(f(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(f(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const i=f(n,["timeRangeFilter"]);return i!=null&&g(t,["timeRangeFilter"],i),t}function x9(n,e){const t={},i=f(n,["aspectRatio"]);i!=null&&g(t,["aspectRatio"],i);const r=f(n,["imageSize"]);if(r!=null&&g(t,["imageSize"],r),f(n,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(f(n,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(f(n,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function E9(n,e){const t={},i=f(n,["aspectRatio"]);i!=null&&g(t,["aspectRatio"],i);const r=f(n,["imageSize"]);r!=null&&g(t,["imageSize"],r);const a=f(n,["personGeneration"]);a!=null&&g(t,["personGeneration"],a);const u=f(n,["outputMimeType"]);u!=null&&g(t,["imageOutputOptions","mimeType"],u);const d=f(n,["outputCompressionQuality"]);return d!=null&&g(t,["imageOutputOptions","compressionQuality"],d),t}function T9(n,e){const t={},i=f(n,["bytesBase64Encoded"]);i!=null&&g(t,["imageBytes"],Wr(i));const r=f(n,["mimeType"]);return r!=null&&g(t,["mimeType"],r),t}function OC(n,e){const t={},i=f(n,["gcsUri"]);i!=null&&g(t,["gcsUri"],i);const r=f(n,["bytesBase64Encoded"]);r!=null&&g(t,["imageBytes"],Wr(r));const a=f(n,["mimeType"]);return a!=null&&g(t,["mimeType"],a),t}function wh(n,e){const t={};if(f(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const i=f(n,["imageBytes"]);i!=null&&g(t,["bytesBase64Encoded"],Wr(i));const r=f(n,["mimeType"]);return r!=null&&g(t,["mimeType"],r),t}function Pi(n,e){const t={},i=f(n,["gcsUri"]);i!=null&&g(t,["gcsUri"],i);const r=f(n,["imageBytes"]);r!=null&&g(t,["bytesBase64Encoded"],Wr(r));const a=f(n,["mimeType"]);return a!=null&&g(t,["mimeType"],a),t}function S9(n,e,t,i){const r={},a=f(e,["pageSize"]);t!==void 0&&a!=null&&g(t,["_query","pageSize"],a);const u=f(e,["pageToken"]);t!==void 0&&u!=null&&g(t,["_query","pageToken"],u);const d=f(e,["filter"]);t!==void 0&&d!=null&&g(t,["_query","filter"],d);const p=f(e,["queryBase"]);return t!==void 0&&p!=null&&g(t,["_url","models_url"],MC(n,p)),r}function b9(n,e,t,i){const r={},a=f(e,["pageSize"]);t!==void 0&&a!=null&&g(t,["_query","pageSize"],a);const u=f(e,["pageToken"]);t!==void 0&&u!=null&&g(t,["_query","pageToken"],u);const d=f(e,["filter"]);t!==void 0&&d!=null&&g(t,["_query","filter"],d);const p=f(e,["queryBase"]);return t!==void 0&&p!=null&&g(t,["_url","models_url"],MC(n,p)),r}function A9(n,e,t){const i={},r=f(e,["config"]);return r!=null&&S9(n,r,i),i}function C9(n,e,t){const i={},r=f(e,["config"]);return r!=null&&b9(n,r,i),i}function w9(n,e){const t={},i=f(n,["sdkHttpResponse"]);i!=null&&g(t,["sdkHttpResponse"],i);const r=f(n,["nextPageToken"]);r!=null&&g(t,["nextPageToken"],r);const a=f(n,["_self"]);if(a!=null){let u=DC(a);Array.isArray(u)&&(u=u.map(d=>jg(d))),g(t,["models"],u)}return t}function I9(n,e){const t={},i=f(n,["sdkHttpResponse"]);i!=null&&g(t,["sdkHttpResponse"],i);const r=f(n,["nextPageToken"]);r!=null&&g(t,["nextPageToken"],r);const a=f(n,["_self"]);if(a!=null){let u=DC(a);Array.isArray(u)&&(u=u.map(d=>qg(d))),g(t,["models"],u)}return t}function N9(n,e){const t={},i=f(n,["maskMode"]);i!=null&&g(t,["maskMode"],i);const r=f(n,["segmentationClasses"]);r!=null&&g(t,["maskClasses"],r);const a=f(n,["maskDilation"]);return a!=null&&g(t,["dilation"],a),t}function jg(n,e){const t={},i=f(n,["name"]);i!=null&&g(t,["name"],i);const r=f(n,["displayName"]);r!=null&&g(t,["displayName"],r);const a=f(n,["description"]);a!=null&&g(t,["description"],a);const u=f(n,["version"]);u!=null&&g(t,["version"],u);const d=f(n,["_self"]);d!=null&&g(t,["tunedModelInfo"],B9(d));const p=f(n,["inputTokenLimit"]);p!=null&&g(t,["inputTokenLimit"],p);const h=f(n,["outputTokenLimit"]);h!=null&&g(t,["outputTokenLimit"],h);const v=f(n,["supportedGenerationMethods"]);v!=null&&g(t,["supportedActions"],v);const E=f(n,["temperature"]);E!=null&&g(t,["temperature"],E);const T=f(n,["maxTemperature"]);T!=null&&g(t,["maxTemperature"],T);const A=f(n,["topP"]);A!=null&&g(t,["topP"],A);const M=f(n,["topK"]);M!=null&&g(t,["topK"],M);const V=f(n,["thinking"]);return V!=null&&g(t,["thinking"],V),t}function qg(n,e){const t={},i=f(n,["name"]);i!=null&&g(t,["name"],i);const r=f(n,["displayName"]);r!=null&&g(t,["displayName"],r);const a=f(n,["description"]);a!=null&&g(t,["description"],a);const u=f(n,["versionId"]);u!=null&&g(t,["version"],u);const d=f(n,["deployedModels"]);if(d!=null){let T=d;Array.isArray(T)&&(T=T.map(A=>q3(A))),g(t,["endpoints"],T)}const p=f(n,["labels"]);p!=null&&g(t,["labels"],p);const h=f(n,["_self"]);h!=null&&g(t,["tunedModelInfo"],$9(h));const v=f(n,["defaultCheckpointId"]);v!=null&&g(t,["defaultCheckpointId"],v);const E=f(n,["checkpoints"]);if(E!=null){let T=E;Array.isArray(T)&&(T=T.map(A=>A)),g(t,["checkpoints"],T)}return t}function R9(n,e){const t={},i=f(n,["mediaResolution"]);i!=null&&g(t,["mediaResolution"],i);const r=f(n,["codeExecutionResult"]);r!=null&&g(t,["codeExecutionResult"],r);const a=f(n,["executableCode"]);a!=null&&g(t,["executableCode"],a);const u=f(n,["fileData"]);u!=null&&g(t,["fileData"],H3(u));const d=f(n,["functionCall"]);d!=null&&g(t,["functionCall"],G3(d));const p=f(n,["functionResponse"]);p!=null&&g(t,["functionResponse"],p);const h=f(n,["inlineData"]);h!=null&&g(t,["inlineData"],m3(h));const v=f(n,["text"]);v!=null&&g(t,["text"],v);const E=f(n,["thought"]);E!=null&&g(t,["thought"],E);const T=f(n,["thoughtSignature"]);T!=null&&g(t,["thoughtSignature"],T);const A=f(n,["videoMetadata"]);return A!=null&&g(t,["videoMetadata"],A),t}function M9(n,e){const t={},i=f(n,["productImage"]);return i!=null&&g(t,["image"],Pi(i)),t}function D9(n,e,t){const i={},r=f(n,["numberOfImages"]);e!==void 0&&r!=null&&g(e,["parameters","sampleCount"],r);const a=f(n,["baseSteps"]);e!==void 0&&a!=null&&g(e,["parameters","baseSteps"],a);const u=f(n,["outputGcsUri"]);e!==void 0&&u!=null&&g(e,["parameters","storageUri"],u);const d=f(n,["seed"]);e!==void 0&&d!=null&&g(e,["parameters","seed"],d);const p=f(n,["safetyFilterLevel"]);e!==void 0&&p!=null&&g(e,["parameters","safetySetting"],p);const h=f(n,["personGeneration"]);e!==void 0&&h!=null&&g(e,["parameters","personGeneration"],h);const v=f(n,["addWatermark"]);e!==void 0&&v!=null&&g(e,["parameters","addWatermark"],v);const E=f(n,["outputMimeType"]);e!==void 0&&E!=null&&g(e,["parameters","outputOptions","mimeType"],E);const T=f(n,["outputCompressionQuality"]);e!==void 0&&T!=null&&g(e,["parameters","outputOptions","compressionQuality"],T);const A=f(n,["enhancePrompt"]);e!==void 0&&A!=null&&g(e,["parameters","enhancePrompt"],A);const M=f(n,["labels"]);return e!==void 0&&M!=null&&g(e,["labels"],M),i}function k9(n,e,t){const i={},r=f(e,["model"]);r!=null&&g(i,["_url","model"],nt(n,r));const a=f(e,["source"]);a!=null&&L9(a,i);const u=f(e,["config"]);return u!=null&&D9(u,i),i}function P9(n,e){const t={},i=f(n,["predictions"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(a=>Ch(a))),g(t,["generatedImages"],r)}return t}function L9(n,e,t){const i={},r=f(n,["prompt"]);e!==void 0&&r!=null&&g(e,["instances[0]","prompt"],r);const a=f(n,["personImage"]);e!==void 0&&a!=null&&g(e,["instances[0]","personImage","image"],Pi(a));const u=f(n,["productImages"]);if(e!==void 0&&u!=null){let d=u;Array.isArray(d)&&(d=d.map(p=>M9(p))),g(e,["instances[0]","productImages"],d)}return i}function V9(n,e){const t={},i=f(n,["referenceImage"]);i!=null&&g(t,["referenceImage"],Pi(i));const r=f(n,["referenceId"]);r!=null&&g(t,["referenceId"],r);const a=f(n,["referenceType"]);a!=null&&g(t,["referenceType"],a);const u=f(n,["maskImageConfig"]);u!=null&&g(t,["maskImageConfig"],N9(u));const d=f(n,["controlImageConfig"]);d!=null&&g(t,["controlImageConfig"],T3(d));const p=f(n,["styleImageConfig"]);p!=null&&g(t,["styleImageConfig"],p);const h=f(n,["subjectImageConfig"]);return h!=null&&g(t,["subjectImageConfig"],h),t}function zC(n,e){const t={},i=f(n,["safetyAttributes","categories"]);i!=null&&g(t,["categories"],i);const r=f(n,["safetyAttributes","scores"]);r!=null&&g(t,["scores"],r);const a=f(n,["contentType"]);return a!=null&&g(t,["contentType"],a),t}function FC(n,e){const t={},i=f(n,["safetyAttributes","categories"]);i!=null&&g(t,["categories"],i);const r=f(n,["safetyAttributes","scores"]);r!=null&&g(t,["scores"],r);const a=f(n,["contentType"]);return a!=null&&g(t,["contentType"],a),t}function U9(n,e){const t={},i=f(n,["category"]);if(i!=null&&g(t,["category"],i),f(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=f(n,["threshold"]);return r!=null&&g(t,["threshold"],r),t}function O9(n,e){const t={},i=f(n,["image"]);return i!=null&&g(t,["image"],Pi(i)),t}function z9(n,e,t){const i={},r=f(n,["mode"]);e!==void 0&&r!=null&&g(e,["parameters","mode"],r);const a=f(n,["maxPredictions"]);e!==void 0&&a!=null&&g(e,["parameters","maxPredictions"],a);const u=f(n,["confidenceThreshold"]);e!==void 0&&u!=null&&g(e,["parameters","confidenceThreshold"],u);const d=f(n,["maskDilation"]);e!==void 0&&d!=null&&g(e,["parameters","maskDilation"],d);const p=f(n,["binaryColorThreshold"]);e!==void 0&&p!=null&&g(e,["parameters","binaryColorThreshold"],p);const h=f(n,["labels"]);return e!==void 0&&h!=null&&g(e,["labels"],h),i}function F9(n,e,t){const i={},r=f(e,["model"]);r!=null&&g(i,["_url","model"],nt(n,r));const a=f(e,["source"]);a!=null&&q9(a,i);const u=f(e,["config"]);return u!=null&&z9(u,i),i}function j9(n,e){const t={},i=f(n,["predictions"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(a=>f9(a))),g(t,["generatedMasks"],r)}return t}function q9(n,e,t){const i={},r=f(n,["prompt"]);e!==void 0&&r!=null&&g(e,["instances[0]","prompt"],r);const a=f(n,["image"]);e!==void 0&&a!=null&&g(e,["instances[0]","image"],Pi(a));const u=f(n,["scribbleImage"]);return e!==void 0&&u!=null&&g(e,["instances[0]","scribble"],O9(u)),i}function H9(n,e){const t={},i=f(n,["retrievalConfig"]);i!=null&&g(t,["retrievalConfig"],i);const r=f(n,["functionCallingConfig"]);return r!=null&&g(t,["functionCallingConfig"],B3(r)),t}function G9(n,e){const t={};if(f(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=f(n,["computerUse"]);i!=null&&g(t,["computerUse"],i);const r=f(n,["fileSearch"]);r!=null&&g(t,["fileSearch"],r);const a=f(n,["codeExecution"]);if(a!=null&&g(t,["codeExecution"],a),f(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=f(n,["functionDeclarations"]);if(u!=null){let E=u;Array.isArray(E)&&(E=E.map(T=>T)),g(t,["functionDeclarations"],E)}const d=f(n,["googleMaps"]);d!=null&&g(t,["googleMaps"],v9(d));const p=f(n,["googleSearch"]);p!=null&&g(t,["googleSearch"],_9(p));const h=f(n,["googleSearchRetrieval"]);h!=null&&g(t,["googleSearchRetrieval"],h);const v=f(n,["urlContext"]);return v!=null&&g(t,["urlContext"],v),t}function jC(n,e){const t={},i=f(n,["retrieval"]);i!=null&&g(t,["retrieval"],i);const r=f(n,["computerUse"]);if(r!=null&&g(t,["computerUse"],r),f(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const a=f(n,["codeExecution"]);a!=null&&g(t,["codeExecution"],a);const u=f(n,["enterpriseWebSearch"]);u!=null&&g(t,["enterpriseWebSearch"],u);const d=f(n,["functionDeclarations"]);if(d!=null){let T=d;Array.isArray(T)&&(T=T.map(A=>$3(A))),g(t,["functionDeclarations"],T)}const p=f(n,["googleMaps"]);p!=null&&g(t,["googleMaps"],p);const h=f(n,["googleSearch"]);h!=null&&g(t,["googleSearch"],h);const v=f(n,["googleSearchRetrieval"]);v!=null&&g(t,["googleSearchRetrieval"],v);const E=f(n,["urlContext"]);return E!=null&&g(t,["urlContext"],E),t}function B9(n,e){const t={},i=f(n,["baseModel"]);i!=null&&g(t,["baseModel"],i);const r=f(n,["createTime"]);r!=null&&g(t,["createTime"],r);const a=f(n,["updateTime"]);return a!=null&&g(t,["updateTime"],a),t}function $9(n,e){const t={},i=f(n,["labels","google-vertex-llm-tuning-base-model-id"]);i!=null&&g(t,["baseModel"],i);const r=f(n,["createTime"]);r!=null&&g(t,["createTime"],r);const a=f(n,["updateTime"]);return a!=null&&g(t,["updateTime"],a),t}function J9(n,e,t){const i={},r=f(n,["displayName"]);e!==void 0&&r!=null&&g(e,["displayName"],r);const a=f(n,["description"]);e!==void 0&&a!=null&&g(e,["description"],a);const u=f(n,["defaultCheckpointId"]);return e!==void 0&&u!=null&&g(e,["defaultCheckpointId"],u),i}function K9(n,e,t){const i={},r=f(n,["displayName"]);e!==void 0&&r!=null&&g(e,["displayName"],r);const a=f(n,["description"]);e!==void 0&&a!=null&&g(e,["description"],a);const u=f(n,["defaultCheckpointId"]);return e!==void 0&&u!=null&&g(e,["defaultCheckpointId"],u),i}function Y9(n,e,t){const i={},r=f(e,["model"]);r!=null&&g(i,["_url","name"],nt(n,r));const a=f(e,["config"]);return a!=null&&J9(a,i),i}function W9(n,e,t){const i={},r=f(e,["model"]);r!=null&&g(i,["_url","model"],nt(n,r));const a=f(e,["config"]);return a!=null&&K9(a,i),i}function Q9(n,e,t){const i={},r=f(n,["outputGcsUri"]);e!==void 0&&r!=null&&g(e,["parameters","storageUri"],r);const a=f(n,["safetyFilterLevel"]);e!==void 0&&a!=null&&g(e,["parameters","safetySetting"],a);const u=f(n,["personGeneration"]);e!==void 0&&u!=null&&g(e,["parameters","personGeneration"],u);const d=f(n,["includeRaiReason"]);e!==void 0&&d!=null&&g(e,["parameters","includeRaiReason"],d);const p=f(n,["outputMimeType"]);e!==void 0&&p!=null&&g(e,["parameters","outputOptions","mimeType"],p);const h=f(n,["outputCompressionQuality"]);e!==void 0&&h!=null&&g(e,["parameters","outputOptions","compressionQuality"],h);const v=f(n,["enhanceInputImage"]);e!==void 0&&v!=null&&g(e,["parameters","upscaleConfig","enhanceInputImage"],v);const E=f(n,["imagePreservationFactor"]);e!==void 0&&E!=null&&g(e,["parameters","upscaleConfig","imagePreservationFactor"],E);const T=f(n,["labels"]);e!==void 0&&T!=null&&g(e,["labels"],T);const A=f(n,["numberOfImages"]);e!==void 0&&A!=null&&g(e,["parameters","sampleCount"],A);const M=f(n,["mode"]);return e!==void 0&&M!=null&&g(e,["parameters","mode"],M),i}function X9(n,e,t){const i={},r=f(e,["model"]);r!=null&&g(i,["_url","model"],nt(n,r));const a=f(e,["image"]);a!=null&&g(i,["instances[0]","image"],Pi(a));const u=f(e,["upscaleFactor"]);u!=null&&g(i,["parameters","upscaleConfig","upscaleFactor"],u);const d=f(e,["config"]);return d!=null&&Q9(d,i),i}function Z9(n,e){const t={},i=f(n,["sdkHttpResponse"]);i!=null&&g(t,["sdkHttpResponse"],i);const r=f(n,["predictions"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(u=>Ch(u))),g(t,["generatedImages"],a)}return t}function ez(n,e){const t={},i=f(n,["uri"]);i!=null&&g(t,["uri"],i);const r=f(n,["encodedVideo"]);r!=null&&g(t,["videoBytes"],Wr(r));const a=f(n,["encoding"]);return a!=null&&g(t,["mimeType"],a),t}function tz(n,e){const t={},i=f(n,["gcsUri"]);i!=null&&g(t,["uri"],i);const r=f(n,["bytesBase64Encoded"]);r!=null&&g(t,["videoBytes"],Wr(r));const a=f(n,["mimeType"]);return a!=null&&g(t,["mimeType"],a),t}function nz(n,e){const t={},i=f(n,["image"]);i!=null&&g(t,["_self"],Pi(i));const r=f(n,["maskMode"]);return r!=null&&g(t,["maskMode"],r),t}function iz(n,e){const t={},i=f(n,["image"]);i!=null&&g(t,["image"],wh(i));const r=f(n,["referenceType"]);return r!=null&&g(t,["referenceType"],r),t}function sz(n,e){const t={},i=f(n,["image"]);i!=null&&g(t,["image"],Pi(i));const r=f(n,["referenceType"]);return r!=null&&g(t,["referenceType"],r),t}function qC(n,e){const t={},i=f(n,["uri"]);i!=null&&g(t,["uri"],i);const r=f(n,["videoBytes"]);r!=null&&g(t,["encodedVideo"],Wr(r));const a=f(n,["mimeType"]);return a!=null&&g(t,["encoding"],a),t}function HC(n,e){const t={},i=f(n,["uri"]);i!=null&&g(t,["gcsUri"],i);const r=f(n,["videoBytes"]);r!=null&&g(t,["bytesBase64Encoded"],Wr(r));const a=f(n,["mimeType"]);return a!=null&&g(t,["mimeType"],a),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function rz(n,e){const t={},i=f(n,["displayName"]);return e!==void 0&&i!=null&&g(e,["displayName"],i),t}function oz(n){const e={},t=f(n,["config"]);return t!=null&&rz(t,e),e}function az(n,e){const t={},i=f(n,["force"]);return e!==void 0&&i!=null&&g(e,["_query","force"],i),t}function lz(n){const e={},t=f(n,["name"]);t!=null&&g(e,["_url","name"],t);const i=f(n,["config"]);return i!=null&&az(i,e),e}function uz(n){const e={},t=f(n,["name"]);return t!=null&&g(e,["_url","name"],t),e}function cz(n,e){const t={},i=f(n,["customMetadata"]);if(e!==void 0&&i!=null){let a=i;Array.isArray(a)&&(a=a.map(u=>u)),g(e,["customMetadata"],a)}const r=f(n,["chunkingConfig"]);return e!==void 0&&r!=null&&g(e,["chunkingConfig"],r),t}function dz(n){const e={},t=f(n,["name"]);t!=null&&g(e,["name"],t);const i=f(n,["metadata"]);i!=null&&g(e,["metadata"],i);const r=f(n,["done"]);r!=null&&g(e,["done"],r);const a=f(n,["error"]);a!=null&&g(e,["error"],a);const u=f(n,["response"]);return u!=null&&g(e,["response"],hz(u)),e}function fz(n){const e={},t=f(n,["fileSearchStoreName"]);t!=null&&g(e,["_url","file_search_store_name"],t);const i=f(n,["fileName"]);i!=null&&g(e,["fileName"],i);const r=f(n,["config"]);return r!=null&&cz(r,e),e}function hz(n){const e={},t=f(n,["sdkHttpResponse"]);t!=null&&g(e,["sdkHttpResponse"],t);const i=f(n,["parent"]);i!=null&&g(e,["parent"],i);const r=f(n,["documentName"]);return r!=null&&g(e,["documentName"],r),e}function pz(n,e){const t={},i=f(n,["pageSize"]);e!==void 0&&i!=null&&g(e,["_query","pageSize"],i);const r=f(n,["pageToken"]);return e!==void 0&&r!=null&&g(e,["_query","pageToken"],r),t}function mz(n){const e={},t=f(n,["config"]);return t!=null&&pz(t,e),e}function gz(n){const e={},t=f(n,["sdkHttpResponse"]);t!=null&&g(e,["sdkHttpResponse"],t);const i=f(n,["nextPageToken"]);i!=null&&g(e,["nextPageToken"],i);const r=f(n,["fileSearchStores"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(u=>u)),g(e,["fileSearchStores"],a)}return e}function GC(n,e){const t={},i=f(n,["mimeType"]);e!==void 0&&i!=null&&g(e,["mimeType"],i);const r=f(n,["displayName"]);e!==void 0&&r!=null&&g(e,["displayName"],r);const a=f(n,["customMetadata"]);if(e!==void 0&&a!=null){let d=a;Array.isArray(d)&&(d=d.map(p=>p)),g(e,["customMetadata"],d)}const u=f(n,["chunkingConfig"]);return e!==void 0&&u!=null&&g(e,["chunkingConfig"],u),t}function yz(n){const e={},t=f(n,["fileSearchStoreName"]);t!=null&&g(e,["_url","file_search_store_name"],t);const i=f(n,["config"]);return i!=null&&GC(i,e),e}function vz(n){const e={},t=f(n,["sdkHttpResponse"]);return t!=null&&g(e,["sdkHttpResponse"],t),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const _z="Content-Type",xz="X-Server-Timeout",Ez="User-Agent",Hg="x-goog-api-client",Tz="1.39.0",Sz=`google-genai-sdk/${Tz}`,bz="v1beta1",Az="v1beta";class Cz{constructor(e){var t,i,r;this.clientOptions=Object.assign({},e),this.customBaseUrl=(t=e.httpOptions)===null||t===void 0?void 0:t.baseUrl,this.clientOptions.vertexai&&(this.clientOptions.project&&this.clientOptions.location?this.clientOptions.apiKey=void 0:this.clientOptions.apiKey&&(this.clientOptions.project=void 0,this.clientOptions.location=void 0));const a={};if(this.clientOptions.vertexai){if(!this.clientOptions.location&&!this.clientOptions.apiKey&&!this.customBaseUrl&&(this.clientOptions.location="global"),!(this.clientOptions.project&&this.clientOptions.location||this.clientOptions.apiKey)&&!this.customBaseUrl)throw new Error("Authentication is not set up. Please provide either a project and location, or an API key, or a custom base URL.");const d=e.project&&e.location||!!e.apiKey;this.customBaseUrl&&!d?(a.baseUrl=this.customBaseUrl,this.clientOptions.project=void 0,this.clientOptions.location=void 0):this.clientOptions.apiKey||this.clientOptions.location==="global"?a.baseUrl="https://aiplatform.googleapis.com/":this.clientOptions.project&&this.clientOptions.location&&(a.baseUrl=`https://${this.clientOptions.location}-aiplatform.googleapis.com/`),a.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:bz}else{if(!this.clientOptions.apiKey)throw new Qu({message:"API key must be set when using the Gemini API.",status:403});a.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:Az,a.baseUrl="https://generativelanguage.googleapis.com/"}a.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=a,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(a,e.httpOptions))}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getCustomBaseUrl(){return this.customBaseUrl}async getAuthHeaders(){const e=new Headers;return await this.clientOptions.auth.addAuthHeaders(e),e}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const i=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&i.push(e.apiVersion),i.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),t=new URL(e);return t.protocol=t.protocol=="http:"?"ws":"wss",t.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,t,i){const r=[this.getRequestUrlInternal(t)];return i&&r.push(this.getBaseResourcePath()),e!==""&&r.push(e),new URL(`${r.join("/")}`)}shouldPrependVertexProjectPath(e,t){return!(t.baseUrl&&t.baseUrlResourceScope===Ug.COLLECTION||this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let t=this.clientOptions.httpOptions;e.httpOptions&&(t=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const i=this.shouldPrependVertexProjectPath(e,t),r=this.constructUrl(e.path,t,i);if(e.queryParams)for(const[u,d]of Object.entries(e.queryParams))r.searchParams.append(u,String(d));let a={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else a.body=e.body;return a=await this.includeExtraHttpOptionsToRequestInit(a,t,r.toString(),e.abortSignal),this.unaryApiCall(r,a,e.httpMethod)}patchHttpOptions(e,t){const i=JSON.parse(JSON.stringify(e));for(const[r,a]of Object.entries(t))typeof a=="object"?i[r]=Object.assign(Object.assign({},i[r]),a):a!==void 0&&(i[r]=a);return i}async requestStream(e){let t=this.clientOptions.httpOptions;e.httpOptions&&(t=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const i=this.shouldPrependVertexProjectPath(e,t),r=this.constructUrl(e.path,t,i);(!r.searchParams.has("alt")||r.searchParams.get("alt")!=="sse")&&r.searchParams.set("alt","sse");let a={};return a.body=e.body,a=await this.includeExtraHttpOptionsToRequestInit(a,t,r.toString(),e.abortSignal),this.streamApiCall(r,a,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,t,i,r){if(t&&t.timeout||r){const a=new AbortController,u=a.signal;if(t.timeout&&(t==null?void 0:t.timeout)>0){const d=setTimeout(()=>a.abort(),t.timeout);d&&typeof d.unref=="function"&&d.unref()}r&&r.addEventListener("abort",()=>{a.abort()}),e.signal=u}return t&&t.extraBody!==null&&wz(e,t.extraBody),e.headers=await this.getHeadersInternal(t,i),e}async unaryApiCall(e,t,i){return this.apiCall(e.toString(),Object.assign(Object.assign({},t),{method:i})).then(async r=>(await GS(r),new Og(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}async streamApiCall(e,t,i){return this.apiCall(e.toString(),Object.assign(Object.assign({},t),{method:i})).then(async r=>(await GS(r),this.processStreamResponse(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}processStreamResponse(e){return Ni(this,arguments,function*(){var i;const r=(i=e==null?void 0:e.body)===null||i===void 0?void 0:i.getReader(),a=new TextDecoder("utf-8");if(!r)throw new Error("Response body is empty");try{let u="";const d="data:",p=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:h,value:v}=yield Pe(r.read());if(h){if(u.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const E=a.decode(v,{stream:!0});try{const M=JSON.parse(E);if("error"in M){const V=JSON.parse(JSON.stringify(M.error)),w=V.status,z=V.code,G=`got status: ${w}. ${JSON.stringify(M)}`;if(z>=400&&z<600)throw new Qu({message:G,status:z})}}catch(M){if(M.name==="ApiError")throw M}u+=E;let T=-1,A=0;for(;;){T=-1,A=0;for(const w of p){const z=u.indexOf(w);z!==-1&&(T===-1||z<T)&&(T=z,A=w.length)}if(T===-1)break;const M=u.substring(0,T);u=u.substring(T+A);const V=M.trim();if(V.startsWith(d)){const w=V.substring(d.length).trim();try{const z=new Response(w,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield Pe(new Og(z))}catch(z){throw new Error(`exception parsing stream chunk ${w}. ${z}`)}}}}}finally{r.releaseLock()}})}async apiCall(e,t){return fetch(e,t).catch(i=>{throw new Error(`exception ${i} sending request`)})}getDefaultHeaders(){const e={},t=Sz+" "+this.clientOptions.userAgentExtra;return e[Ez]=t,e[Hg]=t,e[_z]="application/json",e}async getHeadersInternal(e,t){const i=new Headers;if(e&&e.headers){for(const[r,a]of Object.entries(e.headers))i.append(r,a);e.timeout&&e.timeout>0&&i.append(xz,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(i,t),i}getFileName(e){var t;let i="";return typeof e=="string"&&(i=e.replace(/[/\\]+$/,""),i=(t=i.split(/[/\\]/).pop())!==null&&t!==void 0?t:""),i}async uploadFile(e,t){var i;const r={};t!=null&&(r.mimeType=t.mimeType,r.name=t.name,r.displayName=t.displayName),r.name&&!r.name.startsWith("files/")&&(r.name=`files/${r.name}`);const a=this.clientOptions.uploader,u=await a.stat(e);r.sizeBytes=String(u.size);const d=(i=t==null?void 0:t.mimeType)!==null&&i!==void 0?i:u.type;if(d===void 0||d==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");r.mimeType=d;const p={file:r},h=this.getFileName(e),v=xe("upload/v1beta/files",p._url),E=await this.fetchUploadUrl(v,r.sizeBytes,r.mimeType,h,p,t==null?void 0:t.httpOptions);return a.upload(e,E,this)}async uploadFileToFileSearchStore(e,t,i){var r;const a=this.clientOptions.uploader,u=await a.stat(t),d=String(u.size),p=(r=i==null?void 0:i.mimeType)!==null&&r!==void 0?r:u.type;if(p===void 0||p==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const h=`upload/v1beta/${e}:uploadToFileSearchStore`,v=this.getFileName(t),E={};i!=null&&GC(i,E);const T=await this.fetchUploadUrl(h,d,p,v,E,i==null?void 0:i.httpOptions);return a.uploadToFileSearchStore(t,T,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,t,i,r,a,u){var d;let p={};u?p=u:p={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${t}`,"X-Goog-Upload-Header-Content-Type":`${i}`},r?{"X-Goog-Upload-File-Name":r}:{})};const h=await this.request({path:e,body:JSON.stringify(a),httpMethod:"POST",httpOptions:p});if(!h||!(h!=null&&h.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const v=(d=h==null?void 0:h.headers)===null||d===void 0?void 0:d["x-goog-upload-url"];if(v===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return v}}async function GS(n){var e;if(n===void 0)throw new Error("response is undefined");if(!n.ok){const t=n.status;let i;!((e=n.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?i=await n.json():i={error:{message:await n.text(),code:n.status,status:n.statusText}};const r=JSON.stringify(i);throw t>=400&&t<600?new Qu({message:r,status:t}):new Error(r)}}function wz(n,e){if(!e||Object.keys(e).length===0)return;if(n.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let t={};if(typeof n.body=="string"&&n.body.length>0)try{const a=JSON.parse(n.body);if(typeof a=="object"&&a!==null&&!Array.isArray(a))t=a;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function i(a,u){const d=Object.assign({},a);for(const p in u)if(Object.prototype.hasOwnProperty.call(u,p)){const h=u[p],v=d[p];h&&typeof h=="object"&&!Array.isArray(h)&&v&&typeof v=="object"&&!Array.isArray(v)?d[p]=i(v,h):(v&&h&&typeof v!=typeof h&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${p}". Original type: ${typeof v}, New type: ${typeof h}. Overwriting.`),d[p]=h)}return d}const r=i(t,e);n.body=JSON.stringify(r)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Iz="mcp_used/unknown";let Nz=!1;function BC(n){for(const e of n)if(Rz(e)||typeof e=="object"&&"inputSchema"in e)return!0;return Nz}function $C(n){var e;const t=(e=n[Hg])!==null&&e!==void 0?e:"";n[Hg]=(t+` ${Iz}`).trimStart()}function Rz(n){return n!==null&&typeof n=="object"&&n instanceof r0}function Mz(n){return Ni(this,arguments,function*(t,i=100){let r,a=0;for(;a<i;){const u=yield Pe(t.listTools({cursor:r}));for(const d of u.tools)yield yield Pe(d),a++;if(!u.nextCursor)break;r=u.nextCursor}})}class r0{constructor(e=[],t){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=t}static create(e,t){return new r0(e,t)}async initialize(){var e,t,i,r;if(this.mcpTools.length>0)return;const a={},u=[];for(const v of this.mcpClients)try{for(var d=!0,p=(t=void 0,Ri(Mz(v))),h;h=await p.next(),e=h.done,!e;d=!0){r=h.value,d=!1;const E=r;u.push(E);const T=E.name;if(a[T])throw new Error(`Duplicate function name ${T} found in MCP tools. Please ensure function names are unique.`);a[T]=v}}catch(E){t={error:E}}finally{try{!d&&!e&&(i=p.return)&&await i.call(p)}finally{if(t)throw t.error}}this.mcpTools=u,this.functionNameToMcpClient=a}async tool(){return await this.initialize(),o6(this.mcpTools,this.config)}async callTool(e){await this.initialize();const t=[];for(const i of e)if(i.name in this.functionNameToMcpClient){const r=this.functionNameToMcpClient[i.name];let a;this.config.timeout&&(a={timeout:this.config.timeout});const u=await r.callTool({name:i.name,arguments:i.args},void 0,a);t.push({functionResponse:{name:i.name,response:u.isError?{error:u}:u}})}return t}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function Dz(n,e,t){const i=new X5;let r;t.data instanceof Blob?r=JSON.parse(await t.data.text()):r=JSON.parse(t.data),Object.assign(i,r),e(i)}class kz{constructor(e,t,i){this.apiClient=e,this.auth=t,this.webSocketFactory=i}async connect(e){var t,i;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const r=this.apiClient.getWebsocketBaseUrl(),a=this.apiClient.getApiVersion(),u=Vz(this.apiClient.getDefaultHeaders()),d=this.apiClient.getApiKey(),p=`${r}/ws/google.ai.generativelanguage.${a}.GenerativeService.BidiGenerateMusic?key=${d}`;let h=()=>{};const v=new Promise(q=>{h=q}),E=e.callbacks,T=function(){h({})},A=this.apiClient,M={onopen:T,onmessage:q=>{Dz(A,E.onmessage,q)},onerror:(t=E==null?void 0:E.onerror)!==null&&t!==void 0?t:function(q){},onclose:(i=E==null?void 0:E.onclose)!==null&&i!==void 0?i:function(q){}},V=this.webSocketFactory.create(p,Lz(u),M);V.connect(),await v;const G={setup:{model:nt(this.apiClient,e.model)}};return V.send(JSON.stringify(G)),new Pz(V,this.apiClient)}}class Pz{constructor(e,t){this.conn=e,this.apiClient=t}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const t=r3(e);this.conn.send(JSON.stringify({clientContent:t}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const t=s3(e);this.conn.send(JSON.stringify(t))}sendPlaybackControl(e){const t={playbackControl:e};this.conn.send(JSON.stringify(t))}play(){this.sendPlaybackControl(za.PLAY)}pause(){this.sendPlaybackControl(za.PAUSE)}stop(){this.sendPlaybackControl(za.STOP)}resetContext(){this.sendPlaybackControl(za.RESET_CONTEXT)}close(){this.conn.close()}}function Lz(n){const e={};return n.forEach((t,i)=>{e[i]=t}),e}function Vz(n){const e=new Headers;for(const[t,i]of Object.entries(n))e.append(t,i);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Uz="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function Oz(n,e,t){const i=new Q5;let r;t.data instanceof Blob?r=await t.data.text():t.data instanceof ArrayBuffer?r=new TextDecoder().decode(t.data):r=t.data;const a=JSON.parse(r);if(n.isVertexAI()){const u=l3(a);Object.assign(i,u)}else Object.assign(i,a);e(i)}class zz{constructor(e,t,i){this.apiClient=e,this.auth=t,this.webSocketFactory=i,this.music=new kz(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var t,i,r,a,u,d;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const p=this.apiClient.getWebsocketBaseUrl(),h=this.apiClient.getApiVersion();let v;const E=this.apiClient.getHeaders();e.config&&e.config.tools&&BC(e.config.tools)&&$C(E);const T=Hz(E);if(this.apiClient.isVertexAI()){const P=this.apiClient.getProject(),I=this.apiClient.getLocation(),N=this.apiClient.getApiKey(),D=!!P&&!!I||!!N;this.apiClient.getCustomBaseUrl()&&!D?v=p:(v=`${p}/ws/google.cloud.aiplatform.${h}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(T,v))}else{const P=this.apiClient.getApiKey();let I="BidiGenerateContent",N="key";P!=null&&P.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),h!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),I="BidiGenerateContentConstrained",N="access_token"),v=`${p}/ws/google.ai.generativelanguage.${h}.GenerativeService.${I}?${N}=${P}`}let A=()=>{};const M=new Promise(P=>{A=P}),V=e.callbacks,w=function(){var P;(P=V==null?void 0:V.onopen)===null||P===void 0||P.call(V),A({})},z=this.apiClient,G={onopen:w,onmessage:P=>{Oz(z,V.onmessage,P)},onerror:(t=V==null?void 0:V.onerror)!==null&&t!==void 0?t:function(P){},onclose:(i=V==null?void 0:V.onclose)!==null&&i!==void 0?i:function(P){}},q=this.webSocketFactory.create(v,qz(T),G);q.connect(),await M;let W=nt(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&W.startsWith("publishers/")){const P=this.apiClient.getProject(),I=this.apiClient.getLocation();P&&I&&(W=`projects/${P}/locations/${I}/`+W)}let B={};this.apiClient.isVertexAI()&&((r=e.config)===null||r===void 0?void 0:r.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Jf.AUDIO]}:e.config.responseModalities=[Jf.AUDIO]),!((a=e.config)===null||a===void 0)&&a.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const ae=(d=(u=e.config)===null||u===void 0?void 0:u.tools)!==null&&d!==void 0?d:[],U=[];for(const P of ae)if(this.isCallableTool(P)){const I=P;U.push(await I.tool())}else U.push(P);U.length>0&&(e.config.tools=U);const L={model:W,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?B=i3(this.apiClient,L):B=n3(this.apiClient,L),delete B.config,q.send(JSON.stringify(B)),new jz(q,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const Fz={turnComplete:!0};class jz{constructor(e,t){this.conn=e,this.apiClient=t}tLiveClientContent(e,t){if(t.turns!==null&&t.turns!==void 0){let i=[];try{i=ai(t.turns),e.isVertexAI()||(i=i.map(r=>Ah(r)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof t.turns}'`)}return{clientContent:{turns:i,turnComplete:t.turnComplete}}}return{clientContent:{turnComplete:t.turnComplete}}}tLiveClienttToolResponse(e,t){let i=[];if(t.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(t.functionResponses)?i=t.functionResponses:i=[t.functionResponses],i.length===0)throw new Error("functionResponses is required.");for(const a of i){if(typeof a!="object"||a===null||!("name"in a)||!("response"in a))throw new Error(`Could not parse function response, type '${typeof a}'.`);if(!e.isVertexAI()&&!("id"in a))throw new Error(Uz)}return{toolResponse:{functionResponses:i}}}sendClientContent(e){e=Object.assign(Object.assign({},Fz),e);const t=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(t))}sendRealtimeInput(e){let t={};this.apiClient.isVertexAI()?t={realtimeInput:a3(e)}:t={realtimeInput:o3(e)},this.conn.send(JSON.stringify(t))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const t=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(t))}close(){this.conn.close()}}function qz(n){const e={};return n.forEach((t,i)=>{e[i]=t}),e}function Hz(n){const e=new Headers;for(const[t,i]of Object.entries(n))e.append(t,i);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const BS=10;function $S(n){var e,t,i;if(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let r=!1;for(const u of(t=n==null?void 0:n.tools)!==null&&t!==void 0?t:[])if(Ya(u)){r=!0;break}if(!r)return!0;const a=(i=n==null?void 0:n.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls;return a&&(a<0||!Number.isInteger(a))||a==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",a),!0):!1}function Ya(n){return"callTool"in n&&typeof n.callTool=="function"}function Gz(n){var e,t,i;return(i=(t=(e=n.config)===null||e===void 0?void 0:e.tools)===null||t===void 0?void 0:t.some(r=>Ya(r)))!==null&&i!==void 0?i:!1}function JS(n){var e;const t=[];return!((e=n==null?void 0:n.config)===null||e===void 0)&&e.tools&&n.config.tools.forEach((i,r)=>{if(Ya(i))return;const a=i;a.functionDeclarations&&a.functionDeclarations.length>0&&t.push(r)}),t}function KS(n){var e;return!(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Bz extends js{constructor(e){super(),this.apiClient=e,this.generateContent=async t=>{var i,r,a,u,d;const p=await this.processParamsMaybeAddMcpUsage(t);if(this.maybeMoveToResponseJsonSchem(t),!Gz(t)||$S(t.config))return await this.generateContentInternal(p);const h=JS(t);if(h.length>0){const V=h.map(w=>`tools[${w}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${V}.`)}let v,E;const T=ai(p.contents),A=(a=(r=(i=p.config)===null||i===void 0?void 0:i.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&a!==void 0?a:BS;let M=0;for(;M<A&&(v=await this.generateContentInternal(p),!(!v.functionCalls||v.functionCalls.length===0));){const V=v.candidates[0].content,w=[];for(const z of(d=(u=t.config)===null||u===void 0?void 0:u.tools)!==null&&d!==void 0?d:[])if(Ya(z)){const q=await z.callTool(v.functionCalls);w.push(...q)}M++,E={role:"user",parts:w},p.contents=ai(p.contents),p.contents.push(V),p.contents.push(E),KS(p.config)&&(T.push(V),T.push(E))}return KS(p.config)&&(v.automaticFunctionCallingHistory=T),v},this.generateContentStream=async t=>{var i,r,a,u,d;if(this.maybeMoveToResponseJsonSchem(t),$S(t.config)){const E=await this.processParamsMaybeAddMcpUsage(t);return await this.generateContentStreamInternal(E)}const p=JS(t);if(p.length>0){const E=p.map(T=>`tools[${T}]`).join(", ");throw new Error(`Incompatible tools found at ${E}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const h=(a=(r=(i=t==null?void 0:t.config)===null||i===void 0?void 0:i.toolConfig)===null||r===void 0?void 0:r.functionCallingConfig)===null||a===void 0?void 0:a.streamFunctionCallArguments,v=(d=(u=t==null?void 0:t.config)===null||u===void 0?void 0:u.automaticFunctionCalling)===null||d===void 0?void 0:d.disable;if(h&&!v)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(t)},this.generateImages=async t=>await this.generateImagesInternal(t).then(i=>{var r;let a;const u=[];if(i!=null&&i.generatedImages)for(const p of i.generatedImages)p&&(p!=null&&p.safetyAttributes)&&((r=p==null?void 0:p.safetyAttributes)===null||r===void 0?void 0:r.contentType)==="Positive Prompt"?a=p==null?void 0:p.safetyAttributes:u.push(p);let d;return a?d={generatedImages:u,positivePromptSafetyAttributes:a,sdkHttpResponse:i.sdkHttpResponse}:d={generatedImages:u,sdkHttpResponse:i.sdkHttpResponse},d}),this.list=async t=>{var i;const u={config:Object.assign(Object.assign({},{queryBase:!0}),t==null?void 0:t.config)};if(this.apiClient.isVertexAI()&&!u.config.queryBase){if(!((i=u.config)===null||i===void 0)&&i.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");u.config.filter="labels.tune-type:*"}return new Bo(zs.PAGED_ITEM_MODELS,d=>this.listInternal(d),await this.listInternal(u),u)},this.editImage=async t=>{const i={model:t.model,prompt:t.prompt,referenceImages:[],config:t.config};return t.referenceImages&&t.referenceImages&&(i.referenceImages=t.referenceImages.map(r=>r.toReferenceImageAPI())),await this.editImageInternal(i)},this.upscaleImage=async t=>{let i={numberOfImages:1,mode:"upscale"};t.config&&(i=Object.assign(Object.assign({},i),t.config));const r={model:t.model,image:t.image,upscaleFactor:t.upscaleFactor,config:i};return await this.upscaleImageInternal(r)},this.generateVideos=async t=>{var i,r,a,u,d,p;if((t.prompt||t.image||t.video)&&t.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((i=t.video)===null||i===void 0)&&i.uri&&(!((r=t.video)===null||r===void 0)&&r.videoBytes)?t.video={uri:t.video.uri,mimeType:t.video.mimeType}:!((u=(a=t.source)===null||a===void 0?void 0:a.video)===null||u===void 0)&&u.uri&&(!((p=(d=t.source)===null||d===void 0?void 0:d.video)===null||p===void 0)&&p.videoBytes)&&(t.source.video={uri:t.source.video.uri,mimeType:t.source.video.mimeType})),await this.generateVideosInternal(t)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var t,i,r;const a=(t=e.config)===null||t===void 0?void 0:t.tools;if(!a)return e;const u=await Promise.all(a.map(async p=>Ya(p)?await p.tool():p)),d={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:u})};if(d.config.tools=u,e.config&&e.config.tools&&BC(e.config.tools)){const p=(r=(i=e.config.httpOptions)===null||i===void 0?void 0:i.headers)!==null&&r!==void 0?r:{};let h=Object.assign({},p);Object.keys(h).length===0&&(h=this.apiClient.getDefaultHeaders()),$C(h),d.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:h})}return d}async initAfcToolsMap(e){var t,i,r;const a=new Map;for(const u of(i=(t=e.config)===null||t===void 0?void 0:t.tools)!==null&&i!==void 0?i:[])if(Ya(u)){const d=u,p=await d.tool();for(const h of(r=p.functionDeclarations)!==null&&r!==void 0?r:[]){if(!h.name)throw new Error("Function declaration name is required.");if(a.has(h.name))throw new Error(`Duplicate tool declaration name: ${h.name}`);a.set(h.name,d)}}return a}async processAfcStream(e){var t,i,r;const a=(r=(i=(t=e.config)===null||t===void 0?void 0:t.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&r!==void 0?r:BS;let u=!1,d=0;const p=await this.initAfcToolsMap(e);return(function(h,v,E){return Ni(this,arguments,function*(){for(var T,A,M,V,w,z;d<a;){u&&(d++,u=!1);const B=yield Pe(h.processParamsMaybeAddMcpUsage(E)),ae=yield Pe(h.generateContentStreamInternal(B)),U=[],L=[];try{for(var G=!0,q=(A=void 0,Ri(ae)),W;W=yield Pe(q.next()),T=W.done,!T;G=!0){V=W.value,G=!1;const P=V;if(yield yield Pe(P),P.candidates&&(!((w=P.candidates[0])===null||w===void 0)&&w.content)){L.push(P.candidates[0].content);for(const I of(z=P.candidates[0].content.parts)!==null&&z!==void 0?z:[])if(d<a&&I.functionCall){if(!I.functionCall.name)throw new Error("Function call name was not returned by the model.");if(v.has(I.functionCall.name)){const N=yield Pe(v.get(I.functionCall.name).callTool([I.functionCall]));U.push(...N)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${v.keys()}, mising tool: ${I.functionCall.name}`)}}}}catch(P){A={error:P}}finally{try{!G&&!T&&(M=q.return)&&(yield Pe(M.call(q)))}finally{if(A)throw A.error}}if(U.length>0){u=!0;const P=new Cu;P.candidates=[{content:{role:"user",parts:U}}],yield yield Pe(P);const I=[];I.push(...L),I.push({role:"user",parts:U});const N=ai(E.contents).concat(I);E.contents=N}else break}})})(this,p,e)}async generateContentInternal(e){var t,i,r,a;let u,d="",p={};if(this.apiClient.isVertexAI()){const h=jS(this.apiClient,e);return d=xe("{model}:generateContent",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:v.headers},T})),u.then(v=>{const E=HS(v),T=new Cu;return Object.assign(T,E),T})}else{const h=FS(this.apiClient,e);return d=xe("{model}:generateContent",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:v.headers},T})),u.then(v=>{const E=qS(v),T=new Cu;return Object.assign(T,E),T})}}async generateContentStreamInternal(e){var t,i,r,a;let u,d="",p={};if(this.apiClient.isVertexAI()){const h=jS(this.apiClient,e);return d=xe("{model}:streamGenerateContent?alt=sse",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.requestStream({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}),u.then(function(E){return Ni(this,arguments,function*(){var T,A,M,V;try{for(var w=!0,z=Ri(E),G;G=yield Pe(z.next()),T=G.done,!T;w=!0){V=G.value,w=!1;const q=V,W=HS(yield Pe(q.json()),e);W.sdkHttpResponse={headers:q.headers};const B=new Cu;Object.assign(B,W),yield yield Pe(B)}}catch(q){A={error:q}}finally{try{!w&&!T&&(M=z.return)&&(yield Pe(M.call(z)))}finally{if(A)throw A.error}}})})}else{const h=FS(this.apiClient,e);return d=xe("{model}:streamGenerateContent?alt=sse",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.requestStream({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}),u.then(function(E){return Ni(this,arguments,function*(){var T,A,M,V;try{for(var w=!0,z=Ri(E),G;G=yield Pe(z.next()),T=G.done,!T;w=!0){V=G.value,w=!1;const q=V,W=qS(yield Pe(q.json()),e);W.sdkHttpResponse={headers:q.headers};const B=new Cu;Object.assign(B,W),yield yield Pe(B)}}catch(q){A={error:q}}finally{try{!w&&!T&&(M=z.return)&&(yield Pe(M.call(z)))}finally{if(A)throw A.error}}})})}}async embedContent(e){var t,i,r,a;let u,d="",p={};if(this.apiClient.isVertexAI()){const h=z3(this.apiClient,e);return d=xe("{model}:predict",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:v.headers},T})),u.then(v=>{const E=j3(v),T=new SS;return Object.assign(T,E),T})}else{const h=O3(this.apiClient,e);return d=xe("{model}:batchEmbedContents",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:v.headers},T})),u.then(v=>{const E=F3(v),T=new SS;return Object.assign(T,E),T})}}async generateImagesInternal(e){var t,i,r,a;let u,d="",p={};if(this.apiClient.isVertexAI()){const h=X3(this.apiClient,e);return d=xe("{model}:predict",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:v.headers},T})),u.then(v=>{const E=e9(v),T=new bS;return Object.assign(T,E),T})}else{const h=Q3(this.apiClient,e);return d=xe("{model}:predict",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:v.headers},T})),u.then(v=>{const E=Z3(v),T=new bS;return Object.assign(T,E),T})}}async editImageInternal(e){var t,i;let r,a="",u={};if(this.apiClient.isVertexAI()){const d=P3(this.apiClient,e);return a=xe("{model}:predict",d._url),u=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:p.headers},v})),r.then(p=>{const h=L3(p),v=new z5;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var t,i;let r,a="",u={};if(this.apiClient.isVertexAI()){const d=X9(this.apiClient,e);return a=xe("{model}:predict",d._url),u=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:p.headers},v})),r.then(p=>{const h=Z9(p),v=new F5;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var t,i;let r,a="",u={};if(this.apiClient.isVertexAI()){const d=k9(this.apiClient,e);return a=xe("{model}:predict",d._url),u=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),r.then(p=>{const h=P9(p),v=new j5;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var t,i;let r,a="",u={};if(this.apiClient.isVertexAI()){const d=F9(this.apiClient,e);return a=xe("{model}:predict",d._url),u=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),r.then(p=>{const h=j9(p),v=new q5;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var t,i,r,a;let u,d="",p={};if(this.apiClient.isVertexAI()){const h=y9(this.apiClient,e);return d=xe("{name}",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json()),u.then(v=>qg(v))}else{const h=g9(this.apiClient,e);return d=xe("{name}",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),u.then(v=>jg(v))}}async listInternal(e){var t,i,r,a;let u,d="",p={};if(this.apiClient.isVertexAI()){const h=C9(this.apiClient,e);return d=xe("{models_url}",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:v.headers},T})),u.then(v=>{const E=I9(v),T=new AS;return Object.assign(T,E),T})}else{const h=A9(this.apiClient,e);return d=xe("{models_url}",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:v.headers},T})),u.then(v=>{const E=w9(v),T=new AS;return Object.assign(T,E),T})}}async update(e){var t,i,r,a;let u,d="",p={};if(this.apiClient.isVertexAI()){const h=W9(this.apiClient,e);return d=xe("{model}",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json()),u.then(v=>qg(v))}else{const h=Y9(this.apiClient,e);return d=xe("{name}",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),u.then(v=>jg(v))}}async delete(e){var t,i,r,a;let u,d="",p={};if(this.apiClient.isVertexAI()){const h=R3(this.apiClient,e);return d=xe("{name}",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:v.headers},T})),u.then(v=>{const E=D3(v),T=new CS;return Object.assign(T,E),T})}else{const h=N3(this.apiClient,e);return d=xe("{name}",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:v.headers},T})),u.then(v=>{const E=M3(v),T=new CS;return Object.assign(T,E),T})}}async countTokens(e){var t,i,r,a;let u,d="",p={};if(this.apiClient.isVertexAI()){const h=C3(this.apiClient,e);return d=xe("{model}:countTokens",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:v.headers},T})),u.then(v=>{const E=I3(v),T=new wS;return Object.assign(T,E),T})}else{const h=A3(this.apiClient,e);return d=xe("{model}:countTokens",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:v.headers},T})),u.then(v=>{const E=w3(v),T=new wS;return Object.assign(T,E),T})}}async computeTokens(e){var t,i;let r,a="",u={};if(this.apiClient.isVertexAI()){const d=v3(this.apiClient,e);return a=xe("{model}:computeTokens",d._url),u=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:p.headers},v})),r.then(p=>{const h=_3(p),v=new H5;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var t,i,r,a;let u,d="",p={};if(this.apiClient.isVertexAI()){const h=o9(this.apiClient,e);return d=xe("{model}:predictLongRunning",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json()),u.then(v=>{const E=s9(v),T=new Kf;return Object.assign(T,E),T})}else{const h=r9(this.apiClient,e);return d=xe("{model}:predictLongRunning",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),u.then(v=>{const E=i9(v),T=new Kf;return Object.assign(T,E),T})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class $z extends js{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const t=e.operation,i=e.config;if(t.name===void 0||t.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=t.name.split("/operations/")[0];let a;i&&"httpOptions"in i&&(a=i.httpOptions);const u=await this.fetchPredictVideosOperationInternal({operationName:t.name,resourceName:r,config:{httpOptions:a}});return t._fromAPIResponse({apiResponse:u,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:t.name,config:i});return t._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async get(e){const t=e.operation,i=e.config;if(t.name===void 0||t.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=t.name.split("/operations/")[0];let a;i&&"httpOptions"in i&&(a=i.httpOptions);const u=await this.fetchPredictVideosOperationInternal({operationName:t.name,resourceName:r,config:{httpOptions:a}});return t._fromAPIResponse({apiResponse:u,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:t.name,config:i});return t._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async getVideosOperationInternal(e){var t,i,r,a;let u,d="",p={};if(this.apiClient.isVertexAI()){const h=k5(e);return d=xe("{operationName}",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json()),u}else{const h=D5(e);return d=xe("{operationName}",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),u}}async fetchPredictVideosOperationInternal(e){var t,i;let r,a="",u={};if(this.apiClient.isVertexAI()){const d=A5(e);return a=xe("{resourceName}:fetchPredictOperation",d._url),u=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),r}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Jz(n){const e={},t=f(n,["data"]);if(t!=null&&g(e,["data"],t),f(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=f(n,["mimeType"]);return i!=null&&g(e,["mimeType"],i),e}function Kz(n){const e={},t=f(n,["parts"]);if(t!=null){let r=t;Array.isArray(r)&&(r=r.map(a=>iF(a))),g(e,["parts"],r)}const i=f(n,["role"]);return i!=null&&g(e,["role"],i),e}function Yz(n,e,t){const i={},r=f(e,["expireTime"]);t!==void 0&&r!=null&&g(t,["expireTime"],r);const a=f(e,["newSessionExpireTime"]);t!==void 0&&a!=null&&g(t,["newSessionExpireTime"],a);const u=f(e,["uses"]);t!==void 0&&u!=null&&g(t,["uses"],u);const d=f(e,["liveConnectConstraints"]);t!==void 0&&d!=null&&g(t,["bidiGenerateContentSetup"],nF(n,d));const p=f(e,["lockAdditionalFields"]);return t!==void 0&&p!=null&&g(t,["fieldMask"],p),i}function Wz(n,e){const t={},i=f(e,["config"]);return i!=null&&g(t,["config"],Yz(n,i,t)),t}function Qz(n){const e={};if(f(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=f(n,["fileUri"]);t!=null&&g(e,["fileUri"],t);const i=f(n,["mimeType"]);return i!=null&&g(e,["mimeType"],i),e}function Xz(n){const e={},t=f(n,["id"]);t!=null&&g(e,["id"],t);const i=f(n,["args"]);i!=null&&g(e,["args"],i);const r=f(n,["name"]);if(r!=null&&g(e,["name"],r),f(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(f(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Zz(n){const e={};if(f(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const t=f(n,["enableWidget"]);return t!=null&&g(e,["enableWidget"],t),e}function eF(n){const e={};if(f(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(f(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const t=f(n,["timeRangeFilter"]);return t!=null&&g(e,["timeRangeFilter"],t),e}function tF(n,e){const t={},i=f(n,["generationConfig"]);e!==void 0&&i!=null&&g(e,["setup","generationConfig"],i);const r=f(n,["responseModalities"]);e!==void 0&&r!=null&&g(e,["setup","generationConfig","responseModalities"],r);const a=f(n,["temperature"]);e!==void 0&&a!=null&&g(e,["setup","generationConfig","temperature"],a);const u=f(n,["topP"]);e!==void 0&&u!=null&&g(e,["setup","generationConfig","topP"],u);const d=f(n,["topK"]);e!==void 0&&d!=null&&g(e,["setup","generationConfig","topK"],d);const p=f(n,["maxOutputTokens"]);e!==void 0&&p!=null&&g(e,["setup","generationConfig","maxOutputTokens"],p);const h=f(n,["mediaResolution"]);e!==void 0&&h!=null&&g(e,["setup","generationConfig","mediaResolution"],h);const v=f(n,["seed"]);e!==void 0&&v!=null&&g(e,["setup","generationConfig","seed"],v);const E=f(n,["speechConfig"]);e!==void 0&&E!=null&&g(e,["setup","generationConfig","speechConfig"],s0(E));const T=f(n,["thinkingConfig"]);e!==void 0&&T!=null&&g(e,["setup","generationConfig","thinkingConfig"],T);const A=f(n,["enableAffectiveDialog"]);e!==void 0&&A!=null&&g(e,["setup","generationConfig","enableAffectiveDialog"],A);const M=f(n,["systemInstruction"]);e!==void 0&&M!=null&&g(e,["setup","systemInstruction"],Kz(vn(M)));const V=f(n,["tools"]);if(e!==void 0&&V!=null){let ae=vl(V);Array.isArray(ae)&&(ae=ae.map(U=>rF(yl(U)))),g(e,["setup","tools"],ae)}const w=f(n,["sessionResumption"]);e!==void 0&&w!=null&&g(e,["setup","sessionResumption"],sF(w));const z=f(n,["inputAudioTranscription"]);e!==void 0&&z!=null&&g(e,["setup","inputAudioTranscription"],z);const G=f(n,["outputAudioTranscription"]);e!==void 0&&G!=null&&g(e,["setup","outputAudioTranscription"],G);const q=f(n,["realtimeInputConfig"]);e!==void 0&&q!=null&&g(e,["setup","realtimeInputConfig"],q);const W=f(n,["contextWindowCompression"]);e!==void 0&&W!=null&&g(e,["setup","contextWindowCompression"],W);const B=f(n,["proactivity"]);if(e!==void 0&&B!=null&&g(e,["setup","proactivity"],B),f(n,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return t}function nF(n,e){const t={},i=f(e,["model"]);i!=null&&g(t,["setup","model"],nt(n,i));const r=f(e,["config"]);return r!=null&&g(t,["config"],tF(r,t)),t}function iF(n){const e={},t=f(n,["mediaResolution"]);t!=null&&g(e,["mediaResolution"],t);const i=f(n,["codeExecutionResult"]);i!=null&&g(e,["codeExecutionResult"],i);const r=f(n,["executableCode"]);r!=null&&g(e,["executableCode"],r);const a=f(n,["fileData"]);a!=null&&g(e,["fileData"],Qz(a));const u=f(n,["functionCall"]);u!=null&&g(e,["functionCall"],Xz(u));const d=f(n,["functionResponse"]);d!=null&&g(e,["functionResponse"],d);const p=f(n,["inlineData"]);p!=null&&g(e,["inlineData"],Jz(p));const h=f(n,["text"]);h!=null&&g(e,["text"],h);const v=f(n,["thought"]);v!=null&&g(e,["thought"],v);const E=f(n,["thoughtSignature"]);E!=null&&g(e,["thoughtSignature"],E);const T=f(n,["videoMetadata"]);return T!=null&&g(e,["videoMetadata"],T),e}function sF(n){const e={},t=f(n,["handle"]);if(t!=null&&g(e,["handle"],t),f(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function rF(n){const e={};if(f(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const t=f(n,["computerUse"]);t!=null&&g(e,["computerUse"],t);const i=f(n,["fileSearch"]);i!=null&&g(e,["fileSearch"],i);const r=f(n,["codeExecution"]);if(r!=null&&g(e,["codeExecution"],r),f(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=f(n,["functionDeclarations"]);if(a!=null){let v=a;Array.isArray(v)&&(v=v.map(E=>E)),g(e,["functionDeclarations"],v)}const u=f(n,["googleMaps"]);u!=null&&g(e,["googleMaps"],Zz(u));const d=f(n,["googleSearch"]);d!=null&&g(e,["googleSearch"],eF(d));const p=f(n,["googleSearchRetrieval"]);p!=null&&g(e,["googleSearchRetrieval"],p);const h=f(n,["urlContext"]);return h!=null&&g(e,["urlContext"],h),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function oF(n){const e=[];for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t)){const i=n[t];if(typeof i=="object"&&i!=null&&Object.keys(i).length>0){const r=Object.keys(i).map(a=>`${t}.${a}`);e.push(...r)}else e.push(t)}return e.join(",")}function aF(n,e){let t=null;const i=n.bidiGenerateContentSetup;if(typeof i=="object"&&i!==null&&"setup"in i){const a=i.setup;typeof a=="object"&&a!==null?(n.bidiGenerateContentSetup=a,t=a):delete n.bidiGenerateContentSetup}else i!==void 0&&delete n.bidiGenerateContentSetup;const r=n.fieldMask;if(t){const a=oF(t);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)a?n.fieldMask=a:delete n.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&r!==null&&Array.isArray(r)&&r.length>0){const u=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let d=[];r.length>0&&(d=r.map(h=>u.includes(h)?`generationConfig.${h}`:h));const p=[];a&&p.push(a),d.length>0&&p.push(...d),p.length>0?n.fieldMask=p.join(","):delete n.fieldMask}else delete n.fieldMask}else r!==null&&Array.isArray(r)&&r.length>0?n.fieldMask=r.join(","):delete n.fieldMask;return n}class lF extends js{constructor(e){super(),this.apiClient=e}async create(e){var t,i;let r,a="",u={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const d=Wz(this.apiClient,e);a=xe("auth_tokens",d._url),u=d._query,delete d.config,delete d._url,delete d._query;const p=aF(d,e.config);return r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),r.then(h=>h)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function uF(n,e){const t={},i=f(n,["force"]);return e!==void 0&&i!=null&&g(e,["_query","force"],i),t}function cF(n){const e={},t=f(n,["name"]);t!=null&&g(e,["_url","name"],t);const i=f(n,["config"]);return i!=null&&uF(i,e),e}function dF(n){const e={},t=f(n,["name"]);return t!=null&&g(e,["_url","name"],t),e}function fF(n,e){const t={},i=f(n,["pageSize"]);e!==void 0&&i!=null&&g(e,["_query","pageSize"],i);const r=f(n,["pageToken"]);return e!==void 0&&r!=null&&g(e,["_query","pageToken"],r),t}function hF(n){const e={},t=f(n,["parent"]);t!=null&&g(e,["_url","parent"],t);const i=f(n,["config"]);return i!=null&&fF(i,e),e}function pF(n){const e={},t=f(n,["sdkHttpResponse"]);t!=null&&g(e,["sdkHttpResponse"],t);const i=f(n,["nextPageToken"]);i!=null&&g(e,["nextPageToken"],i);const r=f(n,["documents"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(u=>u)),g(e,["documents"],a)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class mF extends js{constructor(e){super(),this.apiClient=e,this.list=async t=>new Bo(zs.PAGED_ITEM_DOCUMENTS,i=>this.listInternal({parent:t.parent,config:i.config}),await this.listInternal(t),t)}async get(e){var t,i;let r,a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=dF(e);return a=xe("{name}",d._url),u=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),r.then(p=>p)}}async delete(e){var t,i;let r="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=cF(e);r=xe("{name}",u._url),a=u._query,delete u._url,delete u._query,await this.apiClient.request({path:r,queryParams:a,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}}async listInternal(e){var t,i;let r,a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=hF(e);return a=xe("{parent}/documents",d._url),u=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),r.then(p=>{const h=pF(p),v=new G5;return Object.assign(v,h),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class gF extends js{constructor(e,t=new mF(e)){super(),this.apiClient=e,this.documents=t,this.list=async(i={})=>new Bo(zs.PAGED_ITEM_FILE_SEARCH_STORES,r=>this.listInternal(r),await this.listInternal(i),i)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var t,i;let r,a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=oz(e);return a=xe("fileSearchStores",d._url),u=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),r.then(p=>p)}}async get(e){var t,i;let r,a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=uz(e);return a=xe("{name}",d._url),u=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),r.then(p=>p)}}async delete(e){var t,i;let r="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=lz(e);r=xe("{name}",u._url),a=u._query,delete u._url,delete u._query,await this.apiClient.request({path:r,queryParams:a,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}}async listInternal(e){var t,i;let r,a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=mz(e);return a=xe("fileSearchStores",d._url),u=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),r.then(p=>{const h=gz(p),v=new B5;return Object.assign(v,h),v})}}async uploadToFileSearchStoreInternal(e){var t,i;let r,a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=yz(e);return a=xe("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",d._url),u=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),r.then(p=>{const h=vz(p),v=new $5;return Object.assign(v,h),v})}}async importFile(e){var t,i;let r,a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=fz(e);return a=xe("{file_search_store_name}:importFile",d._url),u=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),r.then(p=>{const h=dz(p),v=new Zy;return Object.assign(v,h),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let JC=function(){const{crypto:n}=globalThis;if(n!=null&&n.randomUUID)return JC=n.randomUUID.bind(n),n.randomUUID();const e=new Uint8Array(1),t=n?()=>n.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,i=>(+i^t()&15>>+i/4).toString(16))};const yF=()=>JC();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Gg(n){return typeof n=="object"&&n!==null&&("name"in n&&n.name==="AbortError"||"message"in n&&String(n.message).includes("FetchRequestCanceledException"))}const Bg=n=>{if(n instanceof Error)return n;if(typeof n=="object"&&n!==null){try{if(Object.prototype.toString.call(n)==="[object Error]"){const e=new Error(n.message,n.cause?{cause:n.cause}:{});return n.stack&&(e.stack=n.stack),n.cause&&!e.cause&&(e.cause=n.cause),n.name&&(e.name=n.name),e}}catch{}try{return new Error(JSON.stringify(n))}catch{}}return new Error(n)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ci extends Error{}class bn extends ci{constructor(e,t,i,r){super(`${bn.makeMessage(e,t,i)}`),this.status=e,this.headers=r,this.error=t}static makeMessage(e,t,i){const r=t!=null&&t.message?typeof t.message=="string"?t.message:JSON.stringify(t.message):t?JSON.stringify(t):i;return e&&r?`${e} ${r}`:e?`${e} status code (no body)`:r||"(no status code or body)"}static generate(e,t,i,r){if(!e||!r)return new Ih({message:i,cause:Bg(t)});const a=t;return e===400?new YC(e,a,i,r):e===401?new WC(e,a,i,r):e===403?new QC(e,a,i,r):e===404?new XC(e,a,i,r):e===409?new ZC(e,a,i,r):e===422?new ew(e,a,i,r):e===429?new tw(e,a,i,r):e>=500?new nw(e,a,i,r):new bn(e,a,i,r)}}class $g extends bn{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class Ih extends bn{constructor({message:e,cause:t}){super(void 0,void 0,e||"Connection error.",void 0),t&&(this.cause=t)}}class KC extends Ih{constructor({message:e}={}){super({message:e??"Request timed out."})}}class YC extends bn{}class WC extends bn{}class QC extends bn{}class XC extends bn{}class ZC extends bn{}class ew extends bn{}class tw extends bn{}class nw extends bn{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const vF=/^[a-z][a-z0-9+.-]*:/i,_F=n=>vF.test(n);let Jg=n=>(Jg=Array.isArray,Jg(n));const xF=Jg;let EF=xF;const YS=EF;function TF(n){if(!n)return!0;for(const e in n)return!1;return!0}function SF(n,e){return Object.prototype.hasOwnProperty.call(n,e)}const bF=(n,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new ci(`${n} must be an integer`);if(e<0)throw new ci(`${n} must be a positive integer`);return e},AF=n=>{try{return JSON.parse(n)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const CF=n=>new Promise(e=>setTimeout(e,n));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ua="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function wF(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const IF=()=>{var n,e,t,i,r;const a=wF();if(a==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ua,"X-Stainless-OS":QS(Deno.build.os),"X-Stainless-Arch":WS(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(e=(n=Deno.version)===null||n===void 0?void 0:n.deno)!==null&&e!==void 0?e:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ua,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(a==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ua,"X-Stainless-OS":QS((t=globalThis.process.platform)!==null&&t!==void 0?t:"unknown"),"X-Stainless-Arch":WS((i=globalThis.process.arch)!==null&&i!==void 0?i:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(r=globalThis.process.version)!==null&&r!==void 0?r:"unknown"};const u=NF();return u?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ua,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${u.browser}`,"X-Stainless-Runtime-Version":u.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ua,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function NF(){if(typeof navigator>"u"||!navigator)return null;const n=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:t}of n){const i=t.exec(navigator.userAgent);if(i){const r=i[1]||0,a=i[2]||0,u=i[3]||0;return{browser:e,version:`${r}.${a}.${u}`}}}return null}const WS=n=>n==="x32"?"x32":n==="x86_64"||n==="x64"?"x64":n==="arm"?"arm":n==="aarch64"||n==="arm64"?"arm64":n?`other:${n}`:"unknown",QS=n=>(n=n.toLowerCase(),n.includes("ios")?"iOS":n==="android"?"Android":n==="darwin"?"MacOS":n==="win32"?"Windows":n==="freebsd"?"FreeBSD":n==="openbsd"?"OpenBSD":n==="linux"?"Linux":n?`Other:${n}`:"Unknown");let Zd;const RF=()=>Zd??(Zd=IF());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function MF(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function iw(...n){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...n)}function DF(n){let e=Symbol.asyncIterator in n?n[Symbol.asyncIterator]():n[Symbol.iterator]();return iw({start(){},async pull(t){const{done:i,value:r}=await e.next();i?t.close():t.enqueue(r)},async cancel(){var t;await((t=e.return)===null||t===void 0?void 0:t.call(e))}})}function sw(n){if(n[Symbol.asyncIterator])return n;const e=n.getReader();return{async next(){try{const t=await e.read();return t!=null&&t.done&&e.releaseLock(),t}catch(t){throw e.releaseLock(),t}},async return(){const t=e.cancel();return e.releaseLock(),await t,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function kF(n){var e,t;if(n===null||typeof n!="object")return;if(n[Symbol.asyncIterator]){await((t=(e=n[Symbol.asyncIterator]()).return)===null||t===void 0?void 0:t.call(e));return}const i=n.getReader(),r=i.cancel();i.releaseLock(),await r}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const PF=({headers:n,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const rw=()=>{var n;if(typeof File>"u"){const{process:e}=globalThis,t=typeof((n=e==null?void 0:e.versions)===null||n===void 0?void 0:n.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(t?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function Xm(n,e,t){return rw(),new File(n,e??"unknown_file",t)}function LF(n){return(typeof n=="object"&&n!==null&&("name"in n&&n.name&&String(n.name)||"url"in n&&n.url&&String(n.url)||"filename"in n&&n.filename&&String(n.filename)||"path"in n&&n.path&&String(n.path))||"").split(/[\\/]/).pop()||void 0}const VF=n=>n!=null&&typeof n=="object"&&typeof n[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ow=n=>n!=null&&typeof n=="object"&&typeof n.size=="number"&&typeof n.type=="string"&&typeof n.text=="function"&&typeof n.slice=="function"&&typeof n.arrayBuffer=="function",UF=n=>n!=null&&typeof n=="object"&&typeof n.name=="string"&&typeof n.lastModified=="number"&&ow(n),OF=n=>n!=null&&typeof n=="object"&&typeof n.url=="string"&&typeof n.blob=="function";async function zF(n,e,t){if(rw(),n=await n,UF(n))return n instanceof File?n:Xm([await n.arrayBuffer()],n.name);if(OF(n)){const r=await n.blob();return e||(e=new URL(n.url).pathname.split(/[\\/]/).pop()),Xm(await Kg(r),e,t)}const i=await Kg(n);if(e||(e=LF(n)),!(t!=null&&t.type)){const r=i.find(a=>typeof a=="object"&&"type"in a&&a.type);typeof r=="string"&&(t=Object.assign(Object.assign({},t),{type:r}))}return Xm(i,e,t)}async function Kg(n){var e,t,i,r,a;let u=[];if(typeof n=="string"||ArrayBuffer.isView(n)||n instanceof ArrayBuffer)u.push(n);else if(ow(n))u.push(n instanceof Blob?n:await n.arrayBuffer());else if(VF(n))try{for(var d=!0,p=Ri(n),h;h=await p.next(),e=h.done,!e;d=!0){r=h.value,d=!1;const v=r;u.push(...await Kg(v))}}catch(v){t={error:v}}finally{try{!d&&!e&&(i=p.return)&&await i.call(p)}finally{if(t)throw t.error}}else{const v=(a=n==null?void 0:n.constructor)===null||a===void 0?void 0:a.name;throw new Error(`Unexpected data type: ${typeof n}${v?`; constructor: ${v}`:""}${FF(n)}`)}return u}function FF(n){return typeof n!="object"||n===null?"":`; props: [${Object.getOwnPropertyNames(n).map(t=>`"${t}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class aw{constructor(e){this._client=e}}aw._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function lw(n){return n.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const XS=Object.freeze(Object.create(null)),jF=(n=lw)=>(function(t,...i){if(t.length===1)return t[0];let r=!1;const a=[],u=t.reduce((v,E,T)=>{var A,M,V;/[?#]/.test(E)&&(r=!0);const w=i[T];let z=(r?encodeURIComponent:n)(""+w);return T!==i.length&&(w==null||typeof w=="object"&&w.toString===((V=Object.getPrototypeOf((M=Object.getPrototypeOf((A=w.hasOwnProperty)!==null&&A!==void 0?A:XS))!==null&&M!==void 0?M:XS))===null||V===void 0?void 0:V.toString))&&(z=w+"",a.push({start:v.length+E.length,length:z.length,error:`Value of type ${Object.prototype.toString.call(w).slice(8,-1)} is not a valid path parameter`})),v+E+(T===i.length?"":z)},""),d=u.split(/[?#]/,1)[0],p=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let h;for(;(h=p.exec(d))!==null;)a.push({start:h.index,length:h[0].length,error:`Value "${h[0]}" can't be safely passed as a path parameter`});if(a.sort((v,E)=>v.start-E.start),a.length>0){let v=0;const E=a.reduce((T,A)=>{const M=" ".repeat(A.start-v),V="^".repeat(A.length);return v=A.start+A.length,T+M+V},"");throw new ci(`Path parameters result in path with invalid segments:
${a.map(T=>T.error).join(`
`)}
${u}
${E}`)}return u}),ef=jF(lw);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class uw extends aw{create(e,t){var i;const{api_version:r=this._client.apiVersion}=e,a=Wf(e,["api_version"]);if("model"in a&&"agent_config"in a)throw new ci("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in a&&"generation_config"in a)throw new ci("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(ef`/${r}/interactions`,Object.assign(Object.assign({body:a},t),{stream:(i=e.stream)!==null&&i!==void 0?i:!1}))}delete(e,t={},i){const{api_version:r=this._client.apiVersion}=t??{};return this._client.delete(ef`/${r}/interactions/${e}`,i)}cancel(e,t={},i){const{api_version:r=this._client.apiVersion}=t??{};return this._client.post(ef`/${r}/interactions/${e}/cancel`,i)}get(e,t={},i){var r;const a=t??{},{api_version:u=this._client.apiVersion}=a,d=Wf(a,["api_version"]);return this._client.get(ef`/${u}/interactions/${e}`,Object.assign(Object.assign({query:d},i),{stream:(r=t==null?void 0:t.stream)!==null&&r!==void 0?r:!1}))}}uw._key=Object.freeze(["interactions"]);class cw extends uw{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function qF(n){let e=0;for(const r of n)e+=r.length;const t=new Uint8Array(e);let i=0;for(const r of n)t.set(r,i),i+=r.length;return t}let tf;function o0(n){let e;return(tf??(e=new globalThis.TextEncoder,tf=e.encode.bind(e)))(n)}let nf;function ZS(n){let e;return(nf??(e=new globalThis.TextDecoder,nf=e.decode.bind(e)))(n)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Nh{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(e==null)return[];const t=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?o0(e):e;this.buffer=qF([this.buffer,t]);const i=[];let r;for(;(r=HF(this.buffer,this.carriageReturnIndex))!=null;){if(r.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=r.index;continue}if(this.carriageReturnIndex!=null&&(r.index!==this.carriageReturnIndex+1||r.carriage)){i.push(ZS(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const a=this.carriageReturnIndex!==null?r.preceding-1:r.preceding,u=ZS(this.buffer.subarray(0,a));i.push(u),this.buffer=this.buffer.subarray(r.index),this.carriageReturnIndex=null}return i}flush(){return this.buffer.length?this.decode(`
`):[]}}Nh.NEWLINE_CHARS=new Set([`
`,"\r"]);Nh.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function HF(n,e){for(let r=e??0;r<n.length;r++){if(n[r]===10)return{preceding:r,index:r+1,carriage:!1};if(n[r]===13)return{preceding:r,index:r+1,carriage:!0}}return null}function GF(n){for(let i=0;i<n.length-1;i++){if(n[i]===10&&n[i+1]===10||n[i]===13&&n[i+1]===13)return i+2;if(n[i]===13&&n[i+1]===10&&i+3<n.length&&n[i+2]===13&&n[i+3]===10)return i+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Qf={off:0,error:200,warn:300,info:400,debug:500},eb=(n,e,t)=>{if(n){if(SF(Qf,n))return n;Sn(t).warn(`${e} was set to ${JSON.stringify(n)}, expected one of ${JSON.stringify(Object.keys(Qf))}`)}};function Pu(){}function sf(n,e,t){return!e||Qf[n]>Qf[t]?Pu:e[n].bind(e)}const BF={error:Pu,warn:Pu,info:Pu,debug:Pu};let tb=new WeakMap;function Sn(n){var e;const t=n.logger,i=(e=n.logLevel)!==null&&e!==void 0?e:"off";if(!t)return BF;const r=tb.get(t);if(r&&r[0]===i)return r[1];const a={error:sf("error",t,i),warn:sf("warn",t,i),info:sf("info",t,i),debug:sf("debug",t,i)};return tb.set(t,[i,a]),a}const Io=n=>(n.options&&(n.options=Object.assign({},n.options),delete n.options.headers),n.headers&&(n.headers=Object.fromEntries((n.headers instanceof Headers?[...n.headers]:Object.entries(n.headers)).map(([e,t])=>[e,e.toLowerCase()==="x-goog-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":t]))),"retryOfRequestLogID"in n&&(n.retryOfRequestLogID&&(n.retryOf=n.retryOfRequestLogID),delete n.retryOfRequestLogID),n);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Fa{constructor(e,t,i){this.iterator=e,this.controller=t,this.client=i}static fromSSEResponse(e,t,i){let r=!1;const a=i?Sn(i):console;function u(){return Ni(this,arguments,function*(){var p,h,v,E;if(r)throw new ci("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let T=!1;try{try{for(var A=!0,M=Ri($F(e,t)),V;V=yield Pe(M.next()),p=V.done,!p;A=!0){E=V.value,A=!1;const w=E;if(!T)if(w.data.startsWith("[DONE]")){T=!0;continue}else try{yield yield Pe(JSON.parse(w.data))}catch(z){throw a.error("Could not parse message into JSON:",w.data),a.error("From chunk:",w.raw),z}}}catch(w){h={error:w}}finally{try{!A&&!p&&(v=M.return)&&(yield Pe(v.call(M)))}finally{if(h)throw h.error}}T=!0}catch(w){if(Gg(w))return yield Pe(void 0);throw w}finally{T||t.abort()}})}return new Fa(u,t,i)}static fromReadableStream(e,t,i){let r=!1;function a(){return Ni(this,arguments,function*(){var p,h,v,E;const T=new Nh,A=sw(e);try{for(var M=!0,V=Ri(A),w;w=yield Pe(V.next()),p=w.done,!p;M=!0){E=w.value,M=!1;const z=E;for(const G of T.decode(z))yield yield Pe(G)}}catch(z){h={error:z}}finally{try{!M&&!p&&(v=V.return)&&(yield Pe(v.call(V)))}finally{if(h)throw h.error}}for(const z of T.flush())yield yield Pe(z)})}function u(){return Ni(this,arguments,function*(){var p,h,v,E;if(r)throw new ci("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let T=!1;try{try{for(var A=!0,M=Ri(a()),V;V=yield Pe(M.next()),p=V.done,!p;A=!0){E=V.value,A=!1;const w=E;T||w&&(yield yield Pe(JSON.parse(w)))}}catch(w){h={error:w}}finally{try{!A&&!p&&(v=M.return)&&(yield Pe(v.call(M)))}finally{if(h)throw h.error}}T=!0}catch(w){if(Gg(w))return yield Pe(void 0);throw w}finally{T||t.abort()}})}return new Fa(u,t,i)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],t=[],i=this.iterator(),r=a=>({next:()=>{if(a.length===0){const u=i.next();e.push(u),t.push(u)}return a.shift()}});return[new Fa(()=>r(e),this.controller,this.client),new Fa(()=>r(t),this.controller,this.client)]}toReadableStream(){const e=this;let t;return iw({async start(){t=e[Symbol.asyncIterator]()},async pull(i){try{const{value:r,done:a}=await t.next();if(a)return i.close();const u=o0(JSON.stringify(r)+`
`);i.enqueue(u)}catch(r){i.error(r)}},async cancel(){var i;await((i=t.return)===null||i===void 0?void 0:i.call(t))}})}}function $F(n,e){return Ni(this,arguments,function*(){var i,r,a,u;if(!n.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new ci("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new ci("Attempted to iterate over a response with no body");const d=new KF,p=new Nh,h=sw(n.body);try{for(var v=!0,E=Ri(JF(h)),T;T=yield Pe(E.next()),i=T.done,!i;v=!0){u=T.value,v=!1;const A=u;for(const M of p.decode(A)){const V=d.decode(M);V&&(yield yield Pe(V))}}}catch(A){r={error:A}}finally{try{!v&&!i&&(a=E.return)&&(yield Pe(a.call(E)))}finally{if(r)throw r.error}}for(const A of p.flush()){const M=d.decode(A);M&&(yield yield Pe(M))}})}function JF(n){return Ni(this,arguments,function*(){var t,i,r,a;let u=new Uint8Array;try{for(var d=!0,p=Ri(n),h;h=yield Pe(p.next()),t=h.done,!t;d=!0){a=h.value,d=!1;const v=a;if(v==null)continue;const E=v instanceof ArrayBuffer?new Uint8Array(v):typeof v=="string"?o0(v):v;let T=new Uint8Array(u.length+E.length);T.set(u),T.set(E,u.length),u=T;let A;for(;(A=GF(u))!==-1;)yield yield Pe(u.slice(0,A)),u=u.slice(A)}}catch(v){i={error:v}}finally{try{!d&&!t&&(r=p.return)&&(yield Pe(r.call(p)))}finally{if(i)throw i.error}}u.length>0&&(yield yield Pe(u))})}class KF{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const a={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],a}if(this.chunks.push(e),e.startsWith(":"))return null;let[t,i,r]=YF(e,":");return r.startsWith(" ")&&(r=r.substring(1)),t==="event"?this.event=r:t==="data"&&this.data.push(r),null}}function YF(n,e){const t=n.indexOf(e);return t!==-1?[n.substring(0,t),e,n.substring(t+e.length)]:[n,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function WF(n,e){const{response:t,requestLogID:i,retryOfRequestLogID:r,startTime:a}=e,u=await(async()=>{var d;if(e.options.stream)return Sn(n).debug("response",t.status,t.url,t.headers,t.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(t,e.controller,n):Fa.fromSSEResponse(t,e.controller,n);if(t.status===204)return null;if(e.options.__binaryResponse)return t;const p=t.headers.get("content-type"),h=(d=p==null?void 0:p.split(";")[0])===null||d===void 0?void 0:d.trim();return(h==null?void 0:h.includes("application/json"))||(h==null?void 0:h.endsWith("+json"))?await t.json():await t.text()})();return Sn(n).debug(`[${i}] response parsed`,Io({retryOfRequestLogID:r,url:t.url,status:t.status,body:u,durationMs:Date.now()-a})),u}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class a0 extends Promise{constructor(e,t,i=WF){super(r=>{r(null)}),this.responsePromise=t,this.parseResponse=i,this.client=e}_thenUnwrap(e){return new a0(this.client,this.responsePromise,async(t,i)=>e(await this.parseResponse(t,i),i))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,t]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:t}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,t){return this.parse().then(e,t)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const dw=Symbol("brand.privateNullableHeaders");function*QF(n){if(!n)return;if(dw in n){const{values:i,nulls:r}=n;yield*i.entries();for(const a of r)yield[a,null];return}let e=!1,t;n instanceof Headers?t=n.entries():YS(n)?t=n:(e=!0,t=Object.entries(n??{}));for(let i of t){const r=i[0];if(typeof r!="string")throw new TypeError("expected header name to be a string");const a=YS(i[1])?i[1]:[i[1]];let u=!1;for(const d of a)d!==void 0&&(e&&!u&&(u=!0,yield[r,null]),yield[r,d])}}const wu=n=>{const e=new Headers,t=new Set;for(const i of n){const r=new Set;for(const[a,u]of QF(i)){const d=a.toLowerCase();r.has(d)||(e.delete(a),r.add(d)),u===null?(e.delete(a),t.add(d)):(e.append(a,u),t.delete(d))}}return{[dw]:!0,values:e,nulls:t}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Zm=n=>{var e,t,i,r,a,u;if(typeof globalThis.process<"u")return(i=(t=(e=_5)===null||e===void 0?void 0:e[n])===null||t===void 0?void 0:t.trim())!==null&&i!==void 0?i:void 0;if(typeof globalThis.Deno<"u")return(u=(a=(r=globalThis.Deno.env)===null||r===void 0?void 0:r.get)===null||a===void 0?void 0:a.call(r,n))===null||u===void 0?void 0:u.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var fw;class Rh{constructor(e){var t,i,r,a,u,d,p,{baseURL:h=Zm("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:v=(t=Zm("GEMINI_API_KEY"))!==null&&t!==void 0?t:null,apiVersion:E="v1beta"}=e,T=Wf(e,["baseURL","apiKey","apiVersion"]);const A=Object.assign(Object.assign({apiKey:v,apiVersion:E},T),{baseURL:h||"https://generativelanguage.googleapis.com"});this.baseURL=A.baseURL,this.timeout=(i=A.timeout)!==null&&i!==void 0?i:Rh.DEFAULT_TIMEOUT,this.logger=(r=A.logger)!==null&&r!==void 0?r:console;const M="warn";this.logLevel=M,this.logLevel=(u=(a=eb(A.logLevel,"ClientOptions.logLevel",this))!==null&&a!==void 0?a:eb(Zm("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&u!==void 0?u:M,this.fetchOptions=A.fetchOptions,this.maxRetries=(d=A.maxRetries)!==null&&d!==void 0?d:2,this.fetch=(p=A.fetch)!==null&&p!==void 0?p:MF(),this.encoder=PF,this._options=A,this.apiKey=v,this.apiVersion=E,this.clientAdapter=A.clientAdapter}withOptions(e){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),e))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:t}){if(!(e.has("authorization")||e.has("x-goog-api-key"))&&!(this.apiKey&&e.get("x-goog-api-key"))&&!t.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(e){const t=wu([e.headers]);if(!(t.values.has("authorization")||t.values.has("x-goog-api-key"))){if(this.apiKey)return wu([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return wu([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(e){return Object.entries(e).filter(([t,i])=>typeof i<"u").map(([t,i])=>{if(typeof i=="string"||typeof i=="number"||typeof i=="boolean")return`${encodeURIComponent(t)}=${encodeURIComponent(i)}`;if(i===null)return`${encodeURIComponent(t)}=`;throw new ci(`Cannot stringify type ${typeof i}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${Ua}`}defaultIdempotencyKey(){return`stainless-node-retry-${yF()}`}makeStatusError(e,t,i,r){return bn.generate(e,t,i,r)}buildURL(e,t,i){const r=!this.baseURLOverridden()&&i||this.baseURL,a=_F(e)?new URL(e):new URL(r+(r.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),u=this.defaultQuery();return TF(u)||(t=Object.assign(Object.assign({},u),t)),typeof t=="object"&&t&&!Array.isArray(t)&&(a.search=this.stringifyQuery(t)),a.toString()}async prepareOptions(e){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!e.path.startsWith(`/${this.apiVersion}/projects/`)){const t=e.path.slice(this.apiVersion.length+1);e.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${t}`}}async prepareRequest(e,{url:t,options:i}){}get(e,t){return this.methodRequest("get",e,t)}post(e,t){return this.methodRequest("post",e,t)}patch(e,t){return this.methodRequest("patch",e,t)}put(e,t){return this.methodRequest("put",e,t)}delete(e,t){return this.methodRequest("delete",e,t)}methodRequest(e,t,i){return this.request(Promise.resolve(i).then(r=>Object.assign({method:e,path:t},r)))}request(e,t=null){return new a0(this,this.makeRequest(e,t,void 0))}async makeRequest(e,t,i){var r,a,u;const d=await e,p=(r=d.maxRetries)!==null&&r!==void 0?r:this.maxRetries;t==null&&(t=p),await this.prepareOptions(d);const{req:h,url:v,timeout:E}=await this.buildRequest(d,{retryCount:p-t});await this.prepareRequest(h,{url:v,options:d});const T="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),A=i===void 0?"":`, retryOf: ${i}`,M=Date.now();if(Sn(this).debug(`[${T}] sending request`,Io({retryOfRequestLogID:i,method:d.method,url:v,options:d,headers:h.headers})),!((a=d.signal)===null||a===void 0)&&a.aborted)throw new $g;const V=new AbortController,w=await this.fetchWithTimeout(v,h,E,V).catch(Bg),z=Date.now();if(w instanceof globalThis.Error){const q=`retrying, ${t} attempts remaining`;if(!((u=d.signal)===null||u===void 0)&&u.aborted)throw new $g;const W=Gg(w)||/timed? ?out/i.test(String(w)+("cause"in w?String(w.cause):""));if(t)return Sn(this).info(`[${T}] connection ${W?"timed out":"failed"} - ${q}`),Sn(this).debug(`[${T}] connection ${W?"timed out":"failed"} (${q})`,Io({retryOfRequestLogID:i,url:v,durationMs:z-M,message:w.message})),this.retryRequest(d,t,i??T);throw Sn(this).info(`[${T}] connection ${W?"timed out":"failed"} - error; no more retries left`),Sn(this).debug(`[${T}] connection ${W?"timed out":"failed"} (error; no more retries left)`,Io({retryOfRequestLogID:i,url:v,durationMs:z-M,message:w.message})),W?new KC:new Ih({cause:w})}const G=`[${T}${A}] ${h.method} ${v} ${w.ok?"succeeded":"failed"} with status ${w.status} in ${z-M}ms`;if(!w.ok){const q=await this.shouldRetry(w);if(t&&q){const P=`retrying, ${t} attempts remaining`;return await kF(w.body),Sn(this).info(`${G} - ${P}`),Sn(this).debug(`[${T}] response error (${P})`,Io({retryOfRequestLogID:i,url:w.url,status:w.status,headers:w.headers,durationMs:z-M})),this.retryRequest(d,t,i??T,w.headers)}const W=q?"error; no more retries left":"error; not retryable";Sn(this).info(`${G} - ${W}`);const B=await w.text().catch(P=>Bg(P).message),ae=AF(B),U=ae?void 0:B;throw Sn(this).debug(`[${T}] response error (${W})`,Io({retryOfRequestLogID:i,url:w.url,status:w.status,headers:w.headers,message:U,durationMs:Date.now()-M})),this.makeStatusError(w.status,ae,U,w.headers)}return Sn(this).info(G),Sn(this).debug(`[${T}] response start`,Io({retryOfRequestLogID:i,url:w.url,status:w.status,headers:w.headers,durationMs:z-M})),{response:w,options:d,controller:V,requestLogID:T,retryOfRequestLogID:i,startTime:M}}async fetchWithTimeout(e,t,i,r){const a=t||{},{signal:u,method:d}=a,p=Wf(a,["signal","method"]);u&&u.addEventListener("abort",()=>r.abort());const h=setTimeout(()=>r.abort(),i),v=globalThis.ReadableStream&&p.body instanceof globalThis.ReadableStream||typeof p.body=="object"&&p.body!==null&&Symbol.asyncIterator in p.body,E=Object.assign(Object.assign(Object.assign({signal:r.signal},v?{duplex:"half"}:{}),{method:"GET"}),p);d&&(E.method=d.toUpperCase());try{return await this.fetch.call(void 0,e,E)}finally{clearTimeout(h)}}async shouldRetry(e){const t=e.headers.get("x-should-retry");return t==="true"?!0:t==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,t,i,r){var a;let u;const d=r==null?void 0:r.get("retry-after-ms");if(d){const h=parseFloat(d);Number.isNaN(h)||(u=h)}const p=r==null?void 0:r.get("retry-after");if(p&&!u){const h=parseFloat(p);Number.isNaN(h)?u=Date.parse(p)-Date.now():u=h*1e3}if(!(u&&0<=u&&u<60*1e3)){const h=(a=e.maxRetries)!==null&&a!==void 0?a:this.maxRetries;u=this.calculateDefaultRetryTimeoutMillis(t,h)}return await CF(u),this.makeRequest(e,t-1,i)}calculateDefaultRetryTimeoutMillis(e,t){const a=t-e,u=Math.min(.5*Math.pow(2,a),8),d=1-Math.random()*.25;return u*d*1e3}async buildRequest(e,{retryCount:t=0}={}){var i,r,a;const u=Object.assign({},e),{method:d,path:p,query:h,defaultBaseURL:v}=u,E=this.buildURL(p,h,v);"timeout"in u&&bF("timeout",u.timeout),u.timeout=(i=u.timeout)!==null&&i!==void 0?i:this.timeout;const{bodyHeaders:T,body:A}=this.buildBody({options:u}),M=await this.buildHeaders({options:e,method:d,bodyHeaders:T,retryCount:t});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:d,headers:M},u.signal&&{signal:u.signal}),globalThis.ReadableStream&&A instanceof globalThis.ReadableStream&&{duplex:"half"}),A&&{body:A}),(r=this.fetchOptions)!==null&&r!==void 0?r:{}),(a=u.fetchOptions)!==null&&a!==void 0?a:{}),url:E,timeout:u.timeout}}async buildHeaders({options:e,method:t,bodyHeaders:i,retryCount:r}){let a={};this.idempotencyHeader&&t!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),a[this.idempotencyHeader]=e.idempotencyKey);const u=await this.authHeaders(e);let d=wu([a,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(r)},e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{}),RF()),this._options.defaultHeaders,i,e.headers,u]);return this.validateHeaders(d),d.values}buildBody({options:{body:e,headers:t}}){if(!e)return{bodyHeaders:void 0,body:void 0};const i=wu([t]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&i.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:DF(e)}:this.encoder({body:e,headers:i})}}Rh.DEFAULT_TIMEOUT=6e4;class sn extends Rh{constructor(){super(...arguments),this.interactions=new cw(this)}}fw=sn;sn.GeminiNextGenAPIClient=fw;sn.GeminiNextGenAPIClientError=ci;sn.APIError=bn;sn.APIConnectionError=Ih;sn.APIConnectionTimeoutError=KC;sn.APIUserAbortError=$g;sn.NotFoundError=XC;sn.ConflictError=ZC;sn.RateLimitError=tw;sn.BadRequestError=YC;sn.AuthenticationError=WC;sn.InternalServerError=nw;sn.PermissionDeniedError=QC;sn.UnprocessableEntityError=ew;sn.toFile=zF;sn.Interactions=cw;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function XF(n,e){const t={},i=f(n,["name"]);return i!=null&&g(t,["_url","name"],i),t}function ZF(n,e){const t={},i=f(n,["name"]);return i!=null&&g(t,["_url","name"],i),t}function ej(n,e){const t={},i=f(n,["sdkHttpResponse"]);return i!=null&&g(t,["sdkHttpResponse"],i),t}function tj(n,e){const t={},i=f(n,["sdkHttpResponse"]);return i!=null&&g(t,["sdkHttpResponse"],i),t}function nj(n,e,t){const i={};if(f(n,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const r=f(n,["tunedModelDisplayName"]);if(e!==void 0&&r!=null&&g(e,["displayName"],r),f(n,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const a=f(n,["epochCount"]);e!==void 0&&a!=null&&g(e,["tuningTask","hyperparameters","epochCount"],a);const u=f(n,["learningRateMultiplier"]);if(u!=null&&g(i,["tuningTask","hyperparameters","learningRateMultiplier"],u),f(n,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(f(n,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(f(n,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");if(f(n,["tuningMode"])!==void 0)throw new Error("tuningMode parameter is not supported in Gemini API.");if(f(n,["customBaseModel"])!==void 0)throw new Error("customBaseModel parameter is not supported in Gemini API.");const d=f(n,["batchSize"]);e!==void 0&&d!=null&&g(e,["tuningTask","hyperparameters","batchSize"],d);const p=f(n,["learningRate"]);if(e!==void 0&&p!=null&&g(e,["tuningTask","hyperparameters","learningRate"],p),f(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(f(n,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");if(f(n,["baseTeacherModel"])!==void 0)throw new Error("baseTeacherModel parameter is not supported in Gemini API.");if(f(n,["tunedTeacherModelSource"])!==void 0)throw new Error("tunedTeacherModelSource parameter is not supported in Gemini API.");if(f(n,["sftLossWeightMultiplier"])!==void 0)throw new Error("sftLossWeightMultiplier parameter is not supported in Gemini API.");if(f(n,["outputUri"])!==void 0)throw new Error("outputUri parameter is not supported in Gemini API.");return i}function ij(n,e,t){const i={};let r=f(t,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const B=f(n,["validationDataset"]);e!==void 0&&B!=null&&g(e,["supervisedTuningSpec"],eg(B))}else if(r==="PREFERENCE_TUNING"){const B=f(n,["validationDataset"]);e!==void 0&&B!=null&&g(e,["preferenceOptimizationSpec"],eg(B))}else if(r==="DISTILLATION"){const B=f(n,["validationDataset"]);e!==void 0&&B!=null&&g(e,["distillationSpec"],eg(B))}const a=f(n,["tunedModelDisplayName"]);e!==void 0&&a!=null&&g(e,["tunedModelDisplayName"],a);const u=f(n,["description"]);e!==void 0&&u!=null&&g(e,["description"],u);let d=f(t,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const B=f(n,["epochCount"]);e!==void 0&&B!=null&&g(e,["supervisedTuningSpec","hyperParameters","epochCount"],B)}else if(d==="PREFERENCE_TUNING"){const B=f(n,["epochCount"]);e!==void 0&&B!=null&&g(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],B)}else if(d==="DISTILLATION"){const B=f(n,["epochCount"]);e!==void 0&&B!=null&&g(e,["distillationSpec","hyperParameters","epochCount"],B)}let p=f(t,["config","method"]);if(p===void 0&&(p="SUPERVISED_FINE_TUNING"),p==="SUPERVISED_FINE_TUNING"){const B=f(n,["learningRateMultiplier"]);e!==void 0&&B!=null&&g(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],B)}else if(p==="PREFERENCE_TUNING"){const B=f(n,["learningRateMultiplier"]);e!==void 0&&B!=null&&g(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],B)}else if(p==="DISTILLATION"){const B=f(n,["learningRateMultiplier"]);e!==void 0&&B!=null&&g(e,["distillationSpec","hyperParameters","learningRateMultiplier"],B)}let h=f(t,["config","method"]);if(h===void 0&&(h="SUPERVISED_FINE_TUNING"),h==="SUPERVISED_FINE_TUNING"){const B=f(n,["exportLastCheckpointOnly"]);e!==void 0&&B!=null&&g(e,["supervisedTuningSpec","exportLastCheckpointOnly"],B)}else if(h==="PREFERENCE_TUNING"){const B=f(n,["exportLastCheckpointOnly"]);e!==void 0&&B!=null&&g(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],B)}else if(h==="DISTILLATION"){const B=f(n,["exportLastCheckpointOnly"]);e!==void 0&&B!=null&&g(e,["distillationSpec","exportLastCheckpointOnly"],B)}let v=f(t,["config","method"]);if(v===void 0&&(v="SUPERVISED_FINE_TUNING"),v==="SUPERVISED_FINE_TUNING"){const B=f(n,["adapterSize"]);e!==void 0&&B!=null&&g(e,["supervisedTuningSpec","hyperParameters","adapterSize"],B)}else if(v==="PREFERENCE_TUNING"){const B=f(n,["adapterSize"]);e!==void 0&&B!=null&&g(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],B)}else if(v==="DISTILLATION"){const B=f(n,["adapterSize"]);e!==void 0&&B!=null&&g(e,["distillationSpec","hyperParameters","adapterSize"],B)}let E=f(t,["config","method"]);if(E===void 0&&(E="SUPERVISED_FINE_TUNING"),E==="SUPERVISED_FINE_TUNING"){const B=f(n,["tuningMode"]);e!==void 0&&B!=null&&g(e,["supervisedTuningSpec","tuningMode"],B)}const T=f(n,["customBaseModel"]);e!==void 0&&T!=null&&g(e,["customBaseModel"],T);let A=f(t,["config","method"]);if(A===void 0&&(A="SUPERVISED_FINE_TUNING"),A==="SUPERVISED_FINE_TUNING"){const B=f(n,["batchSize"]);e!==void 0&&B!=null&&g(e,["supervisedTuningSpec","hyperParameters","batchSize"],B)}let M=f(t,["config","method"]);if(M===void 0&&(M="SUPERVISED_FINE_TUNING"),M==="SUPERVISED_FINE_TUNING"){const B=f(n,["learningRate"]);e!==void 0&&B!=null&&g(e,["supervisedTuningSpec","hyperParameters","learningRate"],B)}const V=f(n,["labels"]);e!==void 0&&V!=null&&g(e,["labels"],V);const w=f(n,["beta"]);e!==void 0&&w!=null&&g(e,["preferenceOptimizationSpec","hyperParameters","beta"],w);const z=f(n,["baseTeacherModel"]);e!==void 0&&z!=null&&g(e,["distillationSpec","baseTeacherModel"],z);const G=f(n,["tunedTeacherModelSource"]);e!==void 0&&G!=null&&g(e,["distillationSpec","tunedTeacherModelSource"],G);const q=f(n,["sftLossWeightMultiplier"]);e!==void 0&&q!=null&&g(e,["distillationSpec","hyperParameters","sftLossWeightMultiplier"],q);const W=f(n,["outputUri"]);return e!==void 0&&W!=null&&g(e,["outputUri"],W),i}function sj(n,e){const t={},i=f(n,["baseModel"]);i!=null&&g(t,["baseModel"],i);const r=f(n,["preTunedModel"]);r!=null&&g(t,["preTunedModel"],r);const a=f(n,["trainingDataset"]);a!=null&&mj(a);const u=f(n,["config"]);return u!=null&&nj(u,t),t}function rj(n,e){const t={},i=f(n,["baseModel"]);i!=null&&g(t,["baseModel"],i);const r=f(n,["preTunedModel"]);r!=null&&g(t,["preTunedModel"],r);const a=f(n,["trainingDataset"]);a!=null&&gj(a,t,e);const u=f(n,["config"]);return u!=null&&ij(u,t,e),t}function oj(n,e){const t={},i=f(n,["name"]);return i!=null&&g(t,["_url","name"],i),t}function aj(n,e){const t={},i=f(n,["name"]);return i!=null&&g(t,["_url","name"],i),t}function lj(n,e,t){const i={},r=f(n,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const a=f(n,["pageToken"]);e!==void 0&&a!=null&&g(e,["_query","pageToken"],a);const u=f(n,["filter"]);return e!==void 0&&u!=null&&g(e,["_query","filter"],u),i}function uj(n,e,t){const i={},r=f(n,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const a=f(n,["pageToken"]);e!==void 0&&a!=null&&g(e,["_query","pageToken"],a);const u=f(n,["filter"]);return e!==void 0&&u!=null&&g(e,["_query","filter"],u),i}function cj(n,e){const t={},i=f(n,["config"]);return i!=null&&lj(i,t),t}function dj(n,e){const t={},i=f(n,["config"]);return i!=null&&uj(i,t),t}function fj(n,e){const t={},i=f(n,["sdkHttpResponse"]);i!=null&&g(t,["sdkHttpResponse"],i);const r=f(n,["nextPageToken"]);r!=null&&g(t,["nextPageToken"],r);const a=f(n,["tunedModels"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(d=>hw(d))),g(t,["tuningJobs"],u)}return t}function hj(n,e){const t={},i=f(n,["sdkHttpResponse"]);i!=null&&g(t,["sdkHttpResponse"],i);const r=f(n,["nextPageToken"]);r!=null&&g(t,["nextPageToken"],r);const a=f(n,["tuningJobs"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(d=>Yg(d))),g(t,["tuningJobs"],u)}return t}function pj(n,e){const t={},i=f(n,["name"]);i!=null&&g(t,["model"],i);const r=f(n,["name"]);return r!=null&&g(t,["endpoint"],r),t}function mj(n,e){const t={};if(f(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(f(n,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const i=f(n,["examples"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(a=>a)),g(t,["examples","examples"],r)}return t}function gj(n,e,t){const i={};let r=f(t,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const u=f(n,["gcsUri"]);e!==void 0&&u!=null&&g(e,["supervisedTuningSpec","trainingDatasetUri"],u)}else if(r==="PREFERENCE_TUNING"){const u=f(n,["gcsUri"]);e!==void 0&&u!=null&&g(e,["preferenceOptimizationSpec","trainingDatasetUri"],u)}else if(r==="DISTILLATION"){const u=f(n,["gcsUri"]);e!==void 0&&u!=null&&g(e,["distillationSpec","promptDatasetUri"],u)}let a=f(t,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const u=f(n,["vertexDatasetResource"]);e!==void 0&&u!=null&&g(e,["supervisedTuningSpec","trainingDatasetUri"],u)}else if(a==="PREFERENCE_TUNING"){const u=f(n,["vertexDatasetResource"]);e!==void 0&&u!=null&&g(e,["preferenceOptimizationSpec","trainingDatasetUri"],u)}else if(a==="DISTILLATION"){const u=f(n,["vertexDatasetResource"]);e!==void 0&&u!=null&&g(e,["distillationSpec","promptDatasetUri"],u)}if(f(n,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return i}function hw(n,e){const t={},i=f(n,["sdkHttpResponse"]);i!=null&&g(t,["sdkHttpResponse"],i);const r=f(n,["name"]);r!=null&&g(t,["name"],r);const a=f(n,["state"]);a!=null&&g(t,["state"],NC(a));const u=f(n,["createTime"]);u!=null&&g(t,["createTime"],u);const d=f(n,["tuningTask","startTime"]);d!=null&&g(t,["startTime"],d);const p=f(n,["tuningTask","completeTime"]);p!=null&&g(t,["endTime"],p);const h=f(n,["updateTime"]);h!=null&&g(t,["updateTime"],h);const v=f(n,["description"]);v!=null&&g(t,["description"],v);const E=f(n,["baseModel"]);E!=null&&g(t,["baseModel"],E);const T=f(n,["_self"]);return T!=null&&g(t,["tunedModel"],pj(T)),t}function Yg(n,e){const t={},i=f(n,["sdkHttpResponse"]);i!=null&&g(t,["sdkHttpResponse"],i);const r=f(n,["name"]);r!=null&&g(t,["name"],r);const a=f(n,["state"]);a!=null&&g(t,["state"],NC(a));const u=f(n,["createTime"]);u!=null&&g(t,["createTime"],u);const d=f(n,["startTime"]);d!=null&&g(t,["startTime"],d);const p=f(n,["endTime"]);p!=null&&g(t,["endTime"],p);const h=f(n,["updateTime"]);h!=null&&g(t,["updateTime"],h);const v=f(n,["error"]);v!=null&&g(t,["error"],v);const E=f(n,["description"]);E!=null&&g(t,["description"],E);const T=f(n,["baseModel"]);T!=null&&g(t,["baseModel"],T);const A=f(n,["tunedModel"]);A!=null&&g(t,["tunedModel"],A);const M=f(n,["preTunedModel"]);M!=null&&g(t,["preTunedModel"],M);const V=f(n,["supervisedTuningSpec"]);V!=null&&g(t,["supervisedTuningSpec"],V);const w=f(n,["preferenceOptimizationSpec"]);w!=null&&g(t,["preferenceOptimizationSpec"],w);const z=f(n,["distillationSpec"]);z!=null&&g(t,["distillationSpec"],z);const G=f(n,["tuningDataStats"]);G!=null&&g(t,["tuningDataStats"],G);const q=f(n,["encryptionSpec"]);q!=null&&g(t,["encryptionSpec"],q);const W=f(n,["partnerModelTuningSpec"]);W!=null&&g(t,["partnerModelTuningSpec"],W);const B=f(n,["customBaseModel"]);B!=null&&g(t,["customBaseModel"],B);const ae=f(n,["experiment"]);ae!=null&&g(t,["experiment"],ae);const U=f(n,["labels"]);U!=null&&g(t,["labels"],U);const L=f(n,["outputUri"]);L!=null&&g(t,["outputUri"],L);const P=f(n,["pipelineJob"]);P!=null&&g(t,["pipelineJob"],P);const I=f(n,["serviceAccount"]);I!=null&&g(t,["serviceAccount"],I);const N=f(n,["tunedModelDisplayName"]);N!=null&&g(t,["tunedModelDisplayName"],N);const D=f(n,["veoTuningSpec"]);return D!=null&&g(t,["veoTuningSpec"],D),t}function yj(n,e){const t={},i=f(n,["sdkHttpResponse"]);i!=null&&g(t,["sdkHttpResponse"],i);const r=f(n,["name"]);r!=null&&g(t,["name"],r);const a=f(n,["metadata"]);a!=null&&g(t,["metadata"],a);const u=f(n,["done"]);u!=null&&g(t,["done"],u);const d=f(n,["error"]);return d!=null&&g(t,["error"],d),t}function eg(n,e){const t={},i=f(n,["gcsUri"]);i!=null&&g(t,["validationDatasetUri"],i);const r=f(n,["vertexDatasetResource"]);return r!=null&&g(t,["validationDatasetUri"],r),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class vj extends js{constructor(e){super(),this.apiClient=e,this.list=async(t={})=>new Bo(zs.PAGED_ITEM_TUNING_JOBS,i=>this.listInternal(i),await this.listInternal(t),t),this.get=async t=>await this.getInternal(t),this.tune=async t=>{var i;if(this.apiClient.isVertexAI())if(t.baseModel.startsWith("projects/")){const r={tunedModelName:t.baseModel};!((i=t.config)===null||i===void 0)&&i.preTunedModelCheckpointId&&(r.checkpointId=t.config.preTunedModelCheckpointId);const a=Object.assign(Object.assign({},t),{preTunedModel:r});return a.baseModel=void 0,await this.tuneInternal(a)}else{const r=Object.assign({},t);return await this.tuneInternal(r)}else{const r=Object.assign({},t),a=await this.tuneMldevInternal(r);let u="";return a.metadata!==void 0&&a.metadata.tunedModel!==void 0?u=a.metadata.tunedModel:a.name!==void 0&&a.name.includes("/operations/")&&(u=a.name.split("/operations/")[0]),{name:u,state:Vg.JOB_STATE_QUEUED}}}}async getInternal(e){var t,i,r,a;let u,d="",p={};if(this.apiClient.isVertexAI()){const h=aj(e);return d=xe("{name}",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:v.headers},T})),u.then(v=>Yg(v))}else{const h=oj(e);return d=xe("{name}",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:v.headers},T})),u.then(v=>hw(v))}}async listInternal(e){var t,i,r,a;let u,d="",p={};if(this.apiClient.isVertexAI()){const h=dj(e);return d=xe("tuningJobs",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:v.headers},T})),u.then(v=>{const E=hj(v),T=new IS;return Object.assign(T,E),T})}else{const h=cj(e);return d=xe("tunedModels",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:v.headers},T})),u.then(v=>{const E=fj(v),T=new IS;return Object.assign(T,E),T})}}async cancel(e){var t,i,r,a;let u,d="",p={};if(this.apiClient.isVertexAI()){const h=ZF(e);return d=xe("{name}:cancel",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:v.headers},T})),u.then(v=>{const E=tj(v),T=new NS;return Object.assign(T,E),T})}else{const h=XF(e);return d=xe("{name}:cancel",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:v.headers},T})),u.then(v=>{const E=ej(v),T=new NS;return Object.assign(T,E),T})}}async tuneInternal(e){var t,i;let r,a="",u={};if(this.apiClient.isVertexAI()){const d=rj(e,e);return a=xe("tuningJobs",d._url),u=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:p.headers},v})),r.then(p=>Yg(p))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var t,i;let r,a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=sj(e);return a=xe("tunedModels",d._url),u=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:p.headers},v})),r.then(p=>yj(p))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class _j{async download(e,t){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const xj=1024*1024*8,Ej=3,Tj=1e3,Sj=2,Xf="x-goog-upload-status";async function bj(n,e,t){var i;const r=await pw(n,e,t),a=await(r==null?void 0:r.json());if(((i=r==null?void 0:r.headers)===null||i===void 0?void 0:i[Xf])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return a.file}async function Aj(n,e,t){var i;const r=await pw(n,e,t),a=await(r==null?void 0:r.json());if(((i=r==null?void 0:r.headers)===null||i===void 0?void 0:i[Xf])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const u=SC(a),d=new e0;return Object.assign(d,u),d}async function pw(n,e,t){var i,r;let a=0,u=0,d=new Og(new Response),p="upload";for(a=n.size;u<a;){const h=Math.min(xj,a-u),v=n.slice(u,u+h);u+h>=a&&(p+=", finalize");let E=0,T=Tj;for(;E<Ej&&(d=await t.request({path:"",body:v,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":p,"X-Goog-Upload-Offset":String(u),"Content-Length":String(h)}}}),!(!((i=d==null?void 0:d.headers)===null||i===void 0)&&i[Xf]));)E++,await wj(T),T=T*Sj;if(u+=h,((r=d==null?void 0:d.headers)===null||r===void 0?void 0:r[Xf])!=="active")break;if(a<=u)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return d}async function Cj(n){return{size:n.size,type:n.type}}function wj(n){return new Promise(e=>setTimeout(e,n))}class Ij{async upload(e,t,i){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await bj(e,t,i)}async uploadToFileSearchStore(e,t,i){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await Aj(e,t,i)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await Cj(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Nj{create(e,t,i){return new Rj(e,t,i)}}class Rj{constructor(e,t,i){this.url=e,this.headers=t,this.callbacks=i}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const nb="x-goog-api-key";class Mj{constructor(e){this.apiKey=e}async addAuthHeaders(e,t){if(e.get(nb)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(nb,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Dj="gl-node/";class kj{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const e=this.httpOptions;e!=null&&e.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const t=new sn({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:e==null?void 0:e.timeout});return this._interactions=t.interactions,this._interactions}constructor(e){var t;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(t=e.vertexai)!==null&&t!==void 0?t:!1,this.apiKey=e.apiKey;const i=S5(e.httpOptions,e.vertexai,void 0,void 0);i&&(e.httpOptions?e.httpOptions.baseUrl=i:e.httpOptions={baseUrl:i}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const r=new Mj(this.apiKey);this.apiClient=new Cz({auth:r,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:Dj+"web",uploader:new Ij,downloader:new _j}),this.models=new Bz(this.apiClient),this.live=new zz(this.apiClient,r,new Nj),this.batches=new Z6(this.apiClient),this.chats=new PO(this.models,this.apiClient),this.caches=new MO(this.apiClient),this.files=new $O(this.apiClient),this.operations=new $z(this.apiClient),this.authTokens=new lF(this.apiClient),this.tunings=new vj(this.apiClient),this.fileSearchStores=new gF(this.apiClient)}}var Pj={};const Lj=()=>{const[n,e]=j.useState(!1),[t,i]=j.useState([{id:"welcome",role:"model",text:"!     -Life OS.       ?"}]),[r,a]=j.useState(""),[u,d]=j.useState(!1),p=j.useRef(null);j.useEffect(()=>{var E;(E=p.current)==null||E.scrollIntoView({behavior:"smooth"})},[t]);const h=async()=>{if(!r.trim()||u)return;const E={id:Date.now().toString(),role:"user",text:r};i(T=>[...T,E]),a(""),d(!0);try{const A=new kj({apiKey:Pj.API_KEY}).chats.create({model:"gemini-3-flash-preview",config:{systemInstruction:"You are a personal mentor and productivity assistant embedded in a Life OS dashboard application. Your goal is to help the user organize their life, finances, career, and personal goals. Be encouraging, practical, and concise. Answer in Hebrew. The user might ask for advice on prioritizing tasks, financial planning, or career moves."}}),M=t.slice(-10).map(G=>({role:G.role,parts:[{text:G.text}]}));let V="";const w=await A.sendMessageStream({message:E.text}),z=(Date.now()+1).toString();i(G=>[...G,{id:z,role:"model",text:""}]);for await(const G of w){const q=G.text;q&&(V+=q,i(W=>W.map(B=>B.id===z?{...B,text:V}:B)))}}catch(T){console.error("Chat Error:",T),i(A=>[...A,{id:Date.now().toString(),role:"model",text:",   .    ."}])}finally{d(!1)}},v=E=>{E.key==="Enter"&&!E.shiftKey&&(E.preventDefault(),h())};return m.jsxs("div",{className:"fixed bottom-6 left-6 z-50 flex flex-col items-end pointer-events-none",dir:"rtl",children:[m.jsxs("div",{className:`bg-white rounded-2xl shadow-2xl border border-slate-200 w-[340px] md:w-[380px] overflow-hidden transition-all duration-300 origin-bottom-left pointer-events-auto flex flex-col mb-4 ${n?"scale-100 opacity-100 h-[500px]":"scale-75 opacity-0 h-0"}`,children:[m.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 p-4 flex items-center justify-between text-white shrink-0",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("div",{className:"bg-white/20 p-1.5 rounded-full",children:m.jsx(jo,{size:16,className:"text-yellow-300"})}),m.jsxs("div",{children:[m.jsx("h3",{className:"font-bold text-sm",children:" "}),m.jsx("p",{className:"text-[10px] text-blue-100 opacity-90",children:"  Gemini AI"})]})]}),m.jsx("button",{onClick:()=>e(!1),className:"hover:bg-white/10 p-1.5 rounded-lg transition-colors",children:m.jsx(J2,{size:16})})]}),m.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-slate-50/50",children:[t.map(E=>m.jsx("div",{className:`flex ${E.role==="user"?"justify-start":"justify-end"}`,children:m.jsx("div",{className:`max-w-[85%] rounded-2xl px-4 py-2.5 text-sm leading-relaxed whitespace-pre-wrap ${E.role==="user"?"bg-blue-600 text-white rounded-tr-none shadow-md shadow-blue-500/10":"bg-white border border-slate-200 text-slate-700 rounded-tl-none shadow-sm"}`,children:E.text})},E.id)),u&&m.jsx("div",{className:"flex justify-end",children:m.jsx("div",{className:"bg-white border border-slate-200 rounded-2xl rounded-tl-none px-4 py-3 shadow-sm",children:m.jsx(qu,{size:16,className:"animate-spin text-slate-400"})})}),m.jsx("div",{ref:p})]}),m.jsxs("div",{className:"p-3 bg-white border-t border-slate-100 shrink-0",children:[m.jsxs("div",{className:"relative flex items-end gap-2 bg-slate-50 border border-slate-200 rounded-xl p-2 focus-within:ring-2 focus-within:ring-blue-500/20 focus-within:border-blue-400 transition-all",children:[m.jsx("button",{onClick:h,disabled:!r.trim()||u,className:`p-2 rounded-lg transition-all ${r.trim()&&!u?"bg-blue-600 text-white hover:bg-blue-700 shadow-sm":"bg-slate-200 text-slate-400 cursor-not-allowed"}`,children:m.jsx(jb,{size:16,className:u?"opacity-0":""})}),m.jsx("textarea",{value:r,onChange:E=>a(E.target.value),onKeyDown:v,placeholder:"   ...",className:"w-full bg-transparent border-none outline-none text-sm text-slate-700 placeholder-slate-400 resize-none max-h-24 py-2 pr-2",rows:1,style:{minHeight:"36px"}})]}),m.jsx("div",{className:"text-center mt-2",children:m.jsx("span",{className:"text-[10px] text-slate-400",children:' " Gemini 3 Flash  AI   '})})]})]}),m.jsx("button",{onClick:()=>e(!n),className:`pointer-events-auto p-4 rounded-full shadow-xl transition-all duration-300 transform hover:scale-105 ${n?"bg-slate-700 text-white rotate-90":"bg-gradient-to-r from-blue-600 to-indigo-600 text-white animate-pulse-slow ring-4 ring-blue-500/20"}`,children:n?m.jsx(ui,{size:24}):m.jsx(H2,{size:24,fill:"currentColor",className:"text-white"})})]})},Vj=()=>{const[n,e]=j.useState(!1),[t,i]=j.useState(!1);j.useEffect(()=>{const a=()=>{e(!0)};if(window.addEventListener("show-pwa-prompt",a),window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone||document.referrer.includes("android-app://"))return()=>window.removeEventListener("show-pwa-prompt",a);const d=localStorage.getItem("pwa_prompt_dismissed");if(d){const v=new Date(parseInt(d)),E=new Date;if(E.setDate(E.getDate()-14),v>E)return()=>window.removeEventListener("show-pwa-prompt",a)}const p=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream;i(p);const h=setTimeout(()=>e(!0),5e3);return()=>{clearTimeout(h),window.removeEventListener("show-pwa-prompt",a)}},[]);const r=()=>{e(!1),localStorage.setItem("pwa_prompt_dismissed",Date.now().toString())};return n?m.jsx("div",{className:"fixed bottom-6 left-6 right-6 md:left-auto md:right-8 md:w-96 z-[200] animate-fade-in",dir:"rtl",children:m.jsx("div",{className:"bg-[#1e293b] text-white rounded-[2.5rem] shadow-[0_20px_50px_rgba(0,0,0,0.3)] border border-white/10 overflow-hidden",children:m.jsxs("div",{className:"p-8",children:[m.jsxs("div",{className:"flex justify-between items-start mb-6",children:[m.jsx("div",{className:"bg-blue-600 p-3 rounded-2xl shadow-xl shadow-blue-500/20",children:m.jsx(g2,{size:24,className:"text-white"})}),m.jsx("button",{onClick:r,className:"p-2 hover:bg-white/10 rounded-full transition-colors",children:m.jsx(ui,{size:20,className:"text-slate-400"})})]}),m.jsx("h3",{className:"text-2xl font-black mb-3 leading-tight",children:"   "}),m.jsx("p",{className:"text-slate-400 text-sm leading-relaxed mb-8",children:"        ,   ."}),m.jsxs("div",{className:"bg-white/5 rounded-3xl p-5 border border-white/5 space-y-5",children:[m.jsx("p",{className:"text-[10px] font-black text-blue-400 uppercase tracking-[0.2em]",children:"  "}),t?m.jsxs("div",{className:"flex items-start gap-4",children:[m.jsx("div",{className:"bg-white/10 p-2.5 rounded-xl shrink-0",children:m.jsx(gM,{size:18})}),m.jsxs("p",{className:"text-sm text-slate-300",children:["   ",m.jsx("span",{className:"font-bold text-white text-base",children:""})," (  ) ,   - ",m.jsx("span",{className:"font-bold text-white text-base",children:'"  "'}),"."]})]}):m.jsxs("div",{className:"flex items-start gap-4",children:[m.jsx("div",{className:"bg-white/10 p-2.5 rounded-xl shrink-0",children:m.jsx(v2,{size:18})}),m.jsxs("p",{className:"text-sm text-slate-300",children:["  ",m.jsx("span",{className:"font-bold text-white text-base",children:" "}),"  ( ),   ",m.jsx("span",{className:"font-bold text-white text-base",children:'" "'}),"."]})]}),m.jsxs("div",{className:"flex items-start gap-4",children:[m.jsx("div",{className:"bg-emerald-500/10 p-2.5 rounded-xl shrink-0 text-emerald-400",children:m.jsx(CM,{size:18})}),m.jsx("p",{className:"text-sm text-slate-300",children:"!       ."})]})]}),m.jsx("button",{onClick:r,className:"w-full mt-8 bg-blue-600 hover:bg-blue-500 text-white py-5 rounded-2xl font-black transition-all shadow-2xl shadow-blue-600/20 active:scale-95",children:", !"})]})})}):null},Uj=()=>{const[n,e]=j.useState(!1),[t,i]=j.useState(!1),[r,a]=j.useState(""),[u,d]=j.useState(!1),[p,h]=j.useState(!1),[v,E]=j.useState(new Date().toLocaleTimeString("he-IL",{hour:"2-digit",minute:"2-digit"})),[T,A]=j.useState(!1),[M,V]=j.useState(""),[w,z]=j.useState(!1),G=ey(),{isAdmin:q,userProfile:W,logout:B,mentees:ae,viewingStudent:U,setViewingStudent:L,isReadOnly:P}=bh(),I=async Ee=>{if(Ee.preventDefault(),!(!W||!r.trim())){d(!0);try{const ne=sl(Ur,"users",W.uid);await _C(ne,{mentors:l5(r.toLowerCase().trim())}),h(!0),a(""),setTimeout(()=>{h(!1),i(!1)},2e3)}catch(ne){console.error("Sharing error:",ne),alert(" .    .")}finally{d(!1)}}},N=()=>{P||(V((W==null?void 0:W.fullName)||""),A(!0))},D=()=>{window.dispatchEvent(new CustomEvent("show-pwa-prompt")),e(!1)},F=({size:Ee=20})=>m.jsxs("div",{className:"relative flex items-center justify-center",style:{width:Ee,height:Ee},children:[m.jsx("div",{className:"absolute top-0 w-1/2 h-1/2 bg-blue-500/50 rounded-full"}),m.jsx("div",{className:"absolute bottom-0 left-0 w-1/2 h-1/2 bg-indigo-600/50 rounded-full"}),m.jsx("div",{className:"absolute bottom-0 right-0 w-1/2 h-1/2 bg-purple-600/50 rounded-full"}),m.jsx(jo,{size:Ee*.6,className:"relative z-10 text-white"})]}),ve=[{path:"/",label:" ",icon:m.jsx(F,{size:20})},{path:"/occupational",label:"",icon:m.jsx(wb,{size:20})},{path:"/financial",label:"",icon:m.jsx(Db,{size:20})},{path:"/personal",label:"",icon:m.jsx(Cf,{size:20})},{path:"/strategy",label:" ",icon:m.jsx(Vb,{size:20})},{path:"/archive",label:" ",icon:m.jsx(bf,{size:20})}];return m.jsxs("div",{className:"min-h-screen flex flex-col md:flex-row text-slate-800 font-sans bg-slate-50/50",dir:"rtl",children:[P&&U&&m.jsxs("div",{className:"fixed top-0 left-0 right-0 z-[100] bg-amber-500 text-white py-2 px-4 flex items-center justify-center gap-4 shadow-lg animate-fade-in",children:[m.jsxs("div",{className:"flex items-center gap-2 font-bold text-sm",children:[m.jsx(E2,{size:16}),m.jsxs("span",{children:["  :     ",U.fullName]})]}),m.jsx("button",{onClick:()=>L(null),className:"bg-white/20 hover:bg-white/40 px-3 py-1 rounded-lg text-xs font-bold transition-all",children:"  "})]}),t&&m.jsx("div",{className:"fixed inset-0 z-[110] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm animate-fade-in",children:m.jsxs("div",{className:"bg-white rounded-[2rem] shadow-2xl w-full max-w-sm overflow-hidden",dir:"rtl",children:[m.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 p-6 flex justify-between items-center text-white",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"bg-white/20 p-2 rounded-xl",children:m.jsx(rg,{size:20})}),m.jsx("h3",{className:"text-xl font-bold",children:""})]}),m.jsx("button",{onClick:()=>i(!1),className:"hover:bg-white/10 p-1.5 rounded-full",children:m.jsx(ui,{size:20})})]}),m.jsx("div",{className:"p-8",children:p?m.jsxs("div",{className:"text-center py-4 space-y-4 animate-fade-in",children:[m.jsx("div",{className:"w-16 h-16 bg-emerald-100 text-emerald-600 rounded-full flex items-center justify-center mx-auto",children:m.jsx(Af,{size:32})}),m.jsx("p",{className:"font-bold text-slate-800",children:"  !"})]}):m.jsxs("form",{onSubmit:I,className:"space-y-6",children:[m.jsx("p",{className:"text-sm text-slate-500 leading-relaxed",children:"      .      ( )."}),m.jsxs("div",{className:"space-y-2",children:[m.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest mr-1",children:" "}),m.jsxs("div",{className:"relative",children:[m.jsx(Lb,{size:18,className:"absolute right-4 top-1/2 -translate-y-1/2 text-slate-400"}),m.jsx("input",{required:!0,type:"email",value:r,onChange:Ee=>a(Ee.target.value),placeholder:"mentor@email.com",className:"w-full bg-slate-50 border border-slate-200 rounded-2xl py-3.5 pr-12 pl-4 outline-none focus:ring-4 focus:ring-blue-500/10 focus:border-blue-500 transition-all text-sm font-bold"})]})]}),m.jsxs("button",{disabled:u,type:"submit",className:"w-full bg-slate-900 hover:bg-blue-600 text-white py-4 rounded-2xl font-bold shadow-xl transition-all flex items-center justify-center gap-3 disabled:opacity-70",children:[u?m.jsx(qu,{size:20,className:"animate-spin"}):m.jsx(jb,{size:20}),m.jsx("span",{className:"text-lg",children:"  "})]})]})})]})}),m.jsxs("aside",{className:`fixed inset-y-0 right-0 z-30 w-72 bg-[#0f172a] text-slate-300 transform transition-transform duration-300 ease-in-out md:relative md:translate-x-0 shadow-2xl flex flex-col ${n?"translate-x-0":"translate-x-full"} ${P?"pt-10":""}`,children:[m.jsx("div",{className:"p-6 pb-2",children:m.jsxs("button",{onClick:D,className:"w-full bg-gradient-to-r from-blue-600 to-indigo-700 hover:from-blue-500 hover:to-indigo-600 text-white p-4 rounded-2xl shadow-xl transition-all flex items-center gap-4 group border border-white/10",children:[m.jsx("div",{className:"w-10 h-10 bg-white/20 rounded-xl flex items-center justify-center backdrop-blur-md group-hover:scale-110 transition-transform",children:m.jsx(SM,{size:20,strokeWidth:2.5})}),m.jsxs("div",{className:"text-right",children:[m.jsx("h2",{className:"text-sm font-bold tracking-tight text-white leading-tight",children:" "}),m.jsx("p",{className:"text-[10px] text-blue-100/70 font-medium",children:" "})]})]})}),m.jsxs("div",{className:"px-6 mb-6 mt-4 flex gap-2",children:[m.jsxs("button",{onClick:()=>i(!0),className:"flex-1 bg-blue-600/10 hover:bg-blue-600/20 text-blue-400 border border-blue-500/20 py-3 rounded-2xl flex items-center justify-center gap-2 transition-all font-bold text-xs group",children:[m.jsx(rg,{size:16,className:"group-hover:scale-110 transition-transform"}),""]}),m.jsxs("button",{onClick:()=>{G("/guide"),e(!1)},className:"flex-1 bg-emerald-600/10 hover:bg-emerald-600/20 text-emerald-400 border border-emerald-500/20 py-3 rounded-2xl flex items-center justify-center gap-2 transition-all font-bold text-xs group",children:[m.jsx(Cb,{size:16,className:"group-hover:scale-110 transition-transform"}),""]})]}),m.jsxs("nav",{className:"px-3 space-y-1.5 flex-1 overflow-y-auto",children:[m.jsx("div",{className:"px-4 text-[10px] font-bold text-slate-500 uppercase tracking-widest mb-3 pr-2 text-right",children:""}),ve.map(Ee=>m.jsx(sg,{to:Ee.path,onClick:()=>e(!1),className:({isActive:ne})=>`flex items-center gap-3 px-4 py-3 rounded-xl transition-all duration-300 group relative overflow-hidden ${ne?"bg-blue-600/10 text-white shadow-inner font-medium":"hover:bg-slate-800/50 hover:text-white text-slate-400"}`,children:({isActive:ne})=>m.jsxs(m.Fragment,{children:[ne&&m.jsx("div",{className:"absolute inset-y-0 right-0 w-1 bg-blue-500 rounded-l-full"}),m.jsx("span",{className:`transition-colors ${ne?"text-blue-400":"group-hover:text-blue-400"}`,children:Ee.icon}),m.jsx("span",{className:"flex-1 text-right",children:Ee.label})]})},Ee.path)),q&&m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"px-4 text-[10px] font-bold text-slate-500 uppercase tracking-widest mt-6 mb-3 pr-2 text-right",children:" "}),m.jsxs(sg,{to:"/admin/users",onClick:()=>e(!1),className:({isActive:Ee})=>`flex items-center gap-3 px-4 py-3 rounded-xl transition-all duration-300 group relative ${Ee?"bg-amber-600/10 text-amber-400":"hover:bg-slate-800/50 text-slate-400"}`,children:[m.jsx("span",{className:"text-amber-500",children:m.jsx(qM,{size:20})}),m.jsx("span",{className:"flex-1 text-right",children:" "})]})]}),ae.length>0&&m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"px-4 text-[10px] font-bold text-slate-500 uppercase tracking-widest mt-6 mb-3 pr-2 text-right",children:"  ()"}),ae.map(Ee=>m.jsxs("button",{onClick:()=>{L(Ee),e(!1)},className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all duration-300 group relative ${(U==null?void 0:U.uid)===Ee.uid?"bg-emerald-600/10 text-emerald-400":"hover:bg-slate-800/50 text-slate-400"}`,children:[m.jsx(Rb,{size:18,className:(U==null?void 0:U.uid)===Ee.uid?"text-emerald-500":"text-slate-500"}),m.jsx("span",{className:"flex-1 text-right text-xs font-bold truncate",children:Ee.fullName})]},Ee.uid))]})]}),m.jsx("div",{className:"p-4 mt-auto space-y-3",children:m.jsx("div",{className:"bg-slate-800/50 backdrop-blur-sm rounded-xl p-4 border border-slate-700/50",children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{className:"flex items-center gap-3 flex-1 overflow-hidden",children:[m.jsx("div",{className:`p-2 rounded-full shrink-0 ${q?"bg-amber-500/20 text-amber-400":"bg-blue-500/20 text-blue-400"}`,children:q?m.jsx(EM,{size:16}):m.jsx(Cf,{size:16})}),m.jsxs("div",{className:"flex flex-col flex-1 overflow-hidden group/name text-right",children:[m.jsxs("div",{className:"flex items-center gap-1 justify-end",children:[m.jsx("div",{className:"text-xs font-bold text-white truncate max-w-[100px]",children:(W==null?void 0:W.fullName)||""}),!P&&m.jsx("button",{onClick:N,className:"opacity-0 group-hover/name:opacity-100 transition-opacity",children:m.jsx(Ub,{size:10,className:"text-slate-500"})})]}),m.jsx("div",{className:"text-[10px] text-slate-500",children:q?" ":" "})]})]}),m.jsx("button",{onClick:()=>B(),className:"p-2 text-slate-500 hover:text-rose-400 transition-colors bg-slate-900/50 rounded-lg shrink-0",title:"",children:m.jsx(U2,{size:16})})]})})})]}),n&&m.jsx("div",{className:"fixed inset-0 bg-slate-900/60 backdrop-blur-sm z-20 md:hidden transition-opacity",onClick:()=>e(!1)}),m.jsxs("main",{className:`flex-1 overflow-y-auto w-full text-right relative flex flex-col ${P?"pt-12":""}`,dir:"rtl",children:[m.jsxs("div",{className:"bg-white/80 backdrop-blur-md sticky top-0 z-20 px-6 py-4 border-b border-slate-200 flex justify-between items-center shadow-sm",children:[m.jsx("div",{className:"flex-1 text-right",children:m.jsx("h2",{className:"text-xl font-bold text-slate-800 tracking-tight",children:" "})}),m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsxs("div",{className:"hidden md:flex items-center gap-1.5 text-[10px] text-slate-400 bg-slate-50 px-3 py-1 rounded-full border border-slate-200 shadow-inner",children:[m.jsx(Fo,{size:10,className:"text-emerald-500"})," : ",v]}),m.jsx("button",{onClick:()=>e(!0),className:"md:hidden p-2 rounded-xl hover:bg-slate-100 text-slate-600 transition-colors",children:m.jsx(j2,{size:24})})]})]}),m.jsx("div",{className:"relative z-10 transition-all duration-300 flex-1 p-4 md:p-8 md:px-12 max-w-7xl mx-auto w-full",children:m.jsx(tR,{})})]}),!P&&m.jsx(Lj,{}),!P&&m.jsx(Vj,{})]})};var te=(n=>(n.PERSONAL="",n.OCCUPATIONAL="",n.FINANCIAL="",n.MAIN="",n))(te||{});const bi=({category:n})=>{let e="bg-slate-100 text-slate-600 border-slate-200",t=n;switch(n===te.MAIN&&(t=localStorage.getItem("main_category_label")||""),n){case te.PERSONAL:e="bg-rose-50 text-rose-600 border-rose-100 ring-rose-500/10";break;case te.OCCUPATIONAL:e="bg-blue-50 text-blue-600 border-blue-100 ring-blue-500/10";break;case te.FINANCIAL:e="bg-emerald-50 text-emerald-600 border-emerald-100 ring-emerald-500/10";break;default:e="bg-slate-50 text-slate-500 border-slate-100 ring-slate-500/10"}return m.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-[10px] font-bold border ring-1 ring-inset ${e} shadow-sm`,children:t})},us=({data:n,columns:e,footer:t})=>m.jsx("div",{className:"overflow-hidden border border-slate-100 rounded-2xl bg-white shadow-sm hover:shadow-md transition-shadow duration-300",children:m.jsx("div",{className:"overflow-x-auto",children:m.jsxs("table",{className:"min-w-full",dir:"rtl",children:[m.jsx("thead",{children:m.jsx("tr",{className:"bg-slate-50 border-b border-slate-100",children:e.map((i,r)=>m.jsx("th",{scope:"col",className:`px-6 py-4 text-right text-[11px] font-bold text-slate-400 uppercase tracking-wider ${i.className||""}`,style:{width:i.width},children:i.header},r))})}),m.jsxs("tbody",{className:"divide-y divide-slate-50/70",children:[n.map(i=>m.jsx("tr",{className:"hover:bg-blue-50/30 transition-colors group",children:e.map((r,a)=>m.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm text-slate-600 font-medium text-right ${r.className||""}`,children:typeof r.accessor=="function"?r.accessor(i):i[r.accessor]},a))},i.id)),n.length===0&&m.jsx("tr",{children:m.jsx("td",{colSpan:e.length,className:"px-6 py-16 text-center",children:m.jsxs("div",{className:"flex flex-col items-center justify-center text-slate-300",children:[m.jsx("div",{className:"w-12 h-12 bg-slate-50 rounded-full flex items-center justify-center mb-2",children:m.jsx("span",{className:"text-xl",children:""})}),m.jsx("span",{className:"text-sm",children:"  "})]})})})]}),t&&m.jsx("tfoot",{className:"bg-slate-50/50 border-t border-slate-100 text-slate-800",children:t})]})})}),Oj=["#1e293b","#2563eb","#059669","#e11d48","#d97706","#7c3aed","#ffffff","#000000"],zj=[{label:"Rubik ()",value:"'Rubik', sans-serif"},{label:"Assistant ()",value:"'Assistant', sans-serif"},{label:"Serif ()",value:"ui-serif, Georgia, serif"},{label:"Mono ()",value:"ui-monospace, SFMono-Regular, monospace"}],ke=({value:n,onChange:e,className:t="",placeholder:i=" ",isEditable:r=!0,multiline:a=!1,formatDisplay:u,styleId:d,enableStyle:p=!1})=>{const{isAdmin:h,isReadOnly:v}=bh(),[E,T]=j.useState(!1),[A,M]=j.useState(n),V=j.useRef(null),w=j.useRef(null),z=j.useRef(null),G=j.useRef(null),[q,W]=j.useState({}),[B,ae]=j.useState(!1),[U,L]=j.useState({top:0,left:0});j.useEffect(()=>{if(d){const fe=localStorage.getItem(`style_${d}`);fe&&W(JSON.parse(fe))}},[d]),j.useEffect(()=>{M(n)},[n]),j.useEffect(()=>{E&&V.current&&(V.current.focus(),a&&P())},[E,a]);const P=()=>{a&&V.current&&(V.current.style.height="auto",V.current.style.height=`${V.current.scrollHeight}px`)};j.useEffect(()=>{const fe=Ce=>{if(!E)return;const He=Ce.target,O=V.current&&V.current.contains(He),Y=w.current&&w.current.contains(He),ue=z.current&&z.current.contains(He);!O&&!Y&&!ue&&I()};return document.addEventListener("mousedown",fe),()=>document.removeEventListener("mousedown",fe)},[E,A,n,e]);const I=()=>{T(!1),ae(!1),A!==n&&e(A)},N=fe=>{const Ce={...q,...fe};W(Ce),d&&localStorage.setItem(`style_${d}`,JSON.stringify(Ce))},D=fe=>{fe.key==="Enter"&&!a&&I(),fe.key==="Escape"&&(T(!1),M(n))},F=u?u(n||""):n||i,ve=!n&&!u,Ee=!v&&(r||h&&p),ne={color:q.color,fontSize:q.fontSize?`${q.fontSize}px`:void 0,fontFamily:q.fontFamily,fontWeight:q.fontWeight},pe=()=>m.jsxs("div",{ref:w,className:"fixed z-[9999] bg-white rounded-xl shadow-2xl border border-slate-200 flex flex-col gap-3 min-w-[240px] p-3 animate-fade-in",style:{top:U.top,left:U.left},children:[m.jsxs("div",{className:"flex justify-between items-center border-b border-slate-100 pb-2",children:[m.jsx("span",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:" "}),m.jsx("button",{onClick:()=>ae(!1),children:m.jsx(ui,{size:14,className:"text-slate-400 hover:text-slate-600"})})]}),m.jsxs("div",{className:"space-y-1",children:[m.jsxs("span",{className:"text-xs text-slate-500 font-medium flex items-center gap-1",children:[m.jsx(kM,{size:10})," "]}),m.jsxs("select",{className:"w-full text-xs p-1.5 border border-slate-200 rounded-md bg-slate-50 focus:border-blue-500 outline-none text-slate-700",value:q.fontFamily||"",onChange:fe=>N({fontFamily:fe.target.value}),children:[m.jsx("option",{value:"",children:" "}),zj.map(fe=>m.jsx("option",{value:fe.value,children:fe.label},fe.value))]})]}),m.jsxs("div",{className:"flex gap-2",children:[m.jsxs("div",{className:"flex-1 space-y-1",children:[m.jsxs("span",{className:"text-xs text-slate-500 font-medium flex items-center gap-1",children:[m.jsx(Y2,{size:10})," "]}),m.jsx("input",{type:"number",className:"w-full text-xs p-1.5 border border-slate-200 rounded-md bg-slate-50 focus:border-blue-500 outline-none text-slate-700",placeholder:"px",value:q.fontSize||"",onChange:fe=>N({fontSize:fe.target.value})})]}),m.jsxs("div",{className:"flex-1 space-y-1",children:[m.jsx("span",{className:"text-xs text-slate-500 font-medium",children:""}),m.jsxs("select",{className:"w-full text-xs p-1.5 border border-slate-200 rounded-md bg-slate-50 focus:border-blue-500 outline-none text-slate-700",value:q.fontWeight||"",onChange:fe=>N({fontWeight:fe.target.value}),children:[m.jsx("option",{value:"",children:""}),m.jsx("option",{value:"300",children:""}),m.jsx("option",{value:"400",children:""}),m.jsx("option",{value:"600",children:""}),m.jsx("option",{value:"800",children:""})]})]})]}),m.jsxs("div",{className:"space-y-1",children:[m.jsxs("span",{className:"text-xs text-slate-500 font-medium flex items-center gap-1",children:[m.jsx(ja,{size:10}),"  "]}),m.jsx("div",{className:"flex flex-wrap gap-1.5",children:Oj.map(fe=>m.jsx("button",{className:`w-5 h-5 rounded-full border border-black/10 transition-transform hover:scale-110 ${q.color===fe?"ring-2 ring-offset-1 ring-blue-500":""}`,style:{backgroundColor:fe},onClick:()=>N({color:fe})},fe))})]})]});if(E){const fe=`w-full bg-white border-2 border-blue-500/50 rounded-lg px-3 py-2 outline-none transition-all shadow-xl text-right text-slate-800 placeholder-slate-400 relative z-20 ${t}`;return m.jsxs("div",{className:"relative w-full z-20",ref:G,children:[a?m.jsx("textarea",{ref:V,value:A,onChange:Ce=>{M(Ce.target.value),P()},className:`${fe} min-h-[100px] overflow-hidden`,dir:"rtl",placeholder:i,style:ne,rows:2}):m.jsx("input",{ref:V,value:A,onChange:Ce=>M(Ce.target.value),onKeyDown:D,className:`${fe} h-12`,dir:"rtl",placeholder:i,style:ne}),m.jsxs("div",{className:"absolute -top-10 left-0 flex gap-1 z-[30]",children:[m.jsx("button",{onMouseDown:Ce=>{Ce.preventDefault(),I()},className:"bg-emerald-500 text-white p-2 rounded-lg shadow-lg hover:bg-emerald-600 transition-all",children:m.jsx(Fo,{size:16,strokeWidth:3})}),h&&p&&m.jsx("button",{ref:z,onMouseDown:Ce=>{Ce.preventDefault(),ae(!B)},className:`p-2 rounded-lg shadow-lg transition-all ${B?"bg-blue-600 text-white":"bg-slate-800 text-white"}`,children:m.jsx(ja,{size:16})}),m.jsx("button",{onMouseDown:Ce=>{Ce.preventDefault(),T(!1),M(n)},className:"bg-slate-200 text-slate-600 p-2 rounded-lg shadow-lg hover:bg-rose-100 transition-all",children:m.jsx(ui,{size:16,strokeWidth:3})})]}),h&&p&&B&&m.jsx(pe,{})]})}return m.jsxs("div",{onClick:()=>{Ee&&T(!0)},className:`relative rounded-md px-2 py-1 -mx-2 transition-colors min-h-[28px] min-w-[60px] flex items-center justify-end group text-right ${Ee?"cursor-text hover:bg-black/5":""} ${t}`,dir:"rtl",style:ne,children:[m.jsx("span",{className:ve?"text-slate-400 italic text-right text-sm":"text-right w-full block break-words whitespace-pre-wrap",children:F}),Ee&&m.jsx("div",{className:"absolute left-1 top-1/2 -translate-y-1/2 opacity-0 group-hover:opacity-40 transition-opacity",children:h&&p?m.jsx(ja,{size:12,className:"text-slate-600"}):m.jsx(Ub,{size:12,className:"text-slate-500"})})]})},rf=n=>n.toISOString().split("T")[0],of=[{label:" ()",value:"bg-blue-50 border-blue-500 text-blue-700",marker:"bg-blue-500"},{label:" ()",value:"bg-amber-50 border-amber-500 text-amber-700",marker:"bg-amber-500"},{label:" ()",value:"bg-rose-50 border-rose-500 text-rose-700",marker:"bg-rose-500"}],Fj=[{label:"'",value:0},{label:"'",value:1},{label:"'",value:2},{label:"'",value:3},{label:"'",value:4},{label:"'",value:5},{label:"'",value:6}],Mh=({title:n=" ",externalDraft:e,onModalClose:t})=>{const[i,r]=j.useState(()=>localStorage.getItem("google_calendar_connected")==="true"),[a,u]=j.useState(new Date),[d,p]=j.useState(()=>{const z=localStorage.getItem("calendar_events_data_v5");return z?JSON.parse(z):{}}),[h,v]=j.useState(!1),[E,T]=j.useState(null);j.useEffect(()=>{if(e){let z=of[0].value;e.category===""&&(z=of[1].value),e.category===""&&(z=of[2].value),T({title:e.title,date:new Date,time:new Date().toLocaleTimeString("he-IL",{hour:"2-digit",minute:"2-digit"}),reminderTime:"",color:z,isRecurring:!1,recurringDays:[],recurrenceType:"none"}),v(!0)}},[e]),j.useEffect(()=>{localStorage.setItem("calendar_events_data_v5",JSON.stringify(d))},[d]);const A=z=>{const G=rf(z),q=z.getDay(),W=d[G]||[],B=[];return Object.values(d).flat().forEach(ae=>{var U,L;ae.isRecurring&&(((U=ae.recurringDays)==null?void 0:U.length)===0||(L=ae.recurringDays)!=null&&L.includes(q))&&(W.some(P=>P.id===ae.id)||B.push(ae))}),[...W,...B].sort((ae,U)=>ae.time.localeCompare(U.time))},M=()=>{const z=[],G=new Date;G.setHours(0,0,0,0);for(let q=0;q<7;q++){const W=new Date(G);W.setDate(G.getDate()+q),z.push({dateObj:W,dayName:W.toLocaleDateString("he-IL",{weekday:"short"}),dayNumber:W.getDate(),isSelected:rf(W)===rf(a),hasEvent:A(W).length>0})}return z},V=()=>{if(!E)return;const z=rf(E.date),G=E.recurrenceType!=="none",q=E.recurrenceType==="daily"?[]:E.recurringDays,W={id:Date.now().toString(),time:E.time,reminderTime:E.reminderTime,title:E.title,color:E.color,isRecurring:G,recurringDays:q};p(B=>({...B,[z]:[...B[z]||[],W].sort((ae,U)=>ae.time.localeCompare(U.time))})),v(!1),T(null),t&&t()},w=z=>{p(G=>{const q={...G};return Object.keys(q).forEach(W=>{q[W]=q[W].filter(B=>B.id!==z)}),q})};return m.jsxs("div",{className:"bg-white border border-slate-200 rounded-3xl shadow-sm overflow-hidden h-full flex flex-col relative text-right",dir:"rtl",children:[h&&E&&m.jsx("div",{className:"fixed inset-0 z-[100] bg-slate-900/60 backdrop-blur-md flex items-center justify-center p-4",children:m.jsxs("div",{className:"bg-white w-full max-w-sm max-h-[90vh] flex flex-col rounded-[2.5rem] shadow-2xl overflow-hidden border border-slate-200 animate-fade-in",children:[m.jsxs("div",{className:"shrink-0 bg-gradient-to-r from-blue-600 to-indigo-600 p-6 flex justify-between items-center text-white",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("div",{className:"bg-white/20 p-2 rounded-xl backdrop-blur-md",children:m.jsx(St,{size:20,className:"text-white"})}),m.jsx("span",{className:"font-black text-xl",children:"  "})]}),m.jsx("button",{onClick:()=>{v(!1),t&&t()},className:"hover:bg-white/10 p-2 rounded-full transition-colors",children:m.jsx(ui,{size:24})})]}),m.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-6 scrollbar-thin scrollbar-thumb-slate-200",children:[m.jsxs("div",{children:[m.jsx("label",{className:"text-[10px] font-black text-slate-400 mb-2 block uppercase tracking-widest",children:" "}),m.jsx("input",{type:"text",value:E.title,onChange:z=>T({...E,title:z.target.value}),className:"w-full border-b-2 border-slate-200 focus:border-blue-500 outline-none py-2 text-2xl font-black bg-transparent",placeholder:"  ?"})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"text-[10px] font-black text-slate-400 mb-2 block tracking-widest uppercase",children:""}),m.jsxs("div",{className:"relative",children:[m.jsx(Mb,{size:16,className:"absolute right-4 top-1/2 -translate-y-1/2 text-slate-400"}),m.jsx("input",{type:"time",value:E.time,onChange:z=>T({...E,time:z.target.value}),className:"w-full bg-slate-50 border border-slate-200 rounded-2xl pr-12 pl-4 py-4 text-sm font-bold outline-none focus:ring-2 focus:ring-blue-500/10 focus:border-blue-500 transition-all"})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text-[10px] font-black text-slate-400 mb-2 block tracking-widest uppercase",children:" "}),m.jsxs("div",{className:"relative",children:[m.jsx($x,{size:16,className:"absolute right-4 top-1/2 -translate-y-1/2 text-slate-400"}),m.jsx("input",{type:"time",value:E.reminderTime,onChange:z=>T({...E,reminderTime:z.target.value}),className:"w-full bg-slate-50 border border-slate-200 rounded-2xl pr-12 pl-4 py-4 text-sm font-bold outline-none focus:ring-2 focus:ring-blue-500/10 focus:border-blue-500 transition-all"})]})]})]}),m.jsxs("div",{className:"bg-slate-50 p-5 rounded-[2rem] border border-slate-200 space-y-5",children:[m.jsxs("div",{children:[m.jsxs("label",{className:"text-[10px] font-black text-slate-700 mb-3 block flex items-center gap-2 uppercase tracking-widest",children:[m.jsx(Kx,{size:14,className:"text-blue-500"}),"  "]}),m.jsxs("div",{className:"relative",children:[m.jsxs("select",{value:E.recurrenceType,onChange:z=>T({...E,recurrenceType:z.target.value}),className:"w-full bg-white border border-slate-200 rounded-2xl px-5 py-4 text-sm font-bold outline-none appearance-none focus:ring-2 focus:ring-blue-500/10 focus:border-blue-500 transition-all",children:[m.jsx("option",{value:"none",children:" "}),m.jsx("option",{value:"daily",children:" "}),m.jsx("option",{value:"weekly",children:"  ( )"})]}),m.jsx(Ib,{size:18,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 pointer-events-none"})]})]}),E.recurrenceType==="weekly"&&m.jsxs("div",{className:"space-y-3 pt-4 border-t border-slate-200 animate-fade-in",children:[m.jsx("label",{className:"text-[10px] font-black text-slate-400 block text-center uppercase tracking-widest",children:"  "}),m.jsx("div",{className:"flex flex-wrap gap-2 justify-center",children:Fj.map(z=>m.jsx("button",{onClick:()=>{const G=E.recurringDays.includes(z.value)?E.recurringDays.filter(q=>q!==z.value):[...E.recurringDays,z.value];T({...E,recurringDays:G})},className:`w-10 h-10 rounded-xl text-xs font-black border transition-all ${E.recurringDays.includes(z.value)?"bg-blue-600 text-white border-blue-600 shadow-lg shadow-blue-500/20":"bg-white text-slate-500 border-slate-200 hover:border-blue-300"}`,children:z.label},z.value))})]})]})]}),m.jsx("div",{className:"shrink-0 p-6 pt-0 bg-white",children:m.jsxs("button",{onClick:V,className:"w-full bg-slate-900 text-white py-5 rounded-[1.5rem] font-black hover:bg-blue-600 transition-all shadow-2xl transform active:scale-[0.98] text-lg flex items-center justify-center gap-3 group",children:[m.jsx(Fo,{size:20,strokeWidth:3,className:"group-hover:scale-110 transition-transform"}),"  "]})})]})}),m.jsx("div",{className:"flex items-center justify-between px-6 py-4 border-b border-slate-100 bg-slate-50/50",children:m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"p-2 bg-blue-100 text-blue-600 rounded-lg",children:m.jsx(tc,{size:20})}),m.jsx("h3",{className:"font-bold text-slate-800 text-lg",children:n})]})}),m.jsx("div",{className:"p-6 flex-1 flex flex-col space-y-6 overflow-hidden",children:i?m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"flex justify-between items-center bg-slate-50 rounded-xl p-2 border border-slate-100 overflow-x-auto shrink-0",children:M().map((z,G)=>m.jsxs("div",{onClick:()=>u(z.dateObj),className:`flex flex-col items-center justify-center py-3 rounded-lg cursor-pointer transition-all mx-1 shrink-0 px-4 ${z.isSelected?"bg-white shadow-md ring-1 ring-blue-500/20 translate-y-[-2px]":"hover:bg-white/60"}`,children:[m.jsx("span",{className:`text-[10px] font-bold ${z.isSelected?"text-blue-600":"text-slate-400"}`,children:z.dayName}),m.jsx("span",{className:`text-xl font-bold ${z.isSelected?"text-slate-800":"text-slate-500"}`,children:z.dayNumber}),z.hasEvent&&!z.isSelected&&m.jsx("div",{className:"w-1 h-1 bg-blue-400 rounded-full mt-1"})]},G))}),m.jsx("div",{className:"flex-1 overflow-y-auto space-y-3 pr-1",children:A(a).length===0?m.jsx("div",{className:"py-12 text-center text-slate-300 border-2 border-dashed border-slate-100 rounded-xl",children:m.jsx("p",{className:"text-sm",children:"   "})}):A(a).map(z=>m.jsxs("div",{className:`flex items-center gap-3 p-3 rounded-xl border-r-4 shadow-sm ${z.color} group transition-all`,children:[m.jsxs("div",{className:"flex flex-col items-center min-w-[60px] border-l border-black/5 pl-3 ml-1",children:[m.jsx("span",{className:"text-xs font-mono font-bold opacity-70",children:z.time}),z.isRecurring&&m.jsx(Kx,{size:10,className:"mt-1"}),z.reminderTime&&m.jsxs("div",{className:"flex items-center gap-0.5 text-[8px] mt-1 text-slate-500",children:[m.jsx($x,{size:8})," ",z.reminderTime]})]}),m.jsx("div",{className:"flex-1 text-right font-bold text-sm",children:z.title}),m.jsx("button",{onClick:()=>w(z.id),className:"opacity-0 group-hover:opacity-100 text-slate-400 hover:text-rose-500 transition-colors",children:m.jsx(Qt,{size:14})})]},z.id))}),m.jsxs("button",{onClick:()=>{T({title:"",date:a,time:"09:00",reminderTime:"",color:of[0].value,isRecurring:!1,recurringDays:[],recurrenceType:"none"}),v(!0)},className:"w-full py-3 bg-slate-50 text-slate-500 text-xs font-bold rounded-xl border border-dashed border-slate-200 flex items-center justify-center gap-1 hover:bg-blue-50 hover:text-blue-600 hover:border-blue-200 transition-all",children:[m.jsx(St,{size:14}),"   "]})]}):m.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center py-12",children:[m.jsx("h4",{className:"font-bold text-slate-800",children:"   Google"}),m.jsx("button",{onClick:()=>{r(!0),localStorage.setItem("google_calendar_connected","true")},className:"bg-white border border-slate-200 px-8 py-3 rounded-2xl text-sm font-bold shadow-sm hover:shadow-md transition-all mt-4",children:"  Google"})]})})]})},jj=[{label:"",class:"bg-white"},{label:"",class:"bg-slate-50"},{label:"",class:"bg-blue-50"},{label:"",class:"bg-emerald-50"},{label:"",class:"bg-amber-50"},{label:"",class:"bg-rose-50"},{label:"",class:"bg-purple-50"},{label:"",class:"bg-indigo-50"}],$t=({id:n,title:e,icon:t,children:i,defaultColor:r="bg-white",headerAction:a})=>{const[u,d]=j.useState(()=>{const A=localStorage.getItem(`section_style_${n}`);return A?JSON.parse(A):{color:r,customTitle:e}}),[p,h]=j.useState(!1),[v,E]=j.useState(u);j.useEffect(()=>{localStorage.setItem(`section_style_${n}`,JSON.stringify(u))},[u,n]);const T=()=>{d(v),h(!1)};return m.jsxs("div",{className:`rounded-2xl border border-slate-200 shadow-sm transition-all duration-300 relative flex flex-col ${u.color} ring-1 ring-black/5`,children:[m.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-black/5 shrink-0",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[t&&m.jsx("div",{className:"p-2 bg-white/50 rounded-lg shadow-sm text-slate-600",children:t}),m.jsx("h2",{className:"text-xl font-bold text-slate-800",children:u.customTitle})]}),m.jsxs("div",{className:"flex items-center gap-2",children:[a,m.jsx("button",{onClick:()=>{E(u),h(!p)},className:`p-2 rounded-lg transition-all ${p?"bg-blue-100 text-blue-600":"text-slate-400 hover:text-blue-600 hover:bg-black/5"}`,title:" ",children:m.jsx(qb,{size:18})})]})]}),p&&m.jsxs("div",{className:"absolute top-16 left-4 z-50 bg-white border border-slate-200 shadow-2xl rounded-xl p-4 w-64 animate-fade-in text-right",children:[m.jsxs("div",{className:"flex justify-between items-center mb-3 pb-2 border-b border-slate-100",children:[m.jsxs("span",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider flex items-center gap-1",children:[m.jsx(ja,{size:12}),"  "]}),m.jsx("button",{onClick:()=>h(!1),children:m.jsx(ui,{size:14,className:"text-slate-400 hover:text-rose-500"})})]}),m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"text-xs text-slate-500 mb-1.5 block font-bold",children:" "}),m.jsx("input",{type:"text",value:v.customTitle,onChange:A=>E({...v,customTitle:A.target.value}),className:"w-full text-sm border border-slate-200 rounded-lg p-2 focus:ring-2 focus:ring-blue-500 outline-none bg-slate-50"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text-xs text-slate-500 mb-2 block font-bold",children:" "}),m.jsx("div",{className:"grid grid-cols-4 gap-2",children:jj.map(A=>m.jsx("button",{onClick:()=>E({...v,color:A.class}),className:`h-8 rounded-lg border border-black/5 flex items-center justify-center transition-transform hover:scale-105 ${A.class} ${v.color===A.class?"ring-2 ring-blue-500 ring-offset-1":""}`,title:A.label,children:v.color===A.class&&m.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"})},A.class))})]}),m.jsxs("button",{onClick:T,className:"w-full bg-slate-800 hover:bg-blue-600 text-white rounded-lg py-2 text-sm font-bold mt-2 flex items-center justify-center gap-2 transition-colors",children:[m.jsx(zb,{size:14}),"  "]})]})]}),m.jsx("div",{className:"flex-1 overflow-hidden flex flex-col",children:i})]})},qj=({value:n,onChange:e})=>{const t={:"bg-emerald-100 text-emerald-700",:"bg-blue-100 text-blue-700",:"bg-purple-100 text-purple-700"};return m.jsxs("select",{value:n,onChange:i=>e(i.target.value),className:`text-[10px] font-bold px-2 py-0.5 rounded-full outline-none cursor-pointer border border-transparent hover:border-slate-300 transition-all ${t[n]||"bg-slate-100"}`,children:[m.jsx("option",{value:"",children:""}),m.jsx("option",{value:"",children:""}),m.jsx("option",{value:"",children:""})]})},Hj=()=>{const n=(K,he)=>{const _e=localStorage.getItem(K);return _e?JSON.parse(_e):he},e=(K,he)=>{localStorage.setItem(K,JSON.stringify(he))},[t,i]=j.useState(()=>localStorage.getItem("main_category_label")||""),[r,a]=j.useState(null),[u,d]=j.useState(()=>{const K=n("dashboard_main_tasks",[]),he=n("tasks_personal",[]).map(ze=>({...ze,category:ze.category||te.PERSONAL})),_e=n("tasks_occ",[]).map(ze=>({...ze,category:ze.category||te.OCCUPATIONAL})),at=n("fin_tasks_v2",[]).map(ze=>({...ze,category:ze.category||te.FINANCIAL})),Kt=[...K,...he,..._e,...at];return Array.from(new Map(Kt.map(ze=>[ze.id,ze])).values())}),[p,h]=j.useState(()=>{const K=n("dashboard_main_focuses",[]),he=n("projects_personal",[]).map(ze=>({...ze,category:ze.category||te.PERSONAL})),_e=n("projects_occ",[]).map(ze=>({...ze,category:ze.category||te.OCCUPATIONAL})),at=n("fin_goals_data",[]).map(ze=>({...ze,category:ze.category||te.FINANCIAL})),Kt=[...K,...he,..._e,...at];return Array.from(new Map(Kt.map(ze=>[ze.id,ze])).values())}),[v,E]=j.useState(()=>n("dashboard_focus_headers",[" ","  ","  "])),[T,A]=j.useState(()=>{const K=n("dashboard_opps",[]),he=n("opps_personal",[]).map(ze=>({...ze,category:ze.category||te.PERSONAL})),_e=n("opps_occ",[]).map(ze=>({...ze,category:ze.category||te.OCCUPATIONAL})),at=n("fin_opps_data_v2",[]).map(ze=>({...ze,category:ze.category||te.FINANCIAL})),Kt=[...K.filter(ze=>ze.category===te.MAIN),...he,..._e,...at];return Array.from(new Map(Kt.map(ze=>[ze.id,ze])).values())}),[M,V]=j.useState(()=>localStorage.getItem("dash_hero_title")||" "),[w,z]=j.useState(()=>localStorage.getItem("dash_hero_desc")||"   "),[G,q]=j.useState(te.MAIN),[W,B]=j.useState(te.MAIN),[ae,U]=j.useState(te.MAIN),[L,P]=j.useState(te.MAIN),[I,N]=j.useState(()=>n("ideas_main",[])),[D,F]=j.useState(()=>n("ideas_personal",[])),[ve,Ee]=j.useState(()=>n("ideas_occ",[])),[ne,pe]=j.useState(()=>n("ideas_fin",[]));j.useEffect(()=>{localStorage.setItem("main_category_label",t)},[t]),j.useEffect(()=>{const K=u.filter(he=>he.category===te.MAIN);e("dashboard_main_tasks",K),e("tasks_personal",u.filter(he=>he.category===te.PERSONAL||he.category===te.MAIN&&he.originalCategory===te.PERSONAL)),e("tasks_occ",u.filter(he=>he.category===te.OCCUPATIONAL||he.category===te.MAIN&&he.originalCategory===te.OCCUPATIONAL)),e("fin_tasks_v2",u.filter(he=>he.category===te.FINANCIAL||he.category===te.MAIN&&he.originalCategory===te.FINANCIAL))},[u]),j.useEffect(()=>{const K=p.filter(he=>he.category===te.MAIN);e("dashboard_main_focuses",K),e("projects_personal",p.filter(he=>he.category===te.PERSONAL||he.category===te.MAIN&&he.originalCategory===te.PERSONAL)),e("projects_occ",p.filter(he=>he.category===te.OCCUPATIONAL||he.category===te.MAIN&&he.originalCategory===te.OCCUPATIONAL)),e("fin_goals_data",p.filter(he=>he.category===te.FINANCIAL||he.category===te.MAIN&&he.originalCategory===te.PERSONAL)),e("dashboard_focus_headers",v)},[p,v]),j.useEffect(()=>{e("dashboard_opps",T.filter(K=>K.category===te.MAIN)),e("opps_personal",T.filter(K=>K.category===te.PERSONAL||K.category===te.MAIN&&K.originalCategory===te.PERSONAL)),e("opps_occ",T.filter(K=>K.category===te.OCCUPATIONAL||K.category===te.MAIN&&K.originalCategory===te.PERSONAL)),e("fin_opps_data_v2",T.filter(K=>K.category===te.FINANCIAL||K.category===te.MAIN&&K.originalCategory===te.FINANCIAL))},[T]),j.useEffect(()=>{e("ideas_main",I)},[I]),j.useEffect(()=>{e("ideas_personal",D)},[D]),j.useEffect(()=>{e("ideas_occ",ve)},[ve]),j.useEffect(()=>{e("ideas_fin",ne)},[ne]);const fe=u.filter(K=>!K.completed&&K.category===G),Ce=K=>{d(he=>he.map(_e=>{if(_e.id===K){const at=!_e.completed;return{..._e,completed:at,completedAt:at?new Date().toISOString():void 0}}return _e}))},He=()=>{const K={id:Date.now().toString(),name:" ...",category:W,why:"",actions:[]};h([K,...p])},O=(K,he)=>{h(_e=>_e.map(at=>at.id===K?{...at,...he}:at))},Y=K=>{h(he=>he.map(_e=>_e.id===K?{..._e,originalCategory:_e.category,category:te.MAIN}:_e))},ue=K=>{h(he=>he.map(_e=>_e.id===K&&_e.originalCategory?{..._e,category:_e.originalCategory,originalCategory:void 0}:_e))},ge=()=>{const K=ae===te.MAIN?te.PERSONAL:ae,he={id:Date.now().toString(),name:" ...",category:K,date:new Date().toLocaleDateString("he-IL"),url:"",status:""};A([he,...T])},De=K=>{A(he=>he.map(_e=>_e.id===K?{..._e,originalCategory:_e.category,category:te.MAIN}:_e))},Oe=K=>{A(he=>he.map(_e=>_e.id===K&&_e.originalCategory?{..._e,category:_e.originalCategory,originalCategory:void 0}:_e))},Ge=K=>{K.stopPropagation(),i(he=>he===""?"":"")},It=K=>m.jsxs("div",{className:"space-y-2 py-2 text-right",dir:"rtl",children:[(K.actions||[]).map((he,_e)=>m.jsxs("div",{className:"flex items-center gap-2 group/action justify-end",children:[m.jsx("button",{onClick:()=>{const at=[...K.actions];at.splice(_e,1),O(K.id,{actions:at})},className:"opacity-0 group-hover/action:opacity-100 text-slate-300 hover:text-rose-500 transition-all",children:m.jsx(ui,{size:10})}),m.jsx(qj,{value:he.range,onChange:at=>{const Kt=[...K.actions||[]];Kt[_e]={...he,range:at},O(K.id,{actions:Kt})}}),m.jsx("div",{className:"flex-1",children:m.jsx(ke,{value:he.text,onChange:at=>{const Kt=[...K.actions];Kt[_e]={...he,text:at},O(K.id,{actions:Kt})},className:"text-slate-600 text-[11px] font-medium"})})]},_e)),m.jsxs("button",{onClick:()=>O(K.id,{actions:[...K.actions||[],{text:" ",range:""}]}),className:"text-[10px] font-bold text-blue-500 hover:text-blue-700 flex items-center gap-1 mt-1 transition-colors justify-end w-full",children:[m.jsx(St,{size:10}),"  "]})]}),rt=()=>L===te.MAIN?I:L===te.PERSONAL?D:L===te.OCCUPATIONAL?ve:L===te.FINANCIAL?ne:[],di=K=>{L===te.MAIN?N(K):L===te.PERSONAL?F(K):L===te.OCCUPATIONAL?Ee(K):L===te.FINANCIAL&&pe(K)},Hs=()=>{di([{id:Date.now().toString(),text:" ..."},...rt()])};return m.jsxs("div",{className:"pb-24 space-y-8 animate-fade-in text-right relative",dir:"rtl",children:[m.jsxs("div",{className:"relative rounded-3xl overflow-hidden shadow-xl h-56",children:[m.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-600 via-indigo-600 to-purple-600"}),m.jsxs("div",{className:"relative p-10 text-white flex flex-col md:flex-row md:items-end justify-between gap-6 h-full",children:[m.jsxs("div",{className:"flex items-start gap-6",children:[m.jsxs("div",{className:"relative w-16 h-16 shrink-0 flex items-center justify-center",children:[m.jsx("div",{className:"absolute top-0 w-8 h-8 bg-blue-500/40 rounded-full border border-blue-400/20 backdrop-blur-sm transform translate-y-0.5"}),m.jsx("div",{className:"absolute bottom-1 left-1 w-8 h-8 bg-indigo-600/40 rounded-full border border-indigo-400/20 backdrop-blur-sm transform -translate-x-0.5"}),m.jsx("div",{className:"absolute bottom-1 right-1 w-8 h-8 bg-purple-600/40 rounded-full border border-purple-400/20 backdrop-blur-sm transform translate-x-0.5"}),m.jsx("div",{className:"relative z-10 p-2 bg-white/20 rounded-full backdrop-blur-md border border-white/30 shadow-lg",children:m.jsx(jo,{size:24,className:"text-white"})})]}),m.jsx("div",{className:"space-y-1",children:m.jsxs("div",{className:"space-y-0.5",children:[m.jsx(ke,{value:M,onChange:V,className:"text-4xl font-bold text-white leading-none"}),m.jsx(ke,{value:w,onChange:z,className:"text-blue-100 text-lg font-light"})]})})]}),m.jsx("div",{className:"flex flex-col items-end gap-3",children:m.jsxs("div",{className:"bg-white/10 backdrop-blur-sm border border-white/20 px-5 py-3 rounded-2xl flex items-center gap-3 text-right",children:[m.jsx(Mo,{className:"w-5 h-5 text-emerald-300"}),m.jsxs("div",{children:[m.jsx("div",{className:"text-2xl font-bold leading-none",children:u.filter(K=>!K.completed).length}),m.jsx("div",{className:"text-[10px] uppercase opacity-80",children:" "})]})]})})]})]}),m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8",children:[m.jsx("div",{className:"col-span-12 h-96",children:m.jsx(Mh,{title:"  ",externalDraft:r,onModalClose:()=>a(null)})}),m.jsx("div",{className:"col-span-12 lg:col-span-12 space-y-5",children:m.jsxs($t,{id:"dash_tasks_v4",title:" ",icon:m.jsx(Fo,{size:20,className:"text-blue-500"}),headerAction:m.jsxs(ec,{to:"/archive",className:"flex items-center gap-2 px-3 py-1.5 bg-slate-100 hover:bg-blue-50 text-slate-500 hover:text-blue-600 rounded-lg transition-all text-xs font-bold border border-slate-200",children:[m.jsx(bf,{size:14}),m.jsx("span",{children:" "})]}),children:[m.jsx("div",{className:"bg-slate-100 p-1 rounded-xl flex gap-1 m-4",children:[te.MAIN,te.PERSONAL,te.FINANCIAL,te.OCCUPATIONAL].map(K=>m.jsxs("button",{onClick:()=>q(K),className:`flex-1 py-2 rounded-lg text-xs font-bold transition-all flex items-center justify-center gap-2 ${G===K?"bg-white text-blue-600 shadow-sm":"text-slate-500"}`,children:[K===te.MAIN?t:K,K===te.MAIN&&m.jsx("div",{onClick:Ge,className:"p-1 hover:bg-slate-100 rounded-md transition-colors",title:"   ",children:m.jsx(zm,{size:12})})]},K))}),m.jsxs("div",{className:"divide-y divide-slate-100 bg-white min-h-[100px]",children:[fe.length===0?m.jsx("div",{className:"py-12 text-center text-slate-300",children:m.jsx("p",{className:"text-sm",children:"    "})}):fe.map(K=>m.jsxs("div",{className:"p-4 flex items-center hover:bg-slate-50 group animate-fade-in",children:[m.jsx(kb,{size:14,className:"text-slate-300 ml-2"}),m.jsxs("div",{className:"flex-1 text-right mr-3 flex items-center gap-2",children:[K.category!==te.MAIN&&m.jsx("button",{onClick:()=>d(u.map(he=>he.id===K.id?{...he,originalCategory:he.category,category:te.MAIN}:he)),className:"p-1.5 bg-emerald-50 text-emerald-600 hover:bg-emerald-600 hover:text-white rounded-full transition-all",title:" ",children:m.jsx(ry,{size:14,strokeWidth:3})}),m.jsx(ke,{value:K.text,onChange:he=>d(_e=>_e.map(at=>at.id===K.id?{...at,text:he}:at)),className:`${K.completed?"text-slate-400 line-through":"text-slate-800 font-bold"}`}),G===te.MAIN&&K.originalCategory&&m.jsx("span",{className:"scale-75 origin-right opacity-60",children:m.jsx(bi,{category:K.originalCategory})})]}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("button",{onClick:()=>a({title:K.text,category:K.category===te.MAIN?K.originalCategory||te.PERSONAL:K.category}),className:"p-1.5 bg-blue-50 text-blue-600 hover:bg-blue-600 hover:text-white rounded-full transition-all",title:" ",children:m.jsx(th,{size:14})}),G===te.MAIN&&K.originalCategory&&m.jsx("button",{onClick:()=>d(u.map(he=>he.id===K.id&&he.originalCategory?{...he,category:he.originalCategory,originalCategory:void 0}:he)),className:"p-1.5 bg-rose-50 text-rose-600 hover:bg-rose-600 hover:text-white rounded-full transition-all",children:m.jsx(is,{size:14})}),m.jsx("input",{type:"checkbox",checked:K.completed,onChange:()=>Ce(K.id),className:"appearance-none w-5 h-5 border-2 border-slate-900 rounded bg-white cursor-pointer relative checked:after:content-[''] checked:after:absolute checked:after:inset-0 checked:after:flex checked:after:items-center checked:after:justify-center checked:after:text-slate-900 checked:after:font-bold transition-all"}),m.jsx("button",{onClick:()=>d(he=>he.filter(_e=>_e.id!==K.id)),className:"opacity-0 group-hover:opacity-100 p-1 text-slate-300 hover:text-rose-500 transition-opacity",children:m.jsx(Qt,{size:14})})]})]},K.id)),m.jsxs("button",{onClick:()=>d([{id:Date.now().toString(),text:" ",completed:!1,category:G},...u]),className:"w-full p-4 text-xs font-bold border-t flex items-center justify-center gap-2 text-blue-600 hover:bg-slate-50",children:[m.jsx(No,{size:16}),"   "]})]})]})}),m.jsx("div",{className:"col-span-12 space-y-5 overflow-hidden",children:m.jsxs($t,{id:"dash_focuses_full_wide",title:" ",icon:m.jsx(IM,{size:20,className:"text-amber-500"}),children:[m.jsx("div",{className:"bg-slate-100 p-1 rounded-xl flex gap-1 m-4",children:[te.MAIN,te.PERSONAL,te.FINANCIAL,te.OCCUPATIONAL].map(K=>m.jsxs("button",{onClick:()=>B(K),className:`flex-1 py-2 rounded-lg text-xs font-bold transition-all flex items-center justify-center gap-2 ${W===K?"bg-white text-amber-600 shadow-sm":"text-slate-500"}`,children:[K===te.MAIN?t:K,K===te.MAIN&&m.jsx("div",{onClick:Ge,className:"p-1 hover:bg-slate-100 rounded-md transition-colors",children:m.jsx(zm,{size:12})})]},K))}),m.jsx("div",{className:"overflow-x-auto pb-4 scrollbar-thin scrollbar-thumb-slate-200",children:m.jsx("div",{className:"min-w-[1000px] bg-white",children:m.jsx(us,{data:p.filter(K=>K.category===W),columns:[{header:m.jsx("div",{className:"w-10 text-center",children:""}),accessor:K=>m.jsx("div",{className:"flex justify-center",children:W!==te.MAIN?m.jsx("button",{onClick:()=>Y(K.id),className:"p-2 bg-emerald-50 text-emerald-600 hover:bg-emerald-600 hover:text-white rounded-lg transition-all",children:m.jsx(St,{size:16,strokeWidth:3})}):m.jsx("button",{onClick:()=>ue(K.id),className:"p-2 bg-rose-50 text-rose-600 hover:bg-rose-600 hover:text-white rounded-lg transition-all",children:m.jsx(is,{size:16,strokeWidth:3})})}),width:"60px"},{header:m.jsx(ke,{value:v[0],onChange:K=>E([K,v[1],v[2]])}),accessor:K=>m.jsxs("div",{className:"text-right",children:[m.jsx(ke,{value:K.name,onChange:he=>O(K.id,{name:he}),className:"font-bold text-slate-800 text-lg"}),W===te.MAIN&&K.originalCategory&&m.jsx("div",{className:"mt-1",children:m.jsx(bi,{category:K.originalCategory})})]}),width:"250px"},{header:m.jsx(ke,{value:v[1],onChange:K=>E([v[0],K,v[2]])}),accessor:K=>m.jsx(ke,{value:K.why,onChange:he=>O(K.id,{why:he}),multiline:!0,className:"min-h-[60px]"}),width:"300px"},{header:m.jsx(ke,{value:v[2],onChange:K=>E([v[0],v[1],K])}),accessor:K=>It(K),width:"350px"},{header:"",accessor:K=>m.jsx("button",{onClick:()=>h(he=>he.filter(_e=>_e.id!==K.id)),className:"text-slate-300 hover:text-rose-500 p-2",children:m.jsx(Qt,{size:16})}),width:"40px"}]})})}),m.jsxs("button",{onClick:He,className:"w-full p-4 text-sm font-bold border-t flex items-center justify-center gap-2 text-amber-600 hover:bg-slate-50",children:[m.jsx(No,{size:18}),"    "]})]})}),m.jsx("div",{className:"col-span-12 space-y-5",children:m.jsxs($t,{id:"dash_opps_v2",title:" ",icon:m.jsx(sc,{size:20,className:"text-amber-500"}),children:[m.jsx("div",{className:"bg-slate-100 p-1 rounded-xl flex gap-1 m-4",children:[te.MAIN,te.PERSONAL,te.FINANCIAL,te.OCCUPATIONAL].map(K=>m.jsxs("button",{onClick:()=>U(K),className:`flex-1 py-2 rounded-lg text-xs font-bold transition-all flex items-center justify-center gap-2 ${ae===K?"bg-white text-amber-600 shadow-sm":"text-slate-500"}`,children:[K===te.MAIN?t:K,K===te.MAIN&&m.jsx("div",{onClick:Ge,className:"p-1 hover:bg-slate-100 rounded-md transition-colors",children:m.jsx(zm,{size:12})})]},K))}),m.jsx(us,{data:T.filter(K=>ae===te.MAIN?K.category===te.MAIN:K.category===ae),columns:[{header:m.jsx("div",{className:"w-10 text-center",children:""}),accessor:K=>m.jsx("div",{className:"flex justify-center",children:ae!==te.MAIN?m.jsx("button",{onClick:()=>De(K.id),className:"p-1.5 bg-emerald-50 text-emerald-600 hover:bg-emerald-600 hover:text-white rounded-lg transition-all",children:m.jsx(St,{size:14,strokeWidth:3})}):m.jsx("button",{onClick:()=>Oe(K.id),className:"p-1.5 bg-rose-50 text-rose-600 hover:bg-rose-600 hover:text-white rounded-lg transition-all",children:m.jsx(is,{size:14,strokeWidth:3})})}),width:"60px"},{header:" ",accessor:K=>m.jsxs("div",{className:"flex items-center gap-2 justify-end",children:[m.jsx(ke,{value:K.name,onChange:he=>A(T.map(_e=>_e.id===K.id?{..._e,name:he}:_e)),className:"font-bold text-slate-700"}),ae===te.MAIN&&K.originalCategory&&m.jsx(bi,{category:K.originalCategory})]})},{header:"",accessor:K=>m.jsx(ke,{value:K.date,onChange:he=>A(T.map(_e=>_e.id===K.id?{..._e,date:he}:_e)),className:"text-[11px] font-mono text-slate-400"})},{header:"",accessor:K=>m.jsxs("div",{className:"flex items-center gap-2 justify-end",children:[K.url&&m.jsx("a",{href:K.url.startsWith("http")?K.url:`https://${K.url}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:text-blue-700",children:m.jsx(oy,{size:14})}),m.jsx(ke,{value:K.url||"",onChange:he=>A(T.map(_e=>_e.id===K.id?{..._e,url:he}:_e)),placeholder:" ...",className:"text-[10px] text-slate-400 w-24"})]})},{header:"",accessor:K=>m.jsxs("div",{className:"flex flex-col items-end gap-1",children:[m.jsx(bi,{category:K.category}),K.originalCategory&&m.jsx("span",{className:"scale-[0.7] opacity-40 origin-right",children:m.jsx(bi,{category:K.originalCategory})})]})},{header:"",accessor:K=>m.jsx("button",{onClick:()=>A(T.filter(he=>he.id!==K.id)),className:"text-slate-300 hover:text-rose-500",children:m.jsx(Qt,{size:14})})}]}),m.jsxs("button",{onClick:ge,className:"w-full p-4 text-sm font-bold border-t flex items-center justify-center gap-2 text-amber-600 hover:bg-slate-50",children:[m.jsx(No,{size:18}),"   "]})]})}),m.jsx("div",{className:"col-span-12 space-y-5",children:m.jsxs($t,{id:"dash_ideas_v1",title:" ",icon:m.jsx(ic,{size:20,className:"text-amber-400"}),children:[m.jsx("div",{className:"bg-slate-100 p-1 rounded-xl flex gap-1 m-4",children:[te.MAIN,te.PERSONAL,te.FINANCIAL,te.OCCUPATIONAL].map(K=>m.jsx("button",{onClick:()=>P(K),className:`flex-1 py-2 rounded-lg text-xs font-bold transition-all flex items-center justify-center gap-2 ${L===K?"bg-white text-amber-600 shadow-sm":"text-slate-500"}`,children:K===te.MAIN?t:K},K))}),m.jsxs("div",{className:"p-6 space-y-3 min-h-[100px]",children:[rt().length===0?m.jsx("div",{className:"py-8 text-center text-slate-300 text-sm italic",children:"   ."}):rt().map(K=>m.jsxs("div",{className:"flex items-center gap-3 group bg-white border border-slate-100 p-3 rounded-2xl hover:shadow-sm transition-all text-right",children:[m.jsx("div",{className:"w-1.5 h-1.5 bg-amber-400 rounded-full shrink-0"}),m.jsx("div",{className:"flex-1",children:m.jsx(ke,{value:K.text,onChange:he=>di(rt().map(_e=>_e.id===K.id?{..._e,text:he}:_e)),className:"text-slate-700 text-sm font-medium"})}),m.jsx("button",{onClick:()=>di(rt().filter(he=>he.id!==K.id)),className:"opacity-0 group-hover:opacity-100 text-slate-300 hover:text-rose-500 transition-all",children:m.jsx(Qt,{size:16})})]},K.id)),m.jsxs("button",{onClick:Hs,className:"w-full py-3 text-xs font-bold text-slate-400 hover:text-amber-600 flex items-center justify-center gap-2 border-2 border-dashed border-slate-100 rounded-2xl hover:border-amber-200 hover:bg-amber-50 transition-all",children:[m.jsx(No,{size:16}),"    ",L===te.MAIN?t:L]})]})]})})]})]})},Gj=[{label:"",class:"bg-white"},{label:"",class:"bg-slate-50"},{label:"",class:"bg-blue-50"},{label:"",class:"bg-emerald-50"},{label:"",class:"bg-amber-50"},{label:"",class:"bg-rose-50"},{label:"",class:"bg-purple-50"},{label:"",class:"bg-indigo-50"}],l0=({title:n,value:e,onSave:t,id:i="default_vision"})=>{const[r,a]=j.useState(!1),[u,d]=j.useState(e),[p,h]=j.useState(!1),[v,E]=j.useState(()=>{const w=localStorage.getItem(`vision_style_${i}`);return w?JSON.parse(w):{color:"bg-white"}}),[T,A]=j.useState(!1);j.useEffect(()=>{localStorage.setItem(`vision_style_${i}`,JSON.stringify(v))},[v,i]),j.useEffect(()=>{d(e)},[e]);const M=()=>{t(u),h(!0),setTimeout(()=>h(!1),2e3)},V=r?"ring-2 ring-blue-500/10 shadow-xl scale-[1.01]":"hover:shadow-lg hover:-translate-y-0.5";return m.jsxs("div",{className:`rounded-2xl border border-slate-200 transition-all duration-300 mb-8 relative ${v.color} ${V}`,children:[T&&m.jsxs("div",{className:"absolute top-14 left-4 z-50 bg-white border border-slate-200 shadow-2xl rounded-xl p-4 w-64 animate-fade-in text-right cursor-auto",onClick:w=>w.stopPropagation(),children:[m.jsxs("div",{className:"flex justify-between items-center mb-3 pb-2 border-b border-slate-100",children:[m.jsxs("span",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider flex items-center gap-1",children:[m.jsx(ja,{size:12})," "]}),m.jsx("button",{onClick:()=>A(!1),children:m.jsx(ui,{size:14,className:"text-slate-400 hover:text-rose-500"})})]}),m.jsx("div",{className:"grid grid-cols-4 gap-2",children:Gj.map(w=>m.jsx("button",{onClick:()=>E({color:w.class}),className:`h-8 rounded-lg border border-black/5 flex items-center justify-center transition-transform hover:scale-105 ${w.class} ${v.color===w.class?"ring-2 ring-blue-500 ring-offset-1":""}`,title:w.label,children:v.color===w.class&&m.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"})},w.class))})]}),m.jsxs("div",{onClick:()=>a(!r),className:"p-5 cursor-pointer flex items-center justify-between group",children:[m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center transition-colors ${r?"bg-indigo-100 text-indigo-600":"bg-slate-50/80 text-slate-400 group-hover:bg-indigo-50 group-hover:text-indigo-500"}`,children:m.jsx(jo,{size:18})}),m.jsxs("div",{className:"text-right",children:[m.jsx("span",{className:"block font-bold text-slate-800 text-lg group-hover:text-indigo-600 transition-colors",children:n}),!r&&m.jsx("span",{className:"text-xs text-slate-400 block mt-0.5",children:"    "})]})]}),m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("button",{onClick:w=>{w.stopPropagation(),A(!T)},className:"p-2 text-slate-300 hover:text-blue-600 hover:bg-black/5 rounded-lg transition-colors",title:" ",children:m.jsx(qb,{size:18})}),m.jsx("div",{className:"text-slate-300 group-hover:text-indigo-400 transition-colors",children:r?m.jsx(Ib,{size:20}):m.jsx(Nb,{size:20})})]})]}),m.jsx("div",{className:`transition-all duration-500 ease-in-out overflow-hidden ${r?"max-h-[600px] opacity-100":"max-h-0 opacity-0"}`,children:m.jsxs("div",{className:"p-6 pt-0",children:[m.jsxs("div",{className:"relative bg-white/50 rounded-xl p-6 border border-slate-200/50",children:[m.jsx(sM,{size:40,className:"absolute -top-3 -right-2 text-indigo-100 transform scale-x-[-1]"}),m.jsx("textarea",{className:"w-full h-40 bg-transparent border-none focus:ring-0 outline-none resize-none text-slate-600 leading-relaxed text-right font-medium text-lg placeholder-slate-300",placeholder:"    ...",value:u,onChange:w=>d(w.target.value),onClick:w=>w.stopPropagation()})]}),m.jsx("div",{className:"flex justify-end items-center mt-4",children:m.jsxs("button",{onClick:w=>{w.stopPropagation(),M()},className:`flex items-center gap-2 px-6 py-2 rounded-full transition-all shadow-md text-sm font-bold transform active:scale-95 ${p?"bg-green-500 text-white shadow-green-200":"bg-slate-900 text-white hover:bg-indigo-600 shadow-slate-200 hover:shadow-indigo-200"}`,children:[p?m.jsx(Fo,{size:16}):m.jsx(zb,{size:16}),p?" ":" "]})})]})})]})},Bj=({value:n,onChange:e})=>{const t={:"bg-emerald-100 text-emerald-700",:"bg-blue-100 text-blue-700",:"bg-purple-100 text-purple-700"};return m.jsxs("select",{value:n,onChange:i=>e(i.target.value),className:`text-[10px] font-bold px-2 py-0.5 rounded-full outline-none cursor-pointer border border-transparent hover:border-slate-300 transition-all ${t[n]||"bg-slate-100"}`,children:[m.jsx("option",{value:"",children:""}),m.jsx("option",{value:"",children:""}),m.jsx("option",{value:"",children:""})]})},$j=()=>{const n=(I,N)=>{const D=localStorage.getItem(I);return D?JSON.parse(D):N},e=(I,N)=>localStorage.setItem(I,JSON.stringify(N)),[t,i]=j.useState(()=>localStorage.getItem("title_personal")||""),[r,a]=j.useState(()=>localStorage.getItem("desc_personal")||"    ."),[u,d]=j.useState(()=>localStorage.getItem("vision_personal")||"     ..."),[p,h]=j.useState(()=>n("dashboard_focus_headers",["  ","   ","  "])),[v,E]=j.useState(null),[T,A]=j.useState(()=>n("projects_personal",[{id:"1",name:" ",why:" ",actions:[{text:"  ",range:""},{text:" ",range:""}]}])),[M,V]=j.useState(()=>n("tasks_personal",[{id:"1",text:"  ",completed:!1,category:te.PERSONAL}])),[w,z]=j.useState(()=>n("opps_personal",[{id:"p1",name:" ",date:"01/05/2026",url:"",category:te.PERSONAL,status:""}])),[G,q]=j.useState(()=>n("ideas_personal",[]));j.useEffect(()=>{e("projects_personal",T),e("tasks_personal",M),e("opps_personal",w),e("ideas_personal",G),e("dashboard_focus_headers",p),localStorage.setItem("title_personal",t),localStorage.setItem("desc_personal",r),localStorage.setItem("vision_personal",u)},[T,M,w,G,t,r,u,p]);const W=M.filter(I=>!I.completed),B=I=>{V(N=>N.map(D=>{if(D.id===I){const F=!D.completed;return{...D,completed:F,completedAt:F?new Date().toISOString():void 0}}return D}))},ae=(I,N,D)=>{const F=[...I.actions||[]],ve=F[N];F[N]={...ve,range:D},A(T.map(Ee=>Ee.id===I.id?{...Ee,actions:F}:Ee)),D===""&&ve.text.trim()&&(M.some(ne=>ne.text===ve.text)||V([{id:Date.now().toString(),text:ve.text,completed:!1,category:te.PERSONAL},...M]))},U=I=>{z(N=>N.map(D=>D.id===I?{...D,originalCategory:D.category,category:te.MAIN}:D))},L=I=>{z(N=>N.map(D=>D.id===I&&D.originalCategory?{...D,category:D.originalCategory,originalCategory:void 0}:D))},P=I=>m.jsxs("div",{className:"space-y-2 py-2 text-right",dir:"rtl",children:[(I.actions||[]).map((N,D)=>m.jsxs("div",{className:"flex items-center gap-2 group/action justify-end",children:[m.jsx("button",{onClick:()=>{const F=[...I.actions];F.splice(D,1),A(T.map(ve=>ve.id===I.id?{...ve,actions:F}:ve))},className:"opacity-0 group-hover/action:opacity-100 text-slate-300 hover:text-rose-500 transition-all",children:m.jsx(ui,{size:10})}),m.jsx(Bj,{value:N.range,onChange:F=>ae(I,D,F)}),m.jsx("div",{className:"flex-1",children:m.jsx(ke,{value:N.text,onChange:F=>{const ve=[...I.actions];ve[D]={...N,text:F},A(T.map(Ee=>Ee.id===I.id?{...Ee,actions:ve}:Ee))},className:"text-slate-600 text-[11px] font-medium"})})]},D)),m.jsxs("button",{onClick:()=>A(T.map(N=>N.id===I.id?{...N,actions:[...N.actions||[],{text:" ",range:""}]}:N)),className:"text-[10px] font-bold text-indigo-500 hover:text-indigo-700 flex items-center gap-1 mt-1 transition-colors justify-end w-full",children:[m.jsx(St,{size:10}),"  "]})]});return m.jsxs("div",{className:"space-y-10 animate-fade-in max-w-7xl mx-auto pb-24 text-right",dir:"rtl",children:[m.jsxs("div",{className:"flex items-center gap-5 border-b border-slate-200/60 pb-8",children:[m.jsx("div",{className:"w-16 h-16 bg-rose-50 text-rose-500 rounded-2xl flex items-center justify-center shadow-sm ring-4 ring-rose-50/50",children:m.jsx(Cf,{size:32})}),m.jsxs("div",{className:"flex-1 text-right",children:[m.jsx(ke,{value:t,onChange:i,className:"text-4xl font-bold text-slate-800"}),m.jsx(ke,{value:r,onChange:a,className:"text-slate-500 text-lg mt-1 font-light"})]})]}),m.jsx(l0,{title:" ",value:u,onSave:d,id:"vision_personal"}),m.jsxs($t,{id:"pers_projects",title:" ",icon:m.jsx(Ob,{size:20,className:"text-indigo-600"}),children:[m.jsx("div",{className:"overflow-x-auto",children:m.jsx("div",{className:"min-w-[1000px]",children:m.jsx(us,{data:T,columns:[{header:m.jsx("div",{className:"w-10 text-center",children:""}),accessor:I=>m.jsx("div",{className:"flex justify-center",children:I.category!==te.MAIN?m.jsx("button",{onClick:()=>A(T.map(N=>N.id===I.id?{...N,originalCategory:te.PERSONAL,category:te.MAIN}:N)),className:"p-2 bg-emerald-50 text-emerald-600 hover:bg-emerald-600 hover:text-white rounded-lg transition-all",children:m.jsx(St,{size:16,strokeWidth:3})}):m.jsx("button",{onClick:()=>A(T.map(N=>N.id===I.id?{...N,category:te.PERSONAL,originalCategory:void 0}:N)),className:"p-2 bg-rose-50 text-rose-600 hover:bg-rose-600 hover:text-white rounded-lg transition-all",children:m.jsx(is,{size:16,strokeWidth:3})})}),width:"60px"},{header:m.jsx(ke,{value:p[0],onChange:I=>h([I,p[1],p[2]])}),accessor:I=>m.jsx("div",{className:"text-right",children:m.jsx(ke,{value:I.name,onChange:N=>A(T.map(D=>D.id===I.id?{...D,name:N}:D)),className:"font-bold text-slate-800 text-lg"})}),width:"250px"},{header:m.jsx(ke,{value:p[1],onChange:I=>h([p[0],I,p[2]])}),accessor:I=>m.jsx(ke,{value:I.why,onChange:N=>A(T.map(D=>D.id===I.id?{...D,why:N}:D)),multiline:!0,className:"min-h-[60px]"}),width:"300px"},{header:m.jsx(ke,{value:p[2],onChange:I=>h([p[0],p[1],I])}),accessor:I=>P(I),width:"350px"},{header:"",accessor:I=>m.jsx("button",{onClick:()=>A(T.filter(N=>N.id!==I.id)),className:"text-slate-300 hover:text-rose-500 p-2",children:m.jsx(Qt,{size:16})}),width:"50px"}]})})}),m.jsxs("button",{onClick:()=>A([...T,{id:Date.now().toString(),name:" ",actions:[{text:" ",range:""}],why:""}]),className:"w-full p-4 text-sm font-semibold text-slate-500 hover:text-indigo-600 border-t flex items-center justify-center gap-2",children:[m.jsx(St,{size:14}),"   "]})]}),m.jsxs($t,{id:"pers_tasks",title:" ",icon:m.jsx(nc,{size:20,className:"text-emerald-600"}),children:[m.jsx("div",{className:"divide-y divide-slate-100",children:W.length===0?m.jsx("div",{className:"py-8 text-center text-slate-300 text-sm italic",children:"   .     ."}):W.map(I=>m.jsxs("div",{className:"flex items-center gap-4 group p-4 animate-in fade-in slide-in-from-top-2 duration-300",children:[m.jsxs("div",{className:"flex-1 text-right flex items-center gap-2",children:[I.category!==te.MAIN&&m.jsx("button",{onClick:()=>V(M.map(N=>N.id===I.id?{...N,originalCategory:N.category,category:te.MAIN}:N)),className:"p-1.5 bg-emerald-50 text-emerald-600 hover:bg-emerald-600 hover:text-white rounded-full transition-all",title:" ",children:m.jsx(ry,{size:14,strokeWidth:3})}),m.jsx(ke,{value:I.text,onChange:N=>V(M.map(D=>D.id===I.id?{...D,text:N}:D)),className:`${I.completed?"text-slate-400 line-through":"text-slate-700 font-medium"} text-lg`}),I.category===te.MAIN&&m.jsx(bi,{category:te.MAIN})]}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("button",{onClick:()=>E({title:I.text,category:""}),className:"p-1.5 bg-blue-50 text-blue-600 hover:bg-blue-600 hover:text-white rounded-full transition-all",title:" ",children:m.jsx(th,{size:14})}),I.category===te.MAIN&&m.jsx("button",{onClick:()=>V(M.map(N=>N.id===I.id&&N.originalCategory?{...N,category:N.originalCategory,originalCategory:void 0}:N)),className:"p-1.5 bg-rose-50 text-rose-600 hover:bg-rose-600 hover:text-white rounded-full transition-all",children:m.jsx(is,{size:14})}),m.jsx("input",{type:"checkbox",checked:I.completed,onChange:()=>B(I.id),className:"appearance-none w-5 h-5 border-2 border-slate-900 rounded bg-white cursor-pointer relative checked:after:content-[''] checked:after:absolute checked:after:inset-0 checked:after:flex checked:after:items-center checked:after:justify-center checked:after:text-slate-900 checked:after:font-bold transition-all"})]}),m.jsx("button",{onClick:()=>V(M.filter(N=>N.id!==I.id)),className:"opacity-0 group-hover:opacity-100 text-slate-300 hover:text-rose-500 p-2",children:m.jsx(Qt,{size:16})})]},I.id))}),m.jsxs("button",{onClick:()=>V([{id:Date.now().toString(),text:"",completed:!1,category:te.PERSONAL},...M]),className:"w-full p-4 text-sm font-bold text-slate-500 hover:text-emerald-600 border-t flex items-center justify-center gap-2",children:[m.jsx(St,{size:14}),"  "]})]}),m.jsx("div",{className:"h-96",children:m.jsx(Mh,{title:" ",externalDraft:v,onModalClose:()=>E(null)})}),m.jsxs($t,{id:"pers_opps",title:" ",icon:m.jsx(sc,{size:20,className:"text-amber-500"}),children:[m.jsx(us,{data:w,columns:[{header:m.jsx("div",{className:"w-10 text-center",children:""}),accessor:I=>m.jsx("div",{className:"flex justify-center",children:I.category!==te.MAIN?m.jsx("button",{onClick:()=>U(I.id),className:"p-1.5 bg-emerald-50 text-emerald-600 hover:bg-emerald-600 hover:text-white rounded-lg transition-all",children:m.jsx(St,{size:14,strokeWidth:3})}):m.jsx("button",{onClick:()=>L(I.id),className:"p-1.5 bg-rose-50 text-rose-600 hover:bg-rose-600 hover:text-white rounded-lg transition-all",children:m.jsx(is,{size:14,strokeWidth:3})})}),width:"60px"},{header:" ",accessor:I=>m.jsxs("div",{className:"flex items-center gap-2 justify-end",children:[m.jsx(ke,{value:I.name,onChange:N=>z(w.map(D=>D.id===I.id?{...D,name:N}:D)),className:"font-bold text-slate-800 text-right"}),I.category===te.MAIN&&m.jsx(bi,{category:te.MAIN})]})},{header:"",accessor:I=>m.jsxs("div",{className:"flex items-center gap-2 justify-end",children:[I.url&&m.jsx("a",{href:I.url.startsWith("http")?I.url:`https://${I.url}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:text-blue-700",children:m.jsx(oy,{size:14})}),m.jsx(ke,{value:I.url||"",onChange:N=>z(w.map(D=>D.id===I.id?{...D,url:N}:D)),placeholder:" ...",className:"text-[11px] text-slate-400 w-24"})]})},{header:" ",accessor:I=>m.jsxs("div",{className:"flex items-center gap-1.5 justify-end bg-slate-50 px-2 py-1 rounded-md ml-auto text-slate-500 text-xs",children:[m.jsx(tc,{size:12}),m.jsx(ke,{value:I.date,onChange:N=>z(w.map(D=>D.id===I.id?{...D,date:N}:D)),className:"font-mono"})]})},{header:"",accessor:I=>m.jsx("button",{onClick:()=>z(w.filter(N=>N.id!==I.id)),className:"text-slate-300 hover:text-rose-500 p-2",children:m.jsx(Qt,{size:16})}),width:"50px"}]}),m.jsxs("button",{onClick:()=>z([{id:Date.now().toString(),name:" ",date:new Date().toLocaleDateString("he-IL"),url:"",category:te.PERSONAL,status:""},...w]),className:"w-full p-4 text-sm font-bold text-slate-500 hover:text-amber-600 border-t flex items-center justify-center gap-2",children:[m.jsx(St,{size:14}),"   "]})]}),m.jsx($t,{id:"pers_ideas",title:" ",icon:m.jsx(ic,{size:20,className:"text-amber-400"}),children:m.jsxs("div",{className:"p-6 space-y-3",children:[G.map(I=>m.jsxs("div",{className:"flex items-center gap-3 group bg-white border border-slate-100 p-3 rounded-2xl hover:shadow-sm transition-all",children:[m.jsx("div",{className:"w-1.5 h-1.5 bg-amber-400 rounded-full shrink-0"}),m.jsx("div",{className:"flex-1",children:m.jsx(ke,{value:I.text,onChange:N=>q(G.map(D=>D.id===I.id?{...D,text:N}:D)),className:"text-slate-700 text-sm font-medium"})}),m.jsx("button",{onClick:()=>q(G.filter(N=>N.id!==I.id)),className:"opacity-0 group-hover:opacity-100 text-slate-300 hover:text-rose-500 transition-all",children:m.jsx(Qt,{size:16})})]},I.id)),m.jsxs("button",{onClick:()=>q([{id:Date.now().toString(),text:" ..."},...G]),className:"w-full py-3 text-xs font-bold text-slate-400 hover:text-amber-600 flex items-center justify-center gap-2 border-2 border-dashed border-slate-100 rounded-2xl hover:border-amber-200 hover:bg-amber-50 transition-all",children:[m.jsx(No,{size:16}),"   "]})]})})]})},Jj=({value:n,onChange:e})=>{const t={:"bg-emerald-100 text-emerald-700",:"bg-blue-100 text-blue-700",:"bg-purple-100 text-purple-700"};return m.jsxs("select",{value:n,onChange:i=>e(i.target.value),className:`text-[10px] font-bold px-2 py-0.5 rounded-full outline-none cursor-pointer border border-transparent hover:border-slate-300 transition-all ${t[n]||"bg-slate-100"}`,children:[m.jsx("option",{value:"",children:""}),m.jsx("option",{value:"",children:""}),m.jsx("option",{value:"",children:""})]})},Kj=()=>{const n=(I,N)=>{const D=localStorage.getItem(I);return D?JSON.parse(D):N},e=(I,N)=>localStorage.setItem(I,JSON.stringify(N)),[t,i]=j.useState(()=>localStorage.getItem("title_occ")||""),[r,a]=j.useState(()=>localStorage.getItem("desc_occ")||"   ."),[u,d]=j.useState(()=>localStorage.getItem("vision_occupational")||"  ..."),[p,h]=j.useState(()=>n("dashboard_focus_headers",["  ","   ","  "])),[v,E]=j.useState(null),[T,A]=j.useState(()=>n("projects_occ",[{id:"1",name:"  Fullstack",why:" ",actions:[{text:"  ",range:""}]}])),[M,V]=j.useState(()=>n("tasks_occ",[{id:"1",text:"  ",completed:!1,category:te.OCCUPATIONAL}])),[w,z]=j.useState(()=>n("opps_occ",[{id:"o1",name:" ",date:"12/06/2026",url:"",category:te.OCCUPATIONAL,status:""}])),[G,q]=j.useState(()=>n("ideas_occ",[]));j.useEffect(()=>{e("projects_occ",T),e("tasks_occ",M),e("opps_occ",w),e("ideas_occ",G),e("dashboard_focus_headers",p),localStorage.setItem("title_occ",t),localStorage.setItem("desc_occ",r),localStorage.setItem("vision_occupational",u)},[T,M,w,G,t,r,u,p]);const W=M.filter(I=>!I.completed),B=I=>{V(N=>N.map(D=>{if(D.id===I){const F=!D.completed;return{...D,completed:F,completedAt:F?new Date().toISOString():void 0}}return D}))},ae=(I,N,D)=>{const F=[...I.actions||[]],ve=F[N];F[N]={...ve,range:D},A(T.map(Ee=>Ee.id===I.id?{...Ee,actions:F}:Ee)),D===""&&ve.text.trim()&&(M.some(ne=>ne.text===ve.text)||V([{id:Date.now().toString(),text:ve.text,completed:!1,category:te.OCCUPATIONAL},...M]))},U=I=>{z(N=>N.map(D=>D.id===I?{...D,originalCategory:D.category,category:te.MAIN}:D))},L=I=>{z(N=>N.map(D=>D.id===I&&D.originalCategory?{...D,category:D.originalCategory,originalCategory:void 0}:D))},P=I=>m.jsxs("div",{className:"space-y-2 py-2 text-right",dir:"rtl",children:[(I.actions||[]).map((N,D)=>m.jsxs("div",{className:"flex items-center gap-2 group/action justify-end",children:[m.jsx("button",{onClick:()=>{const F=[...I.actions];F.splice(D,1),A(T.map(ve=>ve.id===I.id?{...ve,actions:F}:ve))},className:"opacity-0 group-hover/action:opacity-100 text-slate-300 hover:text-rose-500 transition-all",children:m.jsx(ui,{size:10})}),m.jsx(Jj,{value:N.range,onChange:F=>ae(I,D,F)}),m.jsx("div",{className:"flex-1",children:m.jsx(ke,{value:N.text,onChange:F=>{const ve=[...I.actions];ve[D]={...N,text:F},A(T.map(Ee=>Ee.id===I.id?{...Ee,actions:ve}:Ee))},className:"text-slate-600 text-[11px] font-medium"})})]},D)),m.jsxs("button",{onClick:()=>A(T.map(N=>N.id===I.id?{...N,actions:[...N.actions||[],{text:" ",range:""}]}:N)),className:"text-[10px] font-bold text-blue-500 hover:text-blue-700 flex items-center gap-1 mt-1 transition-colors justify-end w-full",children:[m.jsx(St,{size:10}),"  "]})]});return m.jsxs("div",{className:"space-y-10 animate-fade-in max-w-7xl mx-auto pb-24 text-right",dir:"rtl",children:[m.jsxs("div",{className:"flex items-center gap-5 border-b border-slate-200/60 pb-8",children:[m.jsx("div",{className:"w-16 h-16 bg-blue-50 text-blue-600 rounded-2xl flex items-center justify-center shadow-sm ring-4 ring-blue-50/50",children:m.jsx(wb,{size:32})}),m.jsxs("div",{className:"flex-1 text-right",children:[m.jsx(ke,{value:t,onChange:i,className:"text-4xl font-bold text-slate-800"}),m.jsx(ke,{value:r,onChange:a,className:"text-slate-500 text-lg mt-1 font-light"})]})]}),m.jsx(l0,{title:" ",value:u,onSave:d,id:"vision_occ"}),m.jsxs($t,{id:"occ_projects",title:" ",icon:m.jsx(Ob,{size:20,className:"text-indigo-600"}),children:[m.jsx("div",{className:"overflow-x-auto",children:m.jsx("div",{className:"min-w-[1000px]",children:m.jsx(us,{data:T,columns:[{header:m.jsx("div",{className:"w-10 text-center",children:""}),accessor:I=>m.jsx("div",{className:"flex justify-center",children:I.category!==te.MAIN?m.jsx("button",{onClick:()=>A(T.map(N=>N.id===I.id?{...N,originalCategory:te.OCCUPATIONAL,category:te.MAIN}:N)),className:"p-2 bg-emerald-50 text-emerald-600 hover:bg-emerald-600 hover:text-white rounded-lg transition-all",children:m.jsx(St,{size:16,strokeWidth:3})}):m.jsx("button",{onClick:()=>A(T.map(N=>N.id===I.id?{...N,category:te.OCCUPATIONAL,originalCategory:void 0}:N)),className:"p-2 bg-rose-50 text-rose-600 hover:bg-rose-600 hover:text-white rounded-lg transition-all",children:m.jsx(is,{size:16,strokeWidth:3})})}),width:"60px"},{header:m.jsx(ke,{value:p[0],onChange:I=>h([I,p[1],p[2]])}),accessor:I=>m.jsx("div",{className:"text-right",children:m.jsx(ke,{value:I.name,onChange:N=>A(T.map(D=>D.id===I.id?{...D,name:N}:D)),className:"font-bold text-slate-800 text-lg"})}),width:"250px"},{header:m.jsx(ke,{value:p[1],onChange:I=>h([p[0],I,p[2]])}),accessor:I=>m.jsx(ke,{value:I.why,onChange:N=>A(T.map(D=>D.id===I.id?{...D,why:N}:D)),multiline:!0,className:"min-h-[60px]"}),width:"300px"},{header:m.jsx(ke,{value:p[2],onChange:I=>h([p[0],p[1],I])}),accessor:I=>P(I),width:"350px"},{header:"",accessor:I=>m.jsx("button",{onClick:()=>A(T.filter(N=>N.id!==I.id)),className:"text-slate-300 hover:text-rose-500 p-2",children:m.jsx(Qt,{size:16})}),width:"50px"}]})})}),m.jsxs("button",{onClick:()=>A([...T,{id:Date.now().toString(),name:" ",actions:[{text:" ",range:""}],why:""}]),className:"w-full p-4 text-sm font-semibold text-slate-500 hover:text-indigo-600 border-t flex items-center justify-center gap-2",children:[m.jsx(St,{size:14}),"   "]})]}),m.jsxs($t,{id:"occ_tasks",title:" ",icon:m.jsx(nc,{size:20,className:"text-emerald-600"}),children:[m.jsx("div",{className:"divide-y divide-slate-100",children:W.length===0?m.jsx("div",{className:"py-8 text-center text-slate-300 text-sm italic",children:"   ."}):W.map(I=>m.jsxs("div",{className:"flex items-center gap-4 group p-4 animate-in fade-in slide-in-from-top-2 duration-300",children:[m.jsxs("div",{className:"flex-1 text-right flex items-center gap-2",children:[I.category!==te.MAIN&&m.jsx("button",{onClick:()=>V(M.map(N=>N.id===I.id?{...N,originalCategory:N.category,category:te.MAIN}:N)),className:"p-1.5 bg-emerald-50 text-emerald-600 hover:bg-emerald-600 hover:text-white rounded-full transition-all",title:" ",children:m.jsx(ry,{size:14,strokeWidth:3})}),m.jsx(ke,{value:I.text,onChange:N=>V(M.map(D=>D.id===I.id?{...D,text:N}:D)),className:`${I.completed?"text-slate-400 line-through":"text-slate-700 font-medium"} text-lg`}),I.category===te.MAIN&&m.jsx(bi,{category:te.MAIN})]}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("button",{onClick:()=>E({title:I.text,category:""}),className:"p-1.5 bg-blue-50 text-blue-600 hover:bg-blue-600 hover:text-white rounded-full transition-all",title:" ",children:m.jsx(th,{size:14})}),I.category===te.MAIN&&m.jsx("button",{onClick:()=>V(M.map(N=>N.id===I.id&&N.originalCategory?{...N,category:N.originalCategory,originalCategory:void 0}:N)),className:"p-1.5 bg-rose-50 text-rose-600 hover:bg-rose-600 hover:text-white rounded-full transition-all",children:m.jsx(is,{size:14})}),m.jsx("input",{type:"checkbox",checked:I.completed,onChange:()=>B(I.id),className:"appearance-none w-5 h-5 border-2 border-slate-900 rounded bg-white cursor-pointer relative checked:after:content-[''] checked:after:absolute checked:after:inset-0 checked:after:flex checked:after:items-center checked:after:justify-center checked:after:text-slate-900 checked:after:font-bold transition-all"})]}),m.jsx("button",{onClick:()=>V(M.filter(N=>N.id!==I.id)),className:"opacity-0 group-hover:opacity-100 text-slate-300 hover:text-rose-500 p-2",children:m.jsx(Qt,{size:16})})]},I.id))}),m.jsxs("button",{onClick:()=>V([{id:Date.now().toString(),text:"",completed:!1,category:te.OCCUPATIONAL},...M]),className:"w-full p-4 text-sm font-bold text-slate-500 hover:text-emerald-600 border-t flex items-center justify-center gap-2",children:[m.jsx(St,{size:14}),"  "]})]}),m.jsx("div",{className:"h-96",children:m.jsx(Mh,{title:" ",externalDraft:v,onModalClose:()=>E(null)})}),m.jsxs($t,{id:"occ_opps_new",title:" ",icon:m.jsx(sc,{size:20,className:"text-amber-500"}),children:[m.jsx(us,{data:w,columns:[{header:m.jsx("div",{className:"w-10 text-center",children:""}),accessor:I=>m.jsx("div",{className:"flex justify-center",children:I.category!==te.MAIN?m.jsx("button",{onClick:()=>U(I.id),className:"p-1.5 bg-emerald-50 text-emerald-600 hover:bg-emerald-600 hover:text-white rounded-lg transition-all",children:m.jsx(St,{size:14,strokeWidth:3})}):m.jsx("button",{onClick:()=>L(I.id),className:"p-1.5 bg-rose-50 text-rose-600 hover:bg-rose-600 hover:text-white rounded-lg transition-all",children:m.jsx(is,{size:14,strokeWidth:3})})}),width:"60px"},{header:" ",accessor:I=>m.jsxs("div",{className:"flex items-center gap-2 justify-end",children:[m.jsx(ke,{value:I.name,onChange:N=>z(w.map(D=>D.id===I.id?{...D,name:N}:D)),className:"font-bold text-slate-800 text-right"}),I.category===te.MAIN&&m.jsx(bi,{category:te.MAIN})]})},{header:"",accessor:I=>m.jsxs("div",{className:"flex items-center gap-2 justify-end",children:[I.url&&m.jsx("a",{href:I.url.startsWith("http")?I.url:`https://${I.url}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:text-blue-700",children:m.jsx(oy,{size:14})}),m.jsx(ke,{value:I.url||"",onChange:N=>z(w.map(D=>D.id===I.id?{...D,url:N}:D)),placeholder:" ...",className:"text-[11px] text-slate-400 w-24"})]})},{header:" ",accessor:I=>m.jsxs("div",{className:"flex items-center gap-1.5 justify-end bg-slate-50 px-2 py-1 rounded-md ml-auto text-slate-500 text-xs",children:[m.jsx(tc,{size:12}),m.jsx(ke,{value:I.date,onChange:N=>z(w.map(D=>D.id===I.id?{...D,date:N}:D)),className:"font-mono"})]})},{header:"",accessor:I=>m.jsx("button",{onClick:()=>z(w.filter(N=>N.id!==I.id)),className:"text-slate-300 hover:text-rose-500 p-2",children:m.jsx(Qt,{size:16})}),width:"50px"}]}),m.jsxs("button",{onClick:()=>z([{id:Date.now().toString(),name:" ",date:new Date().toLocaleDateString("he-IL"),url:"",category:te.OCCUPATIONAL,status:""},...w]),className:"w-full p-4 text-sm font-bold text-slate-500 hover:text-amber-600 border-t flex items-center justify-center gap-2",children:[m.jsx(St,{size:14}),"   "]})]}),m.jsx($t,{id:"occ_ideas",title:" ",icon:m.jsx(ic,{size:20,className:"text-amber-400"}),children:m.jsxs("div",{className:"p-6 space-y-3",children:[G.map(I=>m.jsxs("div",{className:"flex items-center gap-3 group bg-white border border-slate-100 p-3 rounded-2xl hover:shadow-sm transition-all",children:[m.jsx("div",{className:"w-1.5 h-1.5 bg-amber-400 rounded-full shrink-0"}),m.jsx("div",{className:"flex-1",children:m.jsx(ke,{value:I.text,onChange:N=>q(G.map(D=>D.id===I.id?{...D,text:N}:D)),className:"text-slate-700 text-sm font-medium"})}),m.jsx("button",{onClick:()=>q(G.filter(N=>N.id!==I.id)),className:"opacity-0 group-hover:opacity-100 text-slate-300 hover:text-rose-500 transition-all",children:m.jsx(Qt,{size:16})})]},I.id)),m.jsxs("button",{onClick:()=>q([{id:Date.now().toString(),text:"  ..."},...G]),className:"w-full py-3 text-xs font-bold text-slate-400 hover:text-amber-600 flex items-center justify-center gap-2 border-2 border-dashed border-slate-100 rounded-2xl hover:border-amber-200 hover:bg-amber-50 transition-all",children:[m.jsx(No,{size:16}),"   "]})]})})]})},Yj=()=>{var fe,Ce,He;const[n,e]=j.useState("main"),[t,i]=j.useState("netWorth"),[r,a]=j.useState(null),u=(O,Y)=>{const ue=localStorage.getItem(O);return ue?JSON.parse(ue):Y},d=(O,Y)=>localStorage.setItem(O,JSON.stringify(Y)),[p,h]=j.useState(()=>localStorage.getItem("title_fin")||""),[v,E]=j.useState(()=>localStorage.getItem("fin_vision_v3")||"  ..."),[T,A]=j.useState(()=>u("fin_goals_data",[{id:"1",name:" ",why:"  ",actions:[],category:te.FINANCIAL}]).map(Y=>({...Y,category:Y.category||te.FINANCIAL}))),[M,V]=j.useState(()=>u("fin_opps_data_v5",[])),[w,z]=j.useState(()=>u("ideas_fin",[])),G=[{id:"nw1",name:" ",amount:0,category:"netWorth"},{id:"nw2",name:"",amount:0,category:"netWorth"},{id:"nw3",name:"",amount:0,category:"netWorth"},{id:"nw4",name:" ",amount:0,category:"netWorth"},{id:"nw5",name:" ",amount:0,category:"netWorth"},{id:"nw6",name:"  ",amount:0,category:"netWorth"},{id:"nw7",name:" ",amount:0,category:"netWorth"},{id:"nw8",name:"",amount:0,category:"netWorth"},{id:"nw9",name:" ",amount:0,category:"netWorth"},{id:"nw10",name:"",amount:0,category:"netWorth"},{id:"li1",name:"",amount:0,category:"liabilities"},{id:"li2",name:" ",amount:0,category:"liabilities"},{id:"in1",name:"",amount:0,category:"income"},{id:"in2",name:"",amount:0,category:"income"},{id:"in3",name:"",amount:0,category:"income"},{id:"in4",name:"",amount:0,category:"income"},{id:"in5",name:"",amount:0,category:"income"},{id:"in6",name:"",amount:0,category:"income"},{id:"ex1",name:" / ",amount:0,category:"expenses"},{id:"ex2",name:"",amount:0,category:"expenses"},{id:"ex3",name:"",amount:0,category:"expenses"},{id:"ex4",name:"",amount:0,category:"expenses"},{id:"ex5",name:" (/)",amount:0,category:"expenses"},{id:"ex6",name:" ",amount:0,category:"expenses"},{id:"ex7",name:"",amount:0,category:"expenses"},{id:"ex8",name:" ",amount:0,category:"expenses"},{id:"ex9",name:" ",amount:0,category:"expenses"},{id:"ex10",name:" ",amount:0,category:"expenses"},{id:"ex11",name:" ",amount:0,category:"expenses"},{id:"ex12",name:" ",amount:0,category:"expenses"},{id:"ex13",name:" ",amount:0,category:"expenses"},{id:"ex14",name:" ( )",amount:0,category:"expenses"},{id:"ex15",name:" (/)",amount:0,category:"expenses"},{id:"is1",name:" ",amount:0,category:"insurance"},{id:"is2",name:" ",amount:0,category:"insurance"},{id:"is3",name:" ",amount:0,category:"insurance"},{id:"is4",name:" ",amount:0,category:"insurance"},{id:"is5",name:" ",amount:0,category:"insurance"},{id:"is6",name:"",amount:0,category:"insurance"}],[q,W]=j.useState(()=>u("fin_identity_items_v6",G)),[B,ae]=j.useState(()=>Number(localStorage.getItem("desired_monthly_income_v5"))||15e3);j.useEffect(()=>{d("fin_goals_data",T),d("fin_opps_data_v5",M),d("ideas_fin",w),d("fin_identity_items_v6",q),localStorage.setItem("title_fin",p),localStorage.setItem("fin_vision_v3",v),localStorage.setItem("desired_monthly_income_v5",B.toString())},[T,M,w,q,p,v,B]);const U=j.useMemo(()=>q.filter(O=>O.category==="netWorth").reduce((O,Y)=>O+(Number(Y.amount)||0),0),[q]),L=j.useMemo(()=>q.filter(O=>O.category==="liabilities").reduce((O,Y)=>O+(Number(Y.amount)||0),0),[q]),P=U-L,I=B*300,N=Math.min(100,Math.max(0,P/I*100)),D=[{id:"netWorth",label:" ()",icon:m.jsx(GM,{size:16}),color:"text-blue-600",bg:"bg-blue-50"},{id:"liabilities",label:"",icon:m.jsx(N2,{size:16}),color:"text-orange-600",bg:"bg-orange-50"},{id:"income",label:"",icon:m.jsx(Hb,{size:16}),color:"text-emerald-600",bg:"bg-emerald-50"},{id:"expenses",label:"",icon:m.jsx(h2,{size:16}),color:"text-rose-600",bg:"bg-rose-50"},{id:"insurance",label:" ",icon:m.jsx(og,{size:16}),color:"text-amber-600",bg:"bg-amber-50"}],F=j.useMemo(()=>q.filter(O=>O.category===t),[q,t]),ve=j.useMemo(()=>F.reduce((O,Y)=>O+(Number(Y.amount)||0),0),[F]),Ee=O=>{A(Y=>Y.map(ue=>ue.id===O?{...ue,originalCategory:te.FINANCIAL,category:te.MAIN}:ue))},ne=O=>{A(Y=>Y.map(ue=>ue.id===O&&ue.originalCategory?{...ue,category:te.FINANCIAL,originalCategory:void 0}:ue))},pe=()=>m.jsx("div",{className:"bg-slate-900 rounded-[2.5rem] p-8 border border-slate-800 text-white shadow-2xl relative overflow-hidden group",children:m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 items-center",children:[m.jsxs("div",{children:[m.jsxs("h4",{className:"text-2xl font-black mb-4 flex items-center gap-3",children:[m.jsx(Ab,{size:32,className:"text-emerald-400"}),"  -300:  "]}),m.jsx("p",{className:"text-slate-400 text-sm leading-relaxed mb-6",children:":     (   )   300    ."}),m.jsxs("div",{className:"bg-white/5 rounded-2xl p-6 border border-white/10 shadow-inner",children:[m.jsx("label",{className:"text-[10px] font-black text-slate-500 mb-2 block uppercase tracking-widest",children:"   ()"}),m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("span",{className:"text-4xl font-black text-blue-400",children:""}),m.jsx("input",{type:"number",value:B,onChange:O=>ae(Number(O.target.value)),className:"bg-transparent border-b-2 border-slate-700 focus:border-blue-500 outline-none text-4xl font-black w-full py-1 text-white"})]})]})]}),m.jsxs("div",{className:"space-y-5",children:[m.jsxs("div",{className:"flex justify-between items-end",children:[m.jsxs("div",{children:[m.jsx("div",{className:"text-[10px] font-black text-slate-500 mb-1 uppercase tracking-widest",children:" :"}),m.jsxs("div",{className:"text-3xl font-black text-emerald-400",children:["",I.toLocaleString()]})]}),m.jsxs("div",{className:"text-right",children:[m.jsx("div",{className:"text-[10px] font-black text-slate-500 mb-1 uppercase tracking-widest",children:"   ():"}),m.jsxs("div",{className:`text-2xl font-black ${P<0?"text-rose-400":"text-blue-300"}`,children:["",P.toLocaleString()]})]})]}),m.jsx("div",{className:"w-full h-5 bg-slate-800 rounded-full overflow-hidden border border-slate-700 p-1",children:m.jsx("div",{className:"h-full bg-gradient-to-r from-blue-600 via-indigo-500 to-emerald-500 transition-all duration-1000 rounded-full shadow-lg",style:{width:`${N}%`}})}),m.jsxs("div",{className:"flex justify-between text-xs font-black text-slate-500 uppercase tracking-widest",children:[m.jsx("span",{children:"0%"}),m.jsxs("span",{className:"text-blue-400 text-sm",children:[N.toFixed(1),"%  "]}),m.jsx("span",{children:"100%"})]}),m.jsxs("div",{className:"pt-4 border-t border-white/5 flex items-start gap-3 opacity-60",children:[m.jsx(Pb,{size:18,className:"text-blue-400 shrink-0"}),m.jsxs("p",{className:"text-[11px] text-blue-100 italic",children:[': ("  ',U.toLocaleString(),') - ("  ',L.toLocaleString(),") = ",P.toLocaleString()]})]})]})]})});return n==="identity"?m.jsxs("div",{className:"animate-fade-in space-y-12 pb-24 text-right",dir:"rtl",children:[m.jsxs("div",{className:"flex items-center justify-between mb-8",children:[m.jsxs("button",{onClick:()=>e("main"),className:"flex items-center gap-2 text-slate-400 hover:text-blue-600 transition-all font-bold group",children:[m.jsx(s2,{size:24,className:"group-hover:translate-x-1 transition-transform rotate-180"}),"   "]}),m.jsxs("h2",{className:"text-3xl font-black text-slate-800 tracking-tight flex items-center gap-3",children:["   ",m.jsx("div",{className:"p-2 bg-blue-600 text-white rounded-xl shadow-lg",children:m.jsx(XR,{size:24})})]})]}),m.jsx("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-3",children:D.map(O=>m.jsxs("button",{onClick:()=>i(O.id),className:`p-4 rounded-2xl border-2 transition-all flex flex-col items-center gap-2 relative overflow-hidden group h-32 ${t===O.id?`${O.bg} border-blue-500 shadow-lg scale-[1.02]`:"bg-white border-slate-100 hover:border-slate-300 shadow-sm"}`,children:[m.jsx("div",{className:`p-2.5 rounded-xl ${t===O.id?"bg-white shadow-sm":"bg-slate-50"} ${O.color}`,children:O.icon}),m.jsx("span",{className:`font-black text-sm ${t===O.id?"text-slate-900":"text-slate-500"}`,children:O.label})]},O.id))}),m.jsx($t,{id:`fin_id_${t}_v6`,title:` ${(fe=D.find(O=>O.id===t))==null?void 0:fe.label}`,icon:(Ce=D.find(O=>O.id===t))==null?void 0:Ce.icon,children:m.jsxs("div",{className:"p-4",children:[m.jsx(us,{data:F,columns:[{header:"  / ",accessor:O=>m.jsx("div",{className:"text-right",children:m.jsx(ke,{value:O.name,onChange:Y=>W(ue=>ue.map(ge=>ge.id===O.id?{...ge,name:Y}:ge)),className:"font-bold text-slate-800"})})},{header:" ()",accessor:O=>m.jsx("input",{type:"number",value:O.amount||"",onChange:Y=>W(ue=>ue.map(ge=>ge.id===O.id?{...ge,amount:Number(Y.target.value)}:ge)),className:"bg-slate-50 border border-slate-200 rounded-lg px-3 py-1 text-left font-mono font-black w-32 focus:ring-2 focus:ring-blue-500 outline-none"})},{header:" / ",accessor:O=>m.jsx("div",{className:"text-right",children:m.jsx(ke,{value:O.url||"",onChange:Y=>W(ue=>ue.map(ge=>ge.id===O.id?{...ge,url:Y}:ge)),className:"text-[10px] text-slate-400",placeholder:" ..."})})},{header:"",accessor:O=>m.jsx("button",{onClick:()=>W(q.filter(Y=>Y.id!==O.id)),className:"text-slate-300 hover:text-rose-500",children:m.jsx(Qt,{size:16})}),width:"40px"}],footer:m.jsxs("tr",{className:"bg-slate-900 text-white font-black",children:[m.jsxs("td",{className:"px-6 py-5 text-lg",children:['" ',(He=D.find(O=>O.id===t))==null?void 0:He.label]}),m.jsxs("td",{className:"px-6 py-5 text-left font-mono text-xl text-emerald-400",children:["",ve.toLocaleString()]}),m.jsx("td",{colSpan:2})]})}),m.jsxs("button",{onClick:()=>W([...q,{id:Date.now().toString(),name:" ...",amount:0,category:t}]),className:"w-full mt-4 p-4 border-2 border-dashed border-slate-100 rounded-2xl text-slate-400 hover:text-blue-600 hover:bg-blue-50 font-bold flex items-center justify-center gap-2 transition-all",children:[m.jsx(St,{size:20}),"   "]})]})}),m.jsx("div",{className:"mt-8",children:m.jsx(pe,{})})]}):m.jsxs("div",{className:"animate-fade-in max-w-7xl mx-auto pb-24 text-right px-4 md:px-0",dir:"rtl",children:[m.jsxs("div",{className:"flex flex-col gap-2",children:[m.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-6 border-b border-slate-200/60 pb-4",children:[m.jsxs("div",{className:"flex items-center gap-6",children:[m.jsx("div",{className:"w-16 h-16 bg-emerald-50 text-emerald-600 rounded-2xl flex items-center justify-center shadow-sm shrink-0",children:m.jsx(Db,{size:32})}),m.jsxs("div",{children:[m.jsx(ke,{value:p,onChange:h,className:"text-4xl font-black text-slate-800"}),m.jsx("p",{className:"text-slate-500 text-lg mt-1 font-light",children:" ,     ."})]})]}),m.jsxs("button",{onClick:()=>e("identity"),className:"bg-slate-900 hover:bg-blue-600 text-white px-8 py-4 rounded-3xl font-black shadow-2xl transition-all flex items-center gap-3 shrink-0 text-2xl",children:[m.jsx(og,{size:32,className:"text-emerald-400"}),m.jsx("span",{children:"  "})]})]}),m.jsx(l0,{title:" ",value:v,onSave:E,id:"vision_fin_v3"})]}),m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8 mt-12",children:[m.jsx("div",{className:"lg:col-span-12",children:m.jsx($t,{id:"fin_goals_v5",title:" ",icon:m.jsx(Mo,{size:20,className:"text-blue-600"}),children:m.jsxs("div",{className:"p-4",children:[m.jsx(us,{data:T.filter(O=>O.category===te.FINANCIAL||O.category===te.MAIN),columns:[{header:m.jsx("div",{className:"w-10 text-center",children:""}),accessor:O=>m.jsx("div",{className:"flex justify-center",children:O.category!==te.MAIN?m.jsx("button",{onClick:()=>Ee(O.id),className:"p-2 bg-emerald-50 text-emerald-600 hover:bg-emerald-600 hover:text-white rounded-lg transition-all",title:"  ",children:m.jsx(St,{size:16,strokeWidth:3})}):m.jsx("button",{onClick:()=>ne(O.id),className:"p-2 bg-rose-50 text-rose-600 hover:bg-rose-600 hover:text-white rounded-lg transition-all",title:"  ",children:m.jsx(is,{size:16,strokeWidth:3})})}),width:"60px"},{header:" ",accessor:O=>m.jsxs("div",{className:"text-right flex items-center gap-2 justify-end",children:[m.jsx(ke,{value:O.name,onChange:Y=>A(T.map(ue=>ue.id===O.id?{...ue,name:Y}:ue)),className:"font-bold text-slate-800 text-lg"}),O.category===te.MAIN&&m.jsx(bi,{category:te.MAIN})]})},{header:"  ",accessor:O=>m.jsx("div",{className:"text-right",children:m.jsx(ke,{value:O.why,onChange:Y=>A(T.map(ue=>ue.id===O.id?{...ue,why:Y}:ue)),className:"text-slate-500"})})},{header:"",accessor:O=>m.jsx("button",{onClick:()=>A(T.filter(Y=>Y.id!==O.id)),className:"text-slate-300 hover:text-rose-500",children:m.jsx(Qt,{size:16})}),width:"40px"}]}),m.jsxs("button",{onClick:()=>A([...T,{id:Date.now().toString(),name:" ",why:"",actions:[],category:te.FINANCIAL}]),className:"w-full mt-4 p-4 text-sm font-bold border-2 border-dashed border-slate-100 rounded-2xl text-slate-400 hover:text-blue-600 flex items-center justify-center gap-2 transition-all",children:[m.jsx(St,{size:14}),"   "]})]})})}),m.jsx("div",{className:"lg:col-span-12",children:m.jsx($t,{id:"fin_opps_v5",title:" ",icon:m.jsx(sc,{size:20,className:"text-amber-500"}),children:m.jsxs("div",{className:"p-4",children:[m.jsx(us,{data:M,columns:[{header:"",accessor:O=>m.jsx("button",{onClick:()=>V(M.map(Y=>Y.id===O.id?{...Y,status:Y.status===""?"":""}:Y)),className:`w-10 h-10 rounded-xl flex items-center justify-center transition-all ${O.status===""?"bg-emerald-500 text-white shadow-lg shadow-emerald-500/20":"bg-slate-100 text-slate-300 hover:bg-emerald-50"}`,children:m.jsx(Fo,{size:20,strokeWidth:3})}),width:"60px"},{header:" ",accessor:O=>m.jsx("div",{className:"text-right",children:m.jsx(ke,{value:O.name,onChange:Y=>V(M.map(ue=>ue.id===O.id?{...ue,name:Y}:ue)),className:`font-black text-lg ${O.status===""?"text-slate-300 line-through":"text-slate-800"}`})})},{header:"",accessor:O=>m.jsxs("div",{className:"flex items-center gap-2 justify-end",children:[m.jsx("button",{onClick:()=>a({title:O.name,category:""}),className:"w-9 h-9 flex items-center justify-center bg-blue-50 text-blue-600 rounded-xl hover:bg-blue-600 hover:text-white transition-all shadow-sm",title:" ",children:m.jsx(th,{size:16})}),m.jsx("button",{onClick:()=>V(M.map(Y=>Y.id===O.id?{...Y,isHabit:!Y.isHabit}:Y)),className:`w-9 h-9 flex items-center justify-center rounded-xl transition-all shadow-sm ${O.isHabit?"bg-indigo-600 text-white shadow-indigo-200":"bg-slate-50 text-slate-400 hover:text-indigo-600"}`,title:"  ( )",children:m.jsx(A2,{size:16})})]}),width:"120px"},{header:"",accessor:O=>m.jsx("button",{onClick:()=>V(M.filter(Y=>Y.id!==O.id)),className:"text-slate-300 hover:text-rose-500",children:m.jsx(Qt,{size:16})}),width:"40px"}]}),m.jsxs("button",{onClick:()=>V([{id:Date.now().toString(),name:" ",date:"",url:"",category:te.FINANCIAL,status:""},...M]),className:"w-full mt-4 p-4 text-sm font-bold border-2 border-dashed border-slate-100 rounded-2xl text-slate-400 hover:text-blue-600 flex items-center justify-center gap-2 transition-all",children:[m.jsx(St,{size:14}),"   "]})]})})}),m.jsx("div",{className:"lg:col-span-12",children:m.jsx($t,{id:"fin_ideas",title:" ",icon:m.jsx(ic,{size:20,className:"text-amber-400"}),children:m.jsxs("div",{className:"p-6 space-y-3",children:[w.map(O=>m.jsxs("div",{className:"flex items-center gap-3 group bg-white border border-slate-100 p-3 rounded-2xl hover:shadow-sm transition-all",children:[m.jsx("div",{className:"w-1.5 h-1.5 bg-amber-400 rounded-full shrink-0"}),m.jsx("div",{className:"flex-1",children:m.jsx(ke,{value:O.text,onChange:Y=>z(w.map(ue=>ue.id===O.id?{...ue,text:Y}:ue)),className:"text-slate-700 text-sm font-medium"})}),m.jsx("button",{onClick:()=>z(w.filter(Y=>Y.id!==O.id)),className:"opacity-0 group-hover:opacity-100 text-slate-300 hover:text-rose-500 transition-all",children:m.jsx(Qt,{size:16})})]},O.id)),m.jsxs("button",{onClick:()=>z([{id:Date.now().toString(),text:"  ..."},...w]),className:"w-full py-3 text-xs font-bold text-slate-400 hover:text-amber-600 flex items-center justify-center gap-2 border-2 border-dashed border-slate-100 rounded-2xl hover:border-amber-200 hover:bg-amber-50 transition-all",children:[m.jsx(No,{size:16}),"   "]})]})})}),m.jsx("div",{className:"lg:col-span-12 h-[500px] shrink-0 mt-4",children:m.jsx(Mh,{title:"  ",externalDraft:r,onModalClose:()=>a(null)})})]}),m.jsx("div",{className:"mt-12 pt-8 border-t border-slate-200",children:m.jsx(pe,{})})]})},af=[{label:"",class:"bg-blue-500 border-blue-600 text-white",hex:"#3b82f6"},{label:"",class:"bg-amber-500 border-amber-600 text-white",hex:"#f59e0b"},{label:"",class:"bg-rose-500 border-rose-600 text-white",hex:"#f43f5e"}],Wj=[{value:"planned",label:"",icon:tc},{value:"in-progress",label:"",icon:Mo},{value:"completed",label:"",icon:nc},{value:"delayed",label:"",icon:S2}],Qj=()=>{var V;const n=new Date().getFullYear(),[e,t]=j.useState(null),[i,r]=j.useState(()=>{const w=localStorage.getItem("strat_visions_v3");return w?JSON.parse(w):[{yearIndex:1,vision:"    "},{yearIndex:2,vision:"   "},{yearIndex:3,vision:"   "}]}),[a,u]=j.useState(()=>{const w=localStorage.getItem("strat_goals_v3");return w?JSON.parse(w):[{id:"1",yearIndex:1,title:"  ",startQ:1,endQ:2,color:af[0].class,status:"in-progress"},{id:"2",yearIndex:1,title:"  ",startQ:2,endQ:3,color:af[1].class,status:"planned"}]}),[d,p]=j.useState(null);j.useEffect(()=>localStorage.setItem("strat_visions_v3",JSON.stringify(i)),[i]),j.useEffect(()=>localStorage.setItem("strat_goals_v3",JSON.stringify(a)),[a]);const h=w=>n+w-1,v=(w,z)=>{r(G=>G.map(q=>q.yearIndex===w?{...q,vision:z}:q))},E=(w,z=!1)=>{const G={id:Date.now().toString(),yearIndex:w,title:"  ",startQ:1,endQ:2,color:af[0].class,status:"planned"};u(q=>[...q,G]),z&&(t(w),p(G))},T=w=>{u(z=>z.map(G=>G.id===w.id?w:G))},A=w=>{u(z=>z.filter(G=>G.id!==w)),p(null)};if(e===null)return m.jsxs("div",{className:"space-y-8 animate-fade-in pb-20 text-right",dir:"rtl",children:[m.jsxs("div",{className:"flex items-center gap-5 border-b border-slate-200/60 pb-8",children:[m.jsx("div",{className:"w-16 h-16 bg-blue-50 text-blue-600 rounded-2xl flex items-center justify-center shadow-sm ring-4 ring-blue-50/50",children:m.jsx(Mo,{size:32,strokeWidth:2})}),m.jsxs("div",{className:"flex-1",children:[m.jsx("h1",{className:"text-4xl font-bold text-slate-800 tracking-tight",children:"  "}),m.jsxs("p",{className:"text-slate-500 text-lg mt-1 font-light",children:[" -  (",n,"-",n+2,")"]})]})]}),m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[1,2,3].map(w=>{var W;const z=h(w),G=((W=i.find(B=>B.yearIndex===w))==null?void 0:W.vision)||"",q=a.filter(B=>B.yearIndex===w).length;return m.jsxs("div",{onClick:()=>t(w),className:`group relative bg-white border border-slate-200 rounded-3xl shadow-sm hover:shadow-xl hover:-translate-y-1 transition-all duration-300 cursor-pointer overflow-hidden flex flex-col h-[28rem] ${w===1?"ring-2 ring-blue-500/20":""}`,children:[w===1&&m.jsx("div",{className:"absolute top-4 left-4 bg-blue-600 text-white text-[10px] px-2 py-0.5 rounded-full font-bold uppercase tracking-wide z-20",children:" "}),m.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-br from-blue-500/10 to-purple-500/10 rounded-bl-full -mr-10 -mt-10 transition-transform group-hover:scale-110"}),m.jsxs("div",{className:"p-8 flex-1 flex flex-col",children:[m.jsxs("div",{className:"flex justify-between items-start mb-6 relative z-10",children:[m.jsx("div",{className:"bg-slate-50 border border-slate-100 p-3 rounded-2xl",children:m.jsx("span",{className:"text-2xl font-bold text-slate-800",children:z})}),m.jsx("div",{className:"bg-blue-50 text-blue-600 p-2 rounded-full opacity-0 group-hover:opacity-100 transition-opacity",children:m.jsx(bb,{size:20,className:"rotate-180"})})]}),m.jsxs("div",{className:"flex-1 relative z-10",children:[m.jsxs("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-2 block",children:["   ",z]}),m.jsx("div",{onClick:B=>B.stopPropagation(),children:m.jsx(ke,{value:G,onChange:B=>v(w,B),multiline:!0,className:"text-xl font-medium text-slate-700 leading-relaxed"})})]}),m.jsxs("div",{className:"mt-4 flex items-center gap-2 text-sm text-slate-400 relative z-10",children:[m.jsx(Mo,{size:14}),m.jsxs("span",{children:[q,"  "]})]})]}),m.jsxs("button",{onClick:B=>{B.stopPropagation(),E(w,!0)},className:"w-full py-5 bg-slate-50 hover:bg-blue-600 text-slate-600 hover:text-white border-t border-slate-100 transition-all font-bold flex items-center justify-center gap-2 group/btn relative z-20",children:[m.jsx(St,{size:20,className:"group-hover/btn:scale-110 transition-transform"}),m.jsxs("span",{children:["  -",z]})]})]},w)})})]});const M=h(e);return m.jsxs("div",{className:"animate-fade-in pb-20 text-right",dir:"rtl",children:[m.jsxs("div",{className:"flex items-center justify-between mb-6",children:[m.jsxs("button",{onClick:()=>t(null),className:"flex items-center gap-1 text-slate-400 hover:text-blue-600 transition-colors font-medium text-sm",children:[m.jsx(Jx,{size:14}),"   "]}),m.jsxs("span",{className:"bg-blue-100 text-blue-700 px-3 py-1 rounded-full text-xs font-bold",children:[" : ",M]})]}),m.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-end mb-8 gap-4",children:[m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("button",{disabled:e===1,onClick:()=>t(e-1),className:"p-2 bg-slate-100 hover:bg-blue-100 text-slate-500 hover:text-blue-600 rounded-full transition-all disabled:opacity-30 disabled:cursor-not-allowed",title:" ",children:m.jsx(Jx,{size:20})}),m.jsxs("div",{children:[m.jsxs("h2",{className:"text-3xl font-bold text-slate-900",children:["  - ",M]}),m.jsx("div",{className:"w-fit mt-2",children:m.jsx(ke,{value:((V=i.find(w=>w.yearIndex===e))==null?void 0:V.vision)||"",onChange:w=>v(e,w),className:"text-lg text-slate-500 font-light"})})]}),m.jsx("button",{disabled:e===3,onClick:()=>t(e+1),className:"p-2 bg-slate-100 hover:bg-blue-100 text-slate-500 hover:text-blue-600 rounded-full transition-all disabled:opacity-30 disabled:cursor-not-allowed",title:" ",children:m.jsx(Nb,{size:20})})]}),m.jsxs("button",{onClick:()=>E(e,!1),className:"bg-slate-900 hover:bg-blue-600 text-white px-5 py-2.5 rounded-xl font-bold shadow-lg transition-all flex items-center gap-2",children:[m.jsx(St,{size:18}),"   "]})]}),m.jsxs("div",{className:"bg-white border border-slate-200 rounded-2xl shadow-sm overflow-hidden relative",children:[m.jsx("div",{className:"grid grid-cols-4 bg-slate-50 border-b border-slate-200 text-center divide-x divide-x-reverse divide-slate-200",children:[" 1"," 2"," 3"," 4"].map(w=>m.jsx("div",{className:"p-3 font-bold text-slate-700",children:w},w))}),m.jsxs("div",{className:"relative min-h-[400px] p-4 space-y-3 bg-[url('https://www.transparenttextures.com/patterns/graphy.png')]",children:[m.jsxs("div",{className:"absolute inset-0 grid grid-cols-4 pointer-events-none z-0 divide-x divide-x-reverse divide-slate-100",children:[m.jsx("div",{className:"h-full"}),m.jsx("div",{className:"h-full"}),m.jsx("div",{className:"h-full"}),m.jsx("div",{className:"h-full"})]}),a.filter(w=>w.yearIndex===e).length===0&&m.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-slate-300 z-0",children:m.jsxs("div",{className:"text-center",children:[m.jsx(Mo,{size:48,className:"mx-auto mb-2 opacity-50"}),m.jsx("p",{children:"    "})]})}),a.filter(w=>w.yearIndex===e).map(w=>m.jsx(Xj,{goal:w,onEdit:()=>p(w),onResize:z=>T({...w,endQ:z})},w.id))]})]}),d&&m.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-slate-900/40 backdrop-blur-sm animate-fade-in",children:m.jsx("div",{className:"bg-white border border-slate-200 shadow-2xl rounded-2xl w-full max-w-md overflow-hidden",dir:"rtl",children:m.jsxs("div",{className:"p-6",children:[m.jsxs("div",{className:"flex justify-between items-start mb-6",children:[m.jsxs("div",{children:[m.jsx("h3",{className:"text-lg font-bold text-slate-800",children:" "}),m.jsxs("p",{className:"text-xs text-slate-400",children:[" ",M]})]}),m.jsx("button",{onClick:()=>p(null),className:"p-1 hover:bg-slate-100 rounded-full text-slate-400 hover:text-rose-500 transition-colors",children:m.jsx(ui,{size:20})})]}),m.jsxs("div",{className:"space-y-5",children:[m.jsxs("div",{children:[m.jsx("label",{className:"text-xs font-bold text-slate-500 mb-1.5 block",children:" "}),m.jsx("input",{type:"text",value:d.title,onChange:w=>p({...d,title:w.target.value}),className:"w-full bg-slate-50 border border-slate-200 rounded-xl px-4 py-3 text-slate-800 font-bold focus:ring-2 focus:ring-blue-500 outline-none"})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"text-xs font-bold text-slate-500 mb-1.5 block",children:" "}),m.jsx("select",{value:d.startQ,onChange:w=>p({...d,startQ:Number(w.target.value)}),className:"w-full bg-slate-50 border border-slate-200 rounded-xl px-3 py-2 text-sm outline-none font-bold",children:[1,2,3,4].map(w=>m.jsxs("option",{value:w,children:[" ",w]},w))})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text-xs font-bold text-slate-500 mb-1.5 block",children:" "}),m.jsx("select",{value:d.endQ,onChange:w=>p({...d,endQ:Number(w.target.value)}),className:"w-full bg-slate-50 border border-slate-200 rounded-xl px-3 py-2 text-sm outline-none font-bold",children:[1,2,3,4].map(w=>m.jsxs("option",{value:w,disabled:w<d.startQ,children:[" ",w]},w))})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text-xs font-bold text-slate-500 mb-2 block",children:""}),m.jsx("div",{className:"grid grid-cols-2 gap-2",children:Wj.map(w=>{const z=w.icon;return m.jsxs("button",{onClick:()=>p({...d,status:w.value}),className:`flex items-center gap-2 px-3 py-2 rounded-lg text-xs font-bold border transition-all ${d.status===w.value?"bg-blue-50 border-blue-200 text-blue-700":"bg-white border-slate-100 text-slate-500 hover:bg-slate-50"}`,children:[m.jsx(z,{size:14})," ",w.label]},w.value)})})]}),m.jsxs("div",{children:[m.jsxs("label",{className:"text-xs font-bold text-slate-500 mb-2 block flex items-center gap-1",children:[m.jsx(ja,{size:12}),"  "]}),m.jsx("div",{className:"grid grid-cols-3 gap-2",children:af.map(w=>m.jsxs("button",{onClick:()=>p({...d,color:w.class}),className:`py-3 px-1 rounded-xl text-[11px] font-bold border transition-all flex flex-col items-center gap-2 ${d.color===w.class?"ring-2 ring-blue-500 border-transparent "+w.class:"bg-slate-50 border-slate-200 text-slate-600 hover:bg-slate-100"}`,children:[m.jsx("span",{className:d.color===w.class?"text-white":"",children:w.label}),m.jsx("div",{className:`w-3 h-3 rounded-full border border-black/5 ${d.color===w.class?"bg-white":w.class.split(" ")[0]}`})]},w.label))})]})]}),m.jsxs("div",{className:"flex gap-3 mt-8 pt-6 border-t border-slate-100",children:[m.jsx("button",{onClick:()=>{T(d),p(null)},className:"flex-1 bg-slate-900 text-white py-3 rounded-xl font-bold hover:bg-blue-600 transition-colors shadow-lg",children:" "}),m.jsx("button",{onClick:()=>A(d.id),className:"p-3 bg-rose-50 text-rose-500 rounded-xl hover:bg-rose-100 transition-colors",children:m.jsx(Qt,{size:20})})]})]})})})]})},Xj=({goal:n,onEdit:e,onResize:t})=>{const i=j.useRef(null),[r,a]=j.useState(!1),u=n.startQ,d=n.endQ-n.startQ+1,p=h=>{h.stopPropagation(),a(!0)};return j.useEffect(()=>{const h=E=>{var z;if(!r||!i.current)return;const T=(z=i.current.parentElement)==null?void 0:z.getBoundingClientRect();if(!T)return;const A=E.clientX-T.left,M=T.width;let V=4;const w=A/M;w>.75?V=1:w>.5?V=2:w>.25?V=3:V=4,V<n.startQ&&(V=n.startQ),t(V)},v=()=>a(!1);return r&&(window.addEventListener("mousemove",h),window.addEventListener("mouseup",v)),()=>{window.removeEventListener("mousemove",h),window.removeEventListener("mouseup",v)}},[r,n.startQ,t]),m.jsx("div",{className:"grid grid-cols-4 relative z-10 h-14",ref:i,children:m.jsxs("div",{onClick:e,className:`relative rounded-xl shadow-md cursor-pointer transition-all hover:brightness-105 hover:shadow-lg flex items-center px-4 overflow-hidden border ${n.color}`,style:{gridColumnStart:u,gridColumnEnd:`span ${d}`},children:[m.jsx("span",{className:"font-bold text-sm truncate w-full",children:n.title}),m.jsx("div",{onMouseDown:p,className:"absolute left-0 top-0 bottom-0 w-4 cursor-w-resize flex items-center justify-center hover:bg-black/10 transition-colors",children:m.jsx(kb,{size:12,className:"opacity-50"})})]})})},Zj=()=>{const[n,e]=j.useState([]),[t,i]=j.useState(""),[r,a]=j.useState(()=>localStorage.getItem("main_category_label")||"");j.useEffect(()=>{(()=>{const v=JSON.parse(localStorage.getItem("dashboard_main_tasks")||"[]"),E=JSON.parse(localStorage.getItem("tasks_personal")||"[]"),T=JSON.parse(localStorage.getItem("tasks_occ")||"[]"),A=JSON.parse(localStorage.getItem("fin_tasks_v2")||"[]"),M=[...v,...E,...T,...A],V=new Map;M.forEach(w=>{(!V.has(w.id)||w.category===te.MAIN)&&V.set(w.id,w)}),e(Array.from(V.values()))})()},[]);const u=j.useMemo(()=>{const h=new Date;return h.setDate(h.getDate()-7),n.filter(v=>{if(!v.completed)return!1;const E=v.completedAt?new Date(v.completedAt):new Date,T=v.text.toLowerCase().includes(t.toLowerCase()),A=E>=h;return T&&A}).sort((v,E)=>{const T=v.completedAt?new Date(v.completedAt).getTime():0;return(E.completedAt?new Date(E.completedAt).getTime():0)-T})},[n,t]),d=h=>{const v=n.find(w=>w.id===h);if(!v)return;const E={...v,completed:!1,completedAt:void 0},T=n.map(w=>w.id===h?E:w);e(T);const A=JSON.parse(localStorage.getItem("dashboard_main_tasks")||"[]"),M=E.category===te.MAIN?[E,...A.filter(w=>w.id!==h)]:A.filter(w=>w.id!==h);localStorage.setItem("dashboard_main_tasks",JSON.stringify(M));const V=(w,z)=>{const G=JSON.parse(localStorage.getItem(w)||"[]"),W=E.category===z||E.originalCategory===z?[E,...G.filter(B=>B.id!==h)]:G.filter(B=>B.id!==h);localStorage.setItem(w,JSON.stringify(W))};V("tasks_personal",te.PERSONAL),V("tasks_occ",te.OCCUPATIONAL),V("fin_tasks_v2",te.FINANCIAL)},p=h=>{if(!window.confirm("        ?"))return;const v=n.filter(T=>T.id!==h);e(v),["dashboard_main_tasks","tasks_personal","tasks_occ","fin_tasks_v2"].forEach(T=>{const M=JSON.parse(localStorage.getItem(T)||"[]").filter(V=>V.id!==h);localStorage.setItem(T,JSON.stringify(M))})};return m.jsxs("div",{className:"pb-24 space-y-8 animate-fade-in text-right",dir:"rtl",children:[m.jsxs("div",{className:"flex items-center gap-5 border-b border-slate-200/60 pb-8",children:[m.jsx("div",{className:"w-16 h-16 bg-slate-900 text-white rounded-2xl flex items-center justify-center shadow-sm",children:m.jsx(bf,{size:32})}),m.jsxs("div",{className:"flex-1",children:[m.jsx("h1",{className:"text-4xl font-bold text-slate-800 tracking-tight",children:" "}),m.jsx("p",{className:"text-slate-500 text-lg mt-1 font-light",children:"   .     ."})]}),m.jsxs(ec,{to:"/",className:"text-sm font-bold text-blue-600 flex items-center gap-1 hover:underline",children:["   ",m.jsx(bb,{size:14,className:"rotate-180"})]})]}),m.jsx("div",{className:"grid grid-cols-1 gap-6",children:m.jsx($t,{id:"archive_list_v2",title:`  (${u.length})`,icon:m.jsx(Af,{size:20,className:"text-emerald-500"}),headerAction:m.jsxs("div",{className:"relative",children:[m.jsx(Fb,{size:16,className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400"}),m.jsx("input",{type:"text",placeholder:" ...",className:"bg-slate-50 border border-slate-200 rounded-xl py-2 pr-10 pl-4 text-xs outline-none focus:ring-4 focus:ring-blue-500/10 focus:border-blue-500 w-48 transition-all",value:t,onChange:h=>i(h.target.value)})]}),children:m.jsx("div",{className:"divide-y divide-slate-100 bg-white min-h-[400px]",children:u.length===0?m.jsxs("div",{className:"py-24 text-center text-slate-300",children:[m.jsx(bf,{size:48,className:"mx-auto mb-4 opacity-20"}),m.jsx("p",{className:"text-sm font-bold",children:" "}),m.jsx("p",{className:"text-xs mt-1",children:"      "})]}):u.map(h=>m.jsxs("div",{className:"p-5 flex items-center hover:bg-slate-50 group animate-fade-in transition-colors",children:[m.jsx("div",{className:"w-8 h-8 bg-emerald-100 text-emerald-600 rounded-lg flex items-center justify-center shrink-0",children:m.jsx(Af,{size:16})}),m.jsxs("div",{className:"flex-1 text-right mr-4",children:[m.jsx("div",{className:"text-lg font-bold text-slate-400 line-through decoration-slate-300",children:h.text}),m.jsxs("div",{className:"text-[10px] text-slate-400 mt-1 flex items-center gap-2 font-medium",children:[m.jsxs("div",{className:"flex items-center gap-1",children:[m.jsx(tc,{size:10}),"  : ",h.completedAt?new Date(h.completedAt).toLocaleDateString("he-IL"):" "]}),m.jsx("span",{className:"opacity-30",children:"|"}),m.jsxs("div",{className:"flex items-center gap-1",children:[" : ",m.jsx(bi,{category:h.category})]}),h.originalCategory&&m.jsxs("div",{className:"flex items-center gap-1 text-[9px] opacity-60",children:["(: ",h.originalCategory,")"]})]})]}),m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsxs("button",{onClick:()=>d(h.id),className:"flex items-center gap-2 px-4 py-2 bg-blue-50 text-blue-600 hover:bg-blue-600 hover:text-white rounded-xl transition-all text-xs font-bold border border-blue-100 shadow-sm",title:` ${h.category===te.MAIN?r:h.category}`,children:[m.jsx(aM,{size:14}),m.jsx("span",{children:""})]}),m.jsx("button",{onClick:()=>p(h.id),className:"p-2.5 text-slate-300 hover:text-rose-500 hover:bg-rose-50 rounded-xl transition-all border border-transparent hover:border-rose-100",title:"  ",children:m.jsx(Qt,{size:18})})]})]},h.id))})})})]})},e8=()=>{const[n,e]=j.useState(()=>localStorage.getItem("guide_video_url")||"https://www.youtube.com/embed/dQw4w9WgXcQ"),[t,i]=j.useState(!1),[r,a]=j.useState(n),u=()=>{let p=r;r.includes("watch?v=")?p=r.replace("watch?v=","embed/"):r.includes("youtu.be/")&&(p=r.replace("youtu.be/","youtube.com/embed/")),e(p),localStorage.setItem("guide_video_url",p),i(!1)},d=[{icon:m.jsx(jo,{className:"text-amber-500"}),title:" ",desc:"   .   (, , )     -    ?"},{icon:m.jsx(Mo,{className:"text-blue-500"}),title:" ",desc:"      :  ,     .       ."},{icon:m.jsx(sc,{className:"text-emerald-500"}),title:" ",desc:"   ' '          ."},{icon:m.jsx(Hb,{className:"text-indigo-500"}),title:" ",desc:"  -(+)       ' '      ."}];return m.jsxs("div",{className:"pb-24 space-y-10 animate-fade-in text-right",dir:"rtl",children:[m.jsxs("div",{className:"flex items-center gap-5 border-b border-slate-200/60 pb-8",children:[m.jsx("div",{className:"w-16 h-16 bg-emerald-50 text-emerald-600 rounded-2xl flex items-center justify-center shadow-sm",children:m.jsx(Cb,{size:32})}),m.jsxs("div",{className:"flex-1",children:[m.jsx("h1",{className:"text-4xl font-bold text-slate-800 tracking-tight",children:"  "}),m.jsx("p",{className:"text-slate-500 text-lg mt-1 font-light",children:"       ."})]}),m.jsxs(ec,{to:"/",className:"text-sm font-bold text-slate-400 flex items-center gap-1 hover:text-blue-600 transition-colors",children:[" ",m.jsx(HR,{size:16,className:"rotate-180"})]})]}),m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8",children:[m.jsxs("div",{className:"lg:col-span-7 space-y-6",children:[m.jsx($t,{id:"guide_video",title:" ",icon:m.jsx(tM,{size:20,className:"text-rose-500"}),children:m.jsxs("div",{className:"p-4",children:[m.jsx("div",{className:"relative aspect-video rounded-2xl overflow-hidden bg-slate-900 shadow-2xl",children:m.jsx("iframe",{src:n,title:" ",className:"absolute inset-0 w-full h-full border-0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})}),m.jsxs("div",{className:"mt-4 flex justify-between items-center",children:[m.jsx("p",{className:"text-xs text-slate-400",children:"       ."}),t?m.jsxs("div",{className:"flex gap-2",children:[m.jsx("input",{type:"text",value:r,onChange:p=>a(p.target.value),placeholder:" ...",className:"text-xs p-1 border border-slate-200 rounded outline-none w-48"}),m.jsx("button",{onClick:u,className:"text-xs bg-blue-600 text-white px-2 py-1 rounded",children:""}),m.jsx("button",{onClick:()=>i(!1),className:"text-xs bg-slate-100 px-2 py-1 rounded",children:""})]}):m.jsx("button",{onClick:()=>i(!0),className:"text-xs text-blue-500 hover:underline",children:"  "})]})]})}),m.jsx($t,{id:"guide_tips",title:"  ",icon:m.jsx(ic,{size:20,className:"text-amber-500"}),children:m.jsxs("div",{className:"p-6 space-y-4",children:[m.jsxs("div",{className:"flex gap-4 items-start",children:[m.jsx("div",{className:"bg-blue-50 text-blue-600 p-2 rounded-lg shrink-0",children:m.jsx(nc,{size:18})}),m.jsxs("div",{children:[m.jsx("h4",{className:"font-bold text-slate-800 text-sm",children:"  "}),m.jsx("p",{className:"text-xs text-slate-500 leading-relaxed mt-1",children:"      ,     ( )   ."})]})]}),m.jsxs("div",{className:"flex gap-4 items-start",children:[m.jsx("div",{className:"bg-amber-50 text-amber-600 p-2 rounded-lg shrink-0",children:m.jsx(B2,{size:18})}),m.jsxs("div",{children:[m.jsx("h4",{className:"font-bold text-slate-800 text-sm",children:"  "}),m.jsx("p",{className:"text-xs text-slate-500 leading-relaxed mt-1",children:"' -AI   .              ."})]})]}),m.jsxs("div",{className:"flex gap-4 items-start",children:[m.jsx("div",{className:"bg-emerald-50 text-emerald-600 p-2 rounded-lg shrink-0",children:m.jsx(rg,{size:18})}),m.jsxs("div",{children:[m.jsx("h4",{className:"font-bold text-slate-800 text-sm",children:" "}),m.jsx("p",{className:"text-xs text-slate-500 leading-relaxed mt-1",children:"  ?          ( )   ."})]})]})]})})]}),m.jsx("div",{className:"lg:col-span-5 space-y-6",children:m.jsxs("div",{className:"bg-white rounded-[2rem] border border-slate-200 p-8 shadow-sm",children:[m.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[m.jsx(Ab,{className:"text-blue-600",size:24}),m.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:""})]}),m.jsxs("p",{className:"text-slate-600 leading-relaxed mb-8",children:["  ",m.jsx("strong",{children:" "}),"       .    ,      -  ."]}),m.jsx("div",{className:"space-y-8 relative before:absolute before:right-[15px] before:top-2 before:bottom-2 before:w-[2px] before:bg-slate-100",children:d.map((p,h)=>m.jsxs("div",{className:"relative pr-10",children:[m.jsx("div",{className:"absolute right-0 top-0 w-8 h-8 bg-white border-2 border-slate-100 rounded-full flex items-center justify-center z-10 shadow-sm group-hover:border-blue-500 transition-colors",children:p.icon}),m.jsx("h3",{className:"font-bold text-slate-800 text-lg mb-1",children:p.title}),m.jsx("p",{className:"text-slate-500 text-sm leading-relaxed",children:p.desc})]},h))}),m.jsxs("div",{className:"mt-10 p-6 bg-gradient-to-br from-slate-900 to-slate-800 rounded-2xl text-white",children:[m.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[m.jsx(Vb,{size:20,className:"text-blue-400"}),m.jsx("h4",{className:"font-bold",children:"  "})]}),m.jsx("p",{className:"text-xs text-slate-300 leading-relaxed",children:"       -3          ."})]}),m.jsx("div",{className:"mt-6 p-4 border-2 border-dashed border-slate-200 rounded-2xl",children:m.jsx("p",{className:"text-xs text-slate-400 text-center italic",children:'"     -       .     ."'})}),m.jsx("div",{className:"mt-8 text-center",children:m.jsx("p",{className:"text-lg font-bold text-blue-600 animate-pulse",children:"  !"})})]})})]})]})},t8=()=>{const[n,e]=j.useState([]),[t,i]=j.useState(!0),[r,a]=j.useState(""),[u,d]=j.useState(null);j.useEffect(()=>{const E=gC(aC(Ur,"users"),yC("status","==","pending")),T=Pg(E,A=>{const V=A.docs.map(w=>({id:w.id,...w.data()})).sort((w,z)=>new Date(z.createdAt).getTime()-new Date(w.createdAt).getTime());e(V),i(!1)},A=>{console.error("Error fetching pending users:",A),i(!1)});return()=>T()},[]);const p=async E=>{if(!u){d(E);try{const T=sl(Ur,"users",E);await _C(T,{status:"approved",approvedAt:new Date().toISOString()})}catch(T){console.error(T),alert("  .     .")}finally{d(null)}}},h=async E=>{if(window.confirm("      ?    .")){d(E);try{await g5(sl(Ur,"users",E))}catch(T){console.error(T),alert("  .")}finally{d(null)}}},v=n.filter(E=>{var T,A,M;return((T=E.fullName)==null?void 0:T.toLowerCase().includes(r.toLowerCase()))||((A=E.email)==null?void 0:A.toLowerCase().includes(r.toLowerCase()))||((M=E.referral)==null?void 0:M.toLowerCase().includes(r.toLowerCase()))});return m.jsxs("div",{className:"space-y-8 animate-fade-in text-right pb-20",dir:"rtl",children:[m.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-6 border-b border-slate-200 pb-8",children:[m.jsxs("div",{className:"flex items-center gap-5",children:[m.jsx("div",{className:"w-16 h-16 bg-blue-600 text-white rounded-2xl flex items-center justify-center shadow-xl shadow-blue-500/20",children:m.jsx(og,{size:32})}),m.jsxs("div",{children:[m.jsx("h1",{className:"text-4xl font-bold text-slate-800 tracking-tight",children:" "}),m.jsx("p",{className:"text-slate-500 text-lg mt-1 font-light",children:"   (  )"})]})]}),m.jsxs("div",{className:"bg-white px-6 py-4 rounded-2xl border border-slate-200 shadow-sm flex items-center gap-4",children:[m.jsx("div",{className:"w-12 h-12 bg-amber-50 text-amber-600 rounded-xl flex items-center justify-center",children:m.jsx(Mb,{size:24,className:n.length>0?"animate-pulse":""})}),m.jsxs("div",{children:[m.jsx("div",{className:"text-slate-400 text-[10px] font-black uppercase tracking-widest mb-0.5",children:" "}),m.jsx("div",{className:"text-3xl font-black text-slate-800",children:n.length})]})]})]}),m.jsx($t,{id:"admin_users_list",title:" ",icon:m.jsx(Rb,{size:20,className:"text-blue-500"}),headerAction:m.jsxs("div",{className:"relative",children:[m.jsx(Fb,{size:16,className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400"}),m.jsx("input",{type:"text",placeholder:"...",className:"bg-slate-50 border border-slate-200 rounded-xl py-2 pr-10 pl-4 text-xs outline-none focus:ring-4 focus:ring-blue-500/10 focus:border-blue-500 w-48 transition-all",value:r,onChange:E=>a(E.target.value)})]}),children:t?m.jsxs("div",{className:"p-20 flex flex-col items-center justify-center gap-4",children:[m.jsx(qu,{className:"animate-spin text-blue-600",size:32}),m.jsx("p",{className:"text-slate-400 font-bold",children:" ..."})]}):m.jsxs("div",{className:"p-2",children:[m.jsx(us,{data:v,columns:[{header:" ",accessor:E=>m.jsxs("div",{className:"flex flex-col",children:[m.jsx("span",{className:"font-bold text-slate-800",children:E.fullName}),m.jsx("span",{className:"text-[10px] text-slate-400",children:E.email})]})},{header:"",accessor:E=>m.jsx("span",{className:"text-xs font-mono",children:E.phone})},{header:"",accessor:E=>m.jsx("span",{className:"bg-slate-100 px-2 py-1 rounded text-[11px] font-bold text-slate-600",children:E.referral})},{header:m.jsx("div",{className:"text-center",children:""}),accessor:E=>m.jsxs("div",{className:"flex items-center justify-center gap-2",children:[m.jsxs("button",{disabled:u!==null,onClick:()=>p(E.id),className:"bg-emerald-500 text-white hover:bg-emerald-600 px-4 py-2 rounded-xl transition-all flex items-center gap-2 text-xs font-bold disabled:opacity-50",children:[u===E.id?m.jsx(qu,{size:14,className:"animate-spin"}):m.jsx(LM,{size:14}),""]}),m.jsx("button",{disabled:u!==null,onClick:()=>h(E.id),className:"bg-slate-100 text-slate-400 hover:bg-rose-500 hover:text-white p-2 rounded-xl transition-all",children:m.jsx(zM,{size:16})})]}),width:"180px"}]}),v.length===0&&!t&&m.jsxs("div",{className:"py-20 text-center",children:[m.jsx(nc,{size:48,className:"mx-auto text-emerald-100 mb-4"}),m.jsx("p",{className:"text-slate-400 font-bold",children:"   "})]})]})})]})},ib=[" "," 504","  "," 8200"," ",""],sb=()=>{const[n,e]=j.useState(!0),[t,i]=j.useState(!1),[r,a]=j.useState(""),[u,d]=j.useState(!1),[p,h]=j.useState(!0),[v,E]=j.useState(""),[T,A]=j.useState(""),[M,V]=j.useState(""),[w,z]=j.useState(""),[G,q]=j.useState(ib[0]),W=async B=>{B.preventDefault(),i(!0),a(""),d(!1);try{if(n){await MP(br,p?RA:gy);const L=(await RP(br,v,T)).user,P=await p5(sl(Ur,"users",L.uid));if(P.exists()){const I=P.data(),N=I.role==="admin",D=I.status==="approved";if(!N&&!D){await ff(br),a("   .     ."),i(!1);return}}else a("    .   ."),await ff(br)}else{const U=(await NP(br,v,T)).user;await m5(sl(Ur,"users",U.uid),{uid:U.uid,email:v.toLowerCase(),fullName:M,phone:w,referral:G,status:"pending",role:"user",createdAt:new Date().toISOString()}),await ff(br),d(!0)}}catch(ae){console.error(ae),ae.code==="auth/invalid-credential"?a("   "):ae.code==="auth/email-already-in-use"?a("    "):a("  .   .")}finally{i(!1)}};return m.jsxs("div",{className:"min-h-screen bg-[#0f172a] flex items-center justify-center p-4 overflow-hidden relative",dir:"rtl",children:[m.jsx("div",{className:"absolute top-0 right-0 w-[600px] h-[600px] bg-blue-600/10 rounded-full blur-[120px] -mr-48 -mt-48"}),m.jsx("div",{className:"absolute bottom-0 left-0 w-[600px] h-[600px] bg-indigo-600/10 rounded-full blur-[120px] -ml-48 -mb-48"}),m.jsxs("div",{className:"w-full max-w-md animate-fade-in relative z-10",children:[m.jsxs("div",{className:"text-center mb-8",children:[m.jsxs("div",{className:"relative w-32 h-32 mx-auto mb-6 flex items-center justify-center",children:[m.jsx("div",{className:"absolute top-0 w-16 h-16 bg-blue-500/30 rounded-full border border-blue-400/20 backdrop-blur-sm transform translate-y-1"}),m.jsx("div",{className:"absolute bottom-2 left-2 w-16 h-16 bg-indigo-600/30 rounded-full border border-indigo-400/20 backdrop-blur-sm transform -translate-x-1"}),m.jsx("div",{className:"absolute bottom-2 right-2 w-16 h-16 bg-purple-600/30 rounded-full border border-purple-400/20 backdrop-blur-sm transform translate-x-1"}),m.jsx("div",{className:"relative z-10 p-4 bg-white/10 rounded-full backdrop-blur-md border border-white/20 shadow-xl",children:m.jsx(jo,{size:32,className:"text-white drop-shadow-glow"})})]}),m.jsx("h1",{className:"text-4xl font-black text-white tracking-tight",children:" "}),m.jsx("p",{className:"text-slate-400 mt-3 font-medium text-lg leading-relaxed",children:"   "})]}),m.jsxs("div",{className:"bg-white/95 backdrop-blur-xl rounded-[2.5rem] shadow-2xl overflow-hidden border border-white/20",children:[!u&&m.jsxs("div",{className:"flex p-2 bg-slate-100/50 m-6 mb-0 rounded-2xl",children:[m.jsx("button",{onClick:()=>{e(!0),a("")},className:`flex-1 py-3 text-sm font-bold rounded-xl transition-all ${n?"bg-white text-blue-600 shadow-sm":"text-slate-500 hover:text-slate-700"}`,children:""}),m.jsx("button",{onClick:()=>{e(!1),a("")},className:`flex-1 py-3 text-sm font-bold rounded-xl transition-all ${n?"text-slate-500 hover:text-slate-700":"bg-white text-blue-600 shadow-sm"}`,children:""})]}),m.jsx("div",{className:"p-8 pt-6",children:u?m.jsxs("div",{className:"py-6 text-center animate-fade-in",children:[m.jsx("div",{className:"w-20 h-20 bg-emerald-100 text-emerald-600 rounded-full flex items-center justify-center mx-auto mb-6 shadow-inner",children:m.jsx(Af,{size:40})}),m.jsx("h3",{className:"text-2xl font-bold text-slate-800",children:" !"}),m.jsxs("p",{className:"text-slate-600 mt-4 leading-relaxed font-medium",children:["    . ",m.jsx("br",{}),m.jsx("span",{className:"text-blue-600 font-bold text-lg",children:"   ."})]}),m.jsx("button",{onClick:()=>{d(!1),e(!0)},className:"mt-8 w-full bg-slate-900 text-white py-4 rounded-2xl font-bold hover:bg-slate-800 transition-all shadow-lg",children:" "})]}):m.jsxs("form",{onSubmit:W,className:"space-y-4",children:[r&&m.jsxs("div",{className:"bg-rose-50 text-rose-600 p-4 rounded-2xl text-sm font-bold border border-rose-100 flex items-center gap-3 animate-shake",children:[m.jsx(vM,{size:18,className:"shrink-0"}),m.jsx("span",{children:r})]}),!n&&m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"space-y-1.5",children:[m.jsx("label",{className:"text-xs font-bold text-slate-400 mr-1 uppercase",children:" "}),m.jsxs("div",{className:"relative",children:[m.jsx(Cf,{size:18,className:"absolute right-4 top-1/2 -translate-y-1/2 text-slate-400"}),m.jsx("input",{required:!0,type:"text",value:M,onChange:B=>V(B.target.value),className:"w-full bg-slate-50 border border-slate-200 rounded-2xl py-3.5 pr-12 pl-4 outline-none focus:ring-4 focus:ring-blue-500/10 focus:border-blue-500 transition-all text-sm font-medium",placeholder:" "})]})]}),m.jsxs("div",{className:"space-y-1.5",children:[m.jsx("label",{className:"text-xs font-bold text-slate-400 mr-1 uppercase",children:""}),m.jsxs("div",{className:"relative",children:[m.jsx(Z2,{size:18,className:"absolute right-4 top-1/2 -translate-y-1/2 text-slate-400"}),m.jsx("input",{required:!0,type:"tel",value:w,onChange:B=>z(B.target.value),className:"w-full bg-slate-50 border border-slate-200 rounded-2xl py-3.5 pr-12 pl-4 outline-none focus:ring-4 focus:ring-blue-500/10 focus:border-blue-500 transition-all text-sm font-medium",placeholder:"050-0000000"})]})]})]}),m.jsxs("div",{className:"space-y-1.5",children:[m.jsx("label",{className:"text-xs font-bold text-slate-400 mr-1 uppercase",children:""}),m.jsxs("div",{className:"relative",children:[m.jsx(Lb,{size:18,className:"absolute right-4 top-1/2 -translate-y-1/2 text-slate-400"}),m.jsx("input",{required:!0,type:"email",value:v,onChange:B=>E(B.target.value),className:"w-full bg-slate-50 border border-slate-200 rounded-2xl py-3.5 pr-12 pl-4 outline-none focus:ring-4 focus:ring-blue-500/10 focus:border-blue-500 transition-all text-sm font-medium",placeholder:"name@company.com"})]})]}),m.jsxs("div",{className:"space-y-1.5",children:[m.jsx("label",{className:"text-xs font-bold text-slate-400 mr-1 uppercase",children:""}),m.jsxs("div",{className:"relative",children:[m.jsx(k2,{size:18,className:"absolute right-4 top-1/2 -translate-y-1/2 text-slate-400"}),m.jsx("input",{required:!0,type:"password",value:T,onChange:B=>A(B.target.value),className:"w-full bg-slate-50 border border-slate-200 rounded-2xl py-3.5 pr-12 pl-4 outline-none focus:ring-4 focus:ring-blue-500/10 focus:border-blue-500 transition-all text-sm font-medium",placeholder:""})]})]}),n&&m.jsx("div",{className:"flex items-center gap-2 pt-1",children:m.jsxs("label",{className:"flex items-center gap-2 cursor-pointer group",children:[m.jsxs("div",{className:"relative flex items-center justify-center",children:[m.jsx("input",{type:"checkbox",checked:p,onChange:B=>h(B.target.checked),className:"appearance-none w-5 h-5 border-2 border-slate-200 rounded-lg bg-white checked:bg-blue-600 checked:border-blue-600 transition-all cursor-pointer"}),p&&m.jsx(Fo,{size:12,className:"absolute text-white pointer-events-none",strokeWidth:4})]}),m.jsx("span",{className:"text-sm font-bold text-slate-500 group-hover:text-slate-700 transition-colors",children:" "})]})}),!n&&m.jsxs("div",{className:"space-y-1.5",children:[m.jsx("label",{className:"text-xs font-bold text-slate-400 mr-1 uppercase",children:" "}),m.jsxs("div",{className:"relative",children:[m.jsx(Pb,{size:18,className:"absolute right-4 top-1/2 -translate-y-1/2 text-slate-400 pointer-events-none"}),m.jsx("select",{value:G,onChange:B=>q(B.target.value),className:"w-full bg-slate-50 border border-slate-200 rounded-2xl py-3.5 pr-12 pl-4 outline-none focus:ring-4 focus:ring-blue-500/10 focus:border-blue-500 transition-all text-sm font-bold appearance-none cursor-pointer",children:ib.map(B=>m.jsx("option",{value:B,children:B},B))})]})]}),m.jsxs("button",{disabled:t,type:"submit",className:"w-full bg-slate-900 hover:bg-blue-600 text-white py-4 rounded-2xl font-bold shadow-xl transition-all flex items-center justify-center gap-3 mt-6 disabled:opacity-70 group active:scale-95",children:[t?m.jsx(qu,{size:20,className:"animate-spin"}):n?m.jsx(L2,{size:20}):m.jsx(UM,{size:20}),m.jsx("span",{className:"text-lg",children:n?" ":"  "})]})]})})]}),m.jsxs("div",{className:"mt-8 text-center text-slate-500 text-sm font-medium",children:[" ",new Date().getFullYear()," Life OS -  "]})]})]})},n8=({children:n})=>{const{currentUser:e,userProfile:t,loading:i}=bh();return i?m.jsx("div",{className:"min-h-screen flex items-center justify-center bg-[#0f172a]",children:m.jsxs("div",{className:"text-center space-y-6 animate-fade-in",children:[m.jsxs("div",{className:"relative w-24 h-24 mx-auto flex items-center justify-center",children:[m.jsx("div",{className:"absolute inset-0 border-4 border-blue-500/20 rounded-full"}),m.jsx("div",{className:"absolute inset-0 border-4 border-blue-500 rounded-full border-t-transparent animate-spin"}),m.jsx(jo,{className:"text-blue-500 w-8 h-8"})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx("p",{className:"text-white text-xl font-black tracking-tight",children:" "}),m.jsx("p",{className:"text-blue-100/40 text-sm font-medium animate-pulse",children:"  ..."})]})]})}):e?(t==null?void 0:t.role)==="admin"||(t==null?void 0:t.status)==="approved"?m.jsx(m.Fragment,{children:n}):m.jsx(sb,{}):m.jsx(sb,{})},i8=({children:n})=>{const{userProfile:e,loading:t}=bh();return t?null:(e==null?void 0:e.role)!=="admin"?m.jsx(ng,{to:"/",replace:!0}):m.jsx(m.Fragment,{children:n})};function s8(){return m.jsx(v5,{children:m.jsx(wR,{children:m.jsx(iR,{children:m.jsxs(si,{path:"/",element:m.jsx(n8,{children:m.jsx(Uj,{})}),children:[m.jsx(si,{index:!0,element:m.jsx(Hj,{})}),m.jsx(si,{path:"personal",element:m.jsx($j,{})}),m.jsx(si,{path:"occupational",element:m.jsx(Kj,{})}),m.jsx(si,{path:"financial",element:m.jsx(Yj,{})}),m.jsx(si,{path:"strategy",element:m.jsx(Qj,{})}),m.jsx(si,{path:"archive",element:m.jsx(Zj,{})}),m.jsx(si,{path:"guide",element:m.jsx(e8,{})}),m.jsx(si,{path:"admin",element:m.jsx(ng,{to:"/admin/users",replace:!0})}),m.jsx(si,{path:"admin/users",element:m.jsx(i8,{children:m.jsx(t8,{})})}),m.jsx(si,{path:"*",element:m.jsx(ng,{to:"/",replace:!0})})]})})})})}"serviceWorker"in navigator&&window.addEventListener("load",()=>{const n=new URL("./sw.js",window.location.href).href;navigator.serviceWorker.register(n).then(e=>console.log("Service Worker registered successfully",e.scope)).catch(e=>{e.name==="SecurityError"||e.message.includes("origin")?console.warn("Service Worker registration skipped: Running in a sandboxed or cross-origin environment."):console.error("Service Worker registration failed:",e)})});const mw=document.getElementById("root");if(!mw)throw new Error("Could not find root element to mount to");const r8=iN.createRoot(mw);r8.render(m.jsx(YI.StrictMode,{children:m.jsx(s8,{})}));
